(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70154,96143,93184,19184,31305,74352,10197,44243,39087,89101,28841,e=>{"use strict";let t,r,i,s,n,a;e.i(54477);var o={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},l=new class{#e=o;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}};function u(e){setTimeout(e,0)}e.s(["systemSetTimeoutZero",()=>u,"timeoutManager",()=>l],96143);var c="u"<typeof window||"Deno"in globalThis;function d(){}function h(e,t){return"function"==typeof e?e(t):e}function p(e){return"number"==typeof e&&e>=0&&e!==1/0}function m(e,t){return Math.max(e+(t||0)-Date.now(),0)}function f(e,t){return"function"==typeof e?e(t):e}function g(e,t){return"function"==typeof e?e(t):e}function y(e,t){let{type:r="all",exact:i,fetchStatus:s,predicate:n,queryKey:a,stale:o}=e;if(a){if(i){if(t.queryHash!==b(a,t.options))return!1}else if(!w(t.queryKey,a))return!1}if("all"!==r){let e=t.isActive();if("active"===r&&!e||"inactive"===r&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&(!s||s===t.state.fetchStatus)&&(!n||!!n(t))}function v(e,t){let{exact:r,status:i,predicate:s,mutationKey:n}=e;if(n){if(!t.options.mutationKey)return!1;if(r){if(x(t.options.mutationKey)!==x(n))return!1}else if(!w(t.options.mutationKey,n))return!1}return(!i||t.state.status===i)&&(!s||!!s(t))}function b(e,t){return(t?.queryKeyHashFn||x)(e)}function x(e){return JSON.stringify(e,(e,t)=>_(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function w(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&Object.keys(t).every(r=>w(e[r],t[r]))}var k=Object.prototype.hasOwnProperty;function S(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}function j(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function _(e){if(!T(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!!T(r)&&!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype}function T(e){return"[object Object]"===Object.prototype.toString.call(e)}function E(e){return new Promise(t=>{l.setTimeout(t,e)})}function P(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?function e(t,r,i=0){if(t===r)return t;if(i>500)return r;let s=j(t)&&j(r);if(!s&&!(_(t)&&_(r)))return r;let n=(s?t:Object.keys(t)).length,a=s?r:Object.keys(r),o=a.length,l=s?Array(o):{},u=0;for(let c=0;c<o;c++){let o=s?c:a[c],d=t[o],h=r[o];if(d===h){l[o]=d,(s?c<n:k.call(t,o))&&u++;continue}if(null===d||null===h||"object"!=typeof d||"object"!=typeof h){l[o]=h;continue}let p=e(d,h,i+1);l[o]=p,p===d&&u++}return n===o&&u===n?t:l}(e,t):t}function C(e,t,r=0){let i=[...e,t];return r&&i.length>r?i.slice(1):i}function M(e,t,r=0){let i=[t,...e];return r&&i.length>r?i.slice(0,-1):i}var A=Symbol();function R(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==A?e.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${e.queryHash}'`))}function N(e,t){return"function"==typeof e?e(...t):!!e}function D(e,t,r){let i,s=!1;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??=t(),s||(s=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),e}e.s(["addConsumeAwareSignal",()=>D,"addToEnd",()=>C,"addToStart",()=>M,"ensureQueryFn",()=>R,"functionalUpdate",()=>h,"hashKey",()=>x,"hashQueryKeyByOptions",()=>b,"isServer",()=>c,"isValidTimeout",()=>p,"matchMutation",()=>v,"matchQuery",()=>y,"noop",()=>d,"partialMatchKey",()=>w,"replaceData",()=>P,"resolveEnabled",()=>g,"resolveStaleTime",()=>f,"shallowEqualObjects",()=>S,"shouldThrowError",()=>N,"skipToken",()=>A,"sleep",()=>E,"timeUntilStale",()=>m],70154);var O=(t=[],r=0,i=e=>{e()},s=e=>{e()},n=u,{batch:e=>{let a;r++;try{a=e()}finally{let e;--r||(e=t,t=[],e.length&&n(()=>{s(()=>{e.forEach(e=>{i(e)})})}))}return a},batchCalls:e=>(...t)=>{a(()=>{e(...t)})},schedule:a=e=>{r?t.push(e):n(()=>{i(e)})},setNotifyFunction:e=>{i=e},setBatchNotifyFunction:e=>{s=e},setScheduler:e=>{n=e}});e.s(["notifyManager",()=>O],93184);var V=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}};e.s(["Subscribable",()=>V],19184);var I=new class extends V{#r;#i;#s;constructor(){super(),this.#s=e=>{if(!c&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#i||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#i?.(),this.#i=void 0)}setEventListener(e){this.#s=e,this.#i?.(),this.#i=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#r!==e&&(this.#r=e,this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#r?this.#r:globalThis.document?.visibilityState!=="hidden"}};e.s(["focusManager",()=>I],31305);var L=new class extends V{#n=!0;#i;#s;constructor(){super(),this.#s=e=>{if(!c&&window.addEventListener){let t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#i||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#i?.(),this.#i=void 0)}setEventListener(e){this.#s=e,this.#i?.(),this.#i=e(this.setOnline.bind(this))}setOnline(e){this.#n!==e&&(this.#n=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#n}};function F(){let e,t,r=new Promise((r,i)=>{e=r,t=i});function i(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch(()=>{}),r.resolve=t=>{i({status:"fulfilled",value:t}),e(t)},r.reject=e=>{i({status:"rejected",reason:e}),t(e)},r}function z(e){return Math.min(1e3*2**e,3e4)}function B(e){return(e??"online")!=="online"||L.isOnline()}e.s(["onlineManager",()=>L],74352),e.s(["pendingThenable",()=>F],10197);var U=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function q(e){let t,r=!1,i=0,s=F(),n=()=>I.isFocused()&&("always"===e.networkMode||L.isOnline())&&e.canRun(),a=()=>B(e.networkMode)&&e.canRun(),o=e=>{"pending"===s.status&&(t?.(),s.resolve(e))},l=e=>{"pending"===s.status&&(t?.(),s.reject(e))},u=()=>new Promise(r=>{t=e=>{("pending"!==s.status||n())&&r(e)},e.onPause?.()}).then(()=>{t=void 0,"pending"===s.status&&e.onContinue?.()}),d=()=>{let t;if("pending"!==s.status)return;let a=0===i?e.initialPromise:void 0;try{t=a??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(o).catch(t=>{if("pending"!==s.status)return;let a=e.retry??3*!c,o=e.retryDelay??z,h="function"==typeof o?o(i,t):o,p=!0===a||"number"==typeof a&&i<a||"function"==typeof a&&a(i,t);r||!p?l(t):(i++,e.onFail?.(i,t),E(h).then(()=>n()?void 0:u()).then(()=>{r?l(t):d()}))})};return{promise:s,status:()=>s.status,cancel:t=>{if("pending"===s.status){let r=new U(t);l(r),e.onCancel?.(r)}},continue:()=>(t?.(),s),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:a,start:()=>(a()?d():u().then(d),s)}}var $=class{#a;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),p(this.gcTime)&&(this.#a=l.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(c?1/0:3e5))}clearGcTimeout(){this.#a&&(l.clearTimeout(this.#a),this.#a=void 0)}},Q=class extends ${#o;#l;#u;#c;#d;#h;#p;constructor(e){super(),this.#p=!1,this.#h=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#c=e.client,this.#u=this.#c.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#o=Y(this.options),this.state=e.state??this.#o,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#d?.promise}setOptions(e){if(this.options={...this.#h,...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){let e=Y(this.options);void 0!==e.data&&(this.setState(W(e.data,e.dataUpdatedAt)),this.#o=e)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#u.remove(this)}setData(e,t){let r=P(this.state.data,e,this.options);return this.#m({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#m({type:"setState",state:e,setStateOptions:t})}cancel(e){let t=this.#d?.promise;return this.#d?.cancel(e),t?t.then(d).catch(d):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#o)}isActive(){return this.observers.some(e=>!1!==g(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===A||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===f(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!m(this.state.dataUpdatedAt,e))}onFocus(){let e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#d?.continue()}onOnline(){let e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#d?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#u.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#d&&(this.#p?this.#d.cancel({revert:!0}):this.#d.cancelRetry()),this.scheduleGc()),this.#u.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#m({type:"invalidate"})}async fetch(e,t){let r;if("idle"!==this.state.fetchStatus&&this.#d?.status()!=="rejected"){if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#d)return this.#d.continueRetry(),this.#d.promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}let i=new AbortController,s=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#p=!0,i.signal)})},n=()=>{let e,r=R(this.options,t),i=(s(e={client:this.#c,queryKey:this.queryKey,meta:this.meta}),e);return(this.#p=!1,this.options.persister)?this.options.persister(r,i,this):r(i)},a=(s(r={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#c,state:this.state,fetchFn:n}),r);this.options.behavior?.onFetch(a,this),this.#l=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#m({type:"fetch",meta:a.fetchOptions?.meta}),this.#d=q({initialPromise:t?.initialPromise,fn:a.fetchFn,onCancel:e=>{e instanceof U&&e.revert&&this.setState({...this.#l,fetchStatus:"idle"}),i.abort()},onFail:(e,t)=>{this.#m({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#m({type:"pause"})},onContinue:()=>{this.#m({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{let e=await this.#d.start();if(void 0===e)throw Error(`${this.queryHash} data is undefined`);return this.setData(e),this.#u.config.onSuccess?.(e,this),this.#u.config.onSettled?.(e,this.state.error,this),e}catch(e){if(e instanceof U){if(e.silent)return this.#d.promise;else if(e.revert){if(void 0===this.state.data)throw e;return this.state.data}}throw this.#m({type:"error",error:e}),this.#u.config.onError?.(e,this),this.#u.config.onSettled?.(this.state.data,e,this),e}finally{this.scheduleGc()}}#m(e){let t=t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...K(t.data,this.options),fetchMeta:e.meta??null};case"success":let r={...t,...W(e.data,e.dataUpdatedAt),dataUpdateCount:t.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#l=e.manual?r:void 0,r;case"error":let i=e.error;return{...t,error:i,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}};this.state=t(this.state),O.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#u.notify({query:this,type:"updated",action:e})})}};function K(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:B(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}function W(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Y(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,i=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}e.s(["Query",()=>Q,"fetchState",()=>K],44243);var H=class extends ${#c;#f;#g;#d;constructor(e){super(),this.#c=e.client,this.mutationId=e.mutationId,this.#g=e.mutationCache,this.#f=[],this.state=e.state||G(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#f.includes(e)||(this.#f.push(e),this.clearGcTimeout(),this.#g.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#f=this.#f.filter(t=>t!==e),this.scheduleGc(),this.#g.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#f.length||("pending"===this.state.status?this.scheduleGc():this.#g.remove(this))}continue(){return this.#d?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#m({type:"continue"})},r={client:this.#c,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#d=q({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#m({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#m({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#g.canRun(this)});let i="pending"===this.state.status,s=!this.#d.canStart();try{if(i)t();else{this.#m({type:"pending",variables:e,isPaused:s}),this.#g.config.onMutate&&await this.#g.config.onMutate(e,this,r);let t=await this.options.onMutate?.(e,r);t!==this.state.context&&this.#m({type:"pending",context:t,variables:e,isPaused:s})}let n=await this.#d.start();return await this.#g.config.onSuccess?.(n,e,this.state.context,this,r),await this.options.onSuccess?.(n,e,this.state.context,r),await this.#g.config.onSettled?.(n,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(n,null,e,this.state.context,r),this.#m({type:"success",data:n}),n}catch(t){try{await this.#g.config.onError?.(t,e,this.state.context,this,r)}catch(e){Promise.reject(e)}try{await this.options.onError?.(t,e,this.state.context,r)}catch(e){Promise.reject(e)}try{await this.#g.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this,r)}catch(e){Promise.reject(e)}try{await this.options.onSettled?.(void 0,t,e,this.state.context,r)}catch(e){Promise.reject(e)}throw this.#m({type:"error",error:t}),t}finally{this.#g.runNext(this)}}#m(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),O.batch(()=>{this.#f.forEach(t=>{t.onMutationUpdate(e)}),this.#g.notify({mutation:this,type:"updated",action:e})})}};function G(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}e.s(["Mutation",()=>H,"getDefaultState",()=>G],39087);var X=e.i(10925),J=e.i(60631),Z=X.createContext(void 0),ee=e=>{let t=X.useContext(Z);if(e)return e;if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},et=({client:e,children:t})=>(X.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),(0,J.jsx)(Z.Provider,{value:e,children:t}));e.s(["QueryClientProvider",()=>et,"useQueryClient",()=>ee],89101);var er=e.i(48844);let ei=Array(12).fill(0),es=({visible:e,className:t})=>X.default.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},X.default.createElement("div",{className:"sonner-spinner"},ei.map((e,t)=>X.default.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),en=X.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.default.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ea=X.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},X.default.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),eo=X.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.default.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),el=X.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.default.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),eu=X.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},X.default.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),X.default.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),ec=1,ed=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...i}=e,s="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:ec++,n=this.toasts.find(e=>e.id===s),a=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),n?this.toasts=this.toasts.map(t=>t.id===s?(this.publish({...t,...e,id:s,title:r}),{...t,...e,id:s,dismissible:a,title:r}):t):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{let r,i;if(!t)return;void 0!==t.loading&&(i=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let s=Promise.resolve(e instanceof Function?e():e),n=void 0!==i,a=s.then(async e=>{if(r=["resolve",e],X.default.isValidElement(e))n=!1,this.create({id:i,type:"default",message:e});else if(eh(e)&&!e.ok){n=!1;let r="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,s="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description,a="object"!=typeof r||X.default.isValidElement(r)?{message:r}:r;this.create({id:i,type:"error",description:s,...a})}else if(e instanceof Error){n=!1;let r="function"==typeof t.error?await t.error(e):t.error,s="function"==typeof t.description?await t.description(e):t.description,a="object"!=typeof r||X.default.isValidElement(r)?{message:r}:r;this.create({id:i,type:"error",description:s,...a})}else if(void 0!==t.success){n=!1;let r="function"==typeof t.success?await t.success(e):t.success,s="function"==typeof t.description?await t.description(e):t.description,a="object"!=typeof r||X.default.isValidElement(r)?{message:r}:r;this.create({id:i,type:"success",description:s,...a})}}).catch(async e=>{if(r=["reject",e],void 0!==t.error){n=!1;let r="function"==typeof t.error?await t.error(e):t.error,s="function"==typeof t.description?await t.description(e):t.description,a="object"!=typeof r||X.default.isValidElement(r)?{message:r}:r;this.create({id:i,type:"error",description:s,...a})}}).finally(()=>{n&&(this.dismiss(i),i=void 0),null==t.finally||t.finally.call(t)}),o=()=>new Promise((e,t)=>a.then(()=>"reject"===r[0]?t(r[1]):e(r[1])).catch(t));return"string"!=typeof i&&"number"!=typeof i?{unwrap:o}:Object.assign(i,{unwrap:o})},this.custom=(e,t)=>{let r=(null==t?void 0:t.id)||ec++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},eh=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,ep=Object.assign((e,t)=>{let r=(null==t?void 0:t.id)||ec++;return ed.addToast({title:e,...t,id:r}),r},{success:ed.success,info:ed.info,warning:ed.warning,error:ed.error,custom:ed.custom,message:ed.message,promise:ed.promise,dismiss:ed.dismiss,loading:ed.loading},{getHistory:()=>ed.toasts,getToasts:()=>ed.getActiveToasts()});function em(e){return void 0!==e.label}function ef(...e){return e.filter(Boolean).join(" ")}!function(e){if(!e||"u"<typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");let eg=e=>{var t,r,i,s,n,a,o,l,u,c,d,h,p;let{invert:m,toast:f,unstyled:g,interacting:y,setHeights:v,visibleToasts:b,heights:x,index:w,toasts:k,expanded:S,removeToast:j,defaultRichColors:_,closeButton:T,style:E,cancelButtonStyle:P,actionButtonStyle:C,className:M="",descriptionClassName:A="",duration:R,position:N,gap:D,expandByDefault:O,classNames:V,icons:I,closeButtonAriaLabel:L="Close toast"}=e,[F,z]=X.default.useState(null),[B,U]=X.default.useState(null),[q,$]=X.default.useState(!1),[Q,K]=X.default.useState(!1),[W,Y]=X.default.useState(!1),[H,G]=X.default.useState(!1),[J,Z]=X.default.useState(!1),[ee,et]=X.default.useState(0),[er,ei]=X.default.useState(0),ec=X.default.useRef(f.duration||R||4e3),ed=X.default.useRef(null),eh=X.default.useRef(null),ep=0===w,eg=w+1<=b,ey=f.type,ev=!1!==f.dismissible,eb=f.className||"",ex=f.descriptionClassName||"",ew=X.default.useMemo(()=>x.findIndex(e=>e.toastId===f.id)||0,[x,f.id]),ek=X.default.useMemo(()=>{var e;return null!=(e=f.closeButton)?e:T},[f.closeButton,T]),eS=X.default.useMemo(()=>f.duration||R||4e3,[f.duration,R]),ej=X.default.useRef(0),e_=X.default.useRef(0),eT=X.default.useRef(0),eE=X.default.useRef(null),[eP,eC]=N.split("-"),eM=X.default.useMemo(()=>x.reduce((e,t,r)=>r>=ew?e:e+t.height,0),[x,ew]),eA=(()=>{let[e,t]=X.default.useState(document.hidden);return X.default.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),eR=f.invert||m,eN="loading"===ey;e_.current=X.default.useMemo(()=>ew*D+eM,[ew,eM]),X.default.useEffect(()=>{ec.current=eS},[eS]),X.default.useEffect(()=>{$(!0)},[]),X.default.useEffect(()=>{let e=eh.current;if(e){let t=e.getBoundingClientRect().height;return ei(t),v(e=>[{toastId:f.id,height:t,position:f.position},...e]),()=>v(e=>e.filter(e=>e.toastId!==f.id))}},[v,f.id]),X.default.useLayoutEffect(()=>{if(!q)return;let e=eh.current,t=e.style.height;e.style.height="auto";let r=e.getBoundingClientRect().height;e.style.height=t,ei(r),v(e=>e.find(e=>e.toastId===f.id)?e.map(e=>e.toastId===f.id?{...e,height:r}:e):[{toastId:f.id,height:r,position:f.position},...e])},[q,f.title,f.description,v,f.id,f.jsx,f.action,f.cancel]);let eD=X.default.useCallback(()=>{K(!0),et(e_.current),v(e=>e.filter(e=>e.toastId!==f.id)),setTimeout(()=>{j(f)},200)},[f,j,v,e_]);X.default.useEffect(()=>{let e;if((!f.promise||"loading"!==ey)&&f.duration!==1/0&&"loading"!==f.type){if(S||y||eA){if(eT.current<ej.current){let e=new Date().getTime()-ej.current;ec.current=ec.current-e}eT.current=new Date().getTime()}else ec.current!==1/0&&(ej.current=new Date().getTime(),e=setTimeout(()=>{null==f.onAutoClose||f.onAutoClose.call(f,f),eD()},ec.current));return()=>clearTimeout(e)}},[S,y,f,ey,eA,eD]),X.default.useEffect(()=>{f.delete&&(eD(),null==f.onDismiss||f.onDismiss.call(f,f))},[eD,f.delete]);let eO=f.icon||(null==I?void 0:I[ey])||(e=>{switch(e){case"success":return en;case"info":return eo;case"warning":return ea;case"error":return el;default:return null}})(ey);return X.default.createElement("li",{tabIndex:0,ref:eh,className:ef(M,eb,null==V?void 0:V.toast,null==f||null==(t=f.classNames)?void 0:t.toast,null==V?void 0:V.default,null==V?void 0:V[ey],null==f||null==(r=f.classNames)?void 0:r[ey]),"data-sonner-toast":"","data-rich-colors":null!=(c=f.richColors)?c:_,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":q,"data-promise":!!f.promise,"data-swiped":J,"data-removed":Q,"data-visible":eg,"data-y-position":eP,"data-x-position":eC,"data-index":w,"data-front":ep,"data-swiping":W,"data-dismissible":ev,"data-type":ey,"data-invert":eR,"data-swipe-out":H,"data-swipe-direction":B,"data-expanded":!!(S||O&&q),"data-testid":f.testId,style:{"--index":w,"--toasts-before":w,"--z-index":k.length-w,"--offset":`${Q?ee:e_.current}px`,"--initial-height":O?"auto":`${er}px`,...E,...f.style},onDragEnd:()=>{Y(!1),z(null),eE.current=null},onPointerDown:e=>{2===e.button||eN||!ev||(ed.current=new Date,et(e_.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(Y(!0),eE.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,r,i,s;if(H||!ev)return;eE.current=null;let n=Number((null==(e=eh.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),a=Number((null==(t=eh.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),o=new Date().getTime()-(null==(r=ed.current)?void 0:r.getTime()),l="x"===F?n:a,u=Math.abs(l)/o;if(Math.abs(l)>=45||u>.11){et(e_.current),null==f.onDismiss||f.onDismiss.call(f,f),"x"===F?U(n>0?"right":"left"):U(a>0?"down":"up"),eD(),G(!0);return}null==(i=eh.current)||i.style.setProperty("--swipe-amount-x","0px"),null==(s=eh.current)||s.style.setProperty("--swipe-amount-y","0px"),Z(!1),Y(!1),z(null)},onPointerMove:t=>{var r,i,s,n;if(!eE.current||!ev||(null==(r=window.getSelection())?void 0:r.toString().length)>0)return;let a=t.clientY-eE.current.y,o=t.clientX-eE.current.x,l=null!=(n=e.swipeDirections)?n:function(e){let[t,r]=e.split("-"),i=[];return t&&i.push(t),r&&i.push(r),i}(N);!F&&(Math.abs(o)>1||Math.abs(a)>1)&&z(Math.abs(o)>Math.abs(a)?"x":"y");let u={x:0,y:0},c=e=>1/(1.5+Math.abs(e)/20);if("y"===F){if(l.includes("top")||l.includes("bottom"))if(l.includes("top")&&a<0||l.includes("bottom")&&a>0)u.y=a;else{let e=a*c(a);u.y=Math.abs(e)<Math.abs(a)?e:a}}else if("x"===F&&(l.includes("left")||l.includes("right")))if(l.includes("left")&&o<0||l.includes("right")&&o>0)u.x=o;else{let e=o*c(o);u.x=Math.abs(e)<Math.abs(o)?e:o}(Math.abs(u.x)>0||Math.abs(u.y)>0)&&Z(!0),null==(i=eh.current)||i.style.setProperty("--swipe-amount-x",`${u.x}px`),null==(s=eh.current)||s.style.setProperty("--swipe-amount-y",`${u.y}px`)}},ek&&!f.jsx&&"loading"!==ey?X.default.createElement("button",{"aria-label":L,"data-disabled":eN,"data-close-button":!0,onClick:eN||!ev?()=>{}:()=>{eD(),null==f.onDismiss||f.onDismiss.call(f,f)},className:ef(null==V?void 0:V.closeButton,null==f||null==(i=f.classNames)?void 0:i.closeButton)},null!=(d=null==I?void 0:I.close)?d:eu):null,(ey||f.icon||f.promise)&&null!==f.icon&&((null==I?void 0:I[ey])!==null||f.icon)?X.default.createElement("div",{"data-icon":"",className:ef(null==V?void 0:V.icon,null==f||null==(s=f.classNames)?void 0:s.icon)},f.promise||"loading"===f.type&&!f.icon?f.icon||((null==I?void 0:I.loading)?X.default.createElement("div",{className:ef(null==V?void 0:V.loader,null==f||null==(p=f.classNames)?void 0:p.loader,"sonner-loader"),"data-visible":"loading"===ey},I.loading):X.default.createElement(es,{className:ef(null==V?void 0:V.loader,null==f||null==(h=f.classNames)?void 0:h.loader),visible:"loading"===ey})):null,"loading"!==f.type?eO:null):null,X.default.createElement("div",{"data-content":"",className:ef(null==V?void 0:V.content,null==f||null==(n=f.classNames)?void 0:n.content)},X.default.createElement("div",{"data-title":"",className:ef(null==V?void 0:V.title,null==f||null==(a=f.classNames)?void 0:a.title)},f.jsx?f.jsx:"function"==typeof f.title?f.title():f.title),f.description?X.default.createElement("div",{"data-description":"",className:ef(A,ex,null==V?void 0:V.description,null==f||null==(o=f.classNames)?void 0:o.description)},"function"==typeof f.description?f.description():f.description):null),X.default.isValidElement(f.cancel)?f.cancel:f.cancel&&em(f.cancel)?X.default.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||P,onClick:e=>{!em(f.cancel)||ev&&(null==f.cancel.onClick||f.cancel.onClick.call(f.cancel,e),eD())},className:ef(null==V?void 0:V.cancelButton,null==f||null==(l=f.classNames)?void 0:l.cancelButton)},f.cancel.label):null,X.default.isValidElement(f.action)?f.action:f.action&&em(f.action)?X.default.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||C,onClick:e=>{!em(f.action)||(null==f.action.onClick||f.action.onClick.call(f.action,e),e.defaultPrevented||eD())},className:ef(null==V?void 0:V.actionButton,null==f||null==(u=f.classNames)?void 0:u.actionButton)},f.action.label):null)};function ey(){if("u"<typeof window||"u"<typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}let ev=X.default.forwardRef(function(e,t){let{id:r,invert:i,position:s="bottom-right",hotkey:n=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:u,mobileOffset:c,theme:d="light",richColors:h,duration:p,style:m,visibleToasts:f=3,toastOptions:g,dir:y=ey(),gap:v=14,icons:b,containerAriaLabel:x="Notifications"}=e,[w,k]=X.default.useState([]),S=X.default.useMemo(()=>r?w.filter(e=>e.toasterId===r):w.filter(e=>!e.toasterId),[w,r]),j=X.default.useMemo(()=>Array.from(new Set([s].concat(S.filter(e=>e.position).map(e=>e.position)))),[S,s]),[_,T]=X.default.useState([]),[E,P]=X.default.useState(!1),[C,M]=X.default.useState(!1),[A,R]=X.default.useState("system"!==d?d:"u">typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),N=X.default.useRef(null),D=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=X.default.useRef(null),V=X.default.useRef(!1),I=X.default.useCallback(e=>{k(t=>{var r;return(null==(r=t.find(t=>t.id===e.id))?void 0:r.delete)||ed.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return X.default.useEffect(()=>ed.subscribe(e=>{e.dismiss?requestAnimationFrame(()=>{k(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t))}):setTimeout(()=>{er.default.flushSync(()=>{k(t=>{let r=t.findIndex(t=>t.id===e.id);return -1!==r?[...t.slice(0,r),{...t[r],...e},...t.slice(r+1)]:[e,...t]})})})}),[w]),X.default.useEffect(()=>{if("system"!==d)return void R(d);if("system"===d&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?R("dark"):R("light")),"u"<typeof window)return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{e?R("dark"):R("light")})}catch(t){e.addListener(({matches:e})=>{try{e?R("dark"):R("light")}catch(e){console.error(e)}})}},[d]),X.default.useEffect(()=>{w.length<=1&&P(!1)},[w]),X.default.useEffect(()=>{let e=e=>{var t,r;n.every(t=>e[t]||e.code===t)&&(P(!0),null==(r=N.current)||r.focus()),"Escape"===e.code&&(document.activeElement===N.current||(null==(t=N.current)?void 0:t.contains(document.activeElement)))&&P(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n]),X.default.useEffect(()=>{if(N.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,V.current=!1)}},[N.current]),X.default.createElement("section",{ref:t,"aria-label":`${x} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((t,r)=>{var s;let n,[d,x]=t.split("-");return S.length?X.default.createElement("ol",{key:t,dir:"auto"===y?ey():y,tabIndex:-1,ref:N,className:l,"data-sonner-toaster":!0,"data-sonner-theme":A,"data-y-position":d,"data-x-position":x,style:{"--front-toast-height":`${(null==(s=_[0])?void 0:s.height)||0}px`,"--width":"356px","--gap":`${v}px`,...m,...(n={},[u,c].forEach((e,t)=>{let r=1===t,i=r?"--mobile-offset":"--offset",s=r?"16px":"24px";function a(e){["top","right","bottom","left"].forEach(t=>{n[`${i}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?a(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?n[`${i}-${t}`]=s:n[`${i}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):a(s)}),n)},onBlur:e=>{V.current&&!e.currentTarget.contains(e.relatedTarget)&&(V.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:e=>{!(e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible)&&(V.current||(V.current=!0,O.current=e.relatedTarget))},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{C||P(!1)},onDragEnd:()=>P(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||M(!0)},onPointerUp:()=>M(!1)},S.filter(e=>!e.position&&0===r||e.position===t).map((r,s)=>{var n,l;return X.default.createElement(eg,{key:r.id,icons:b,index:s,toast:r,defaultRichColors:h,duration:null!=(n=null==g?void 0:g.duration)?n:p,className:null==g?void 0:g.className,descriptionClassName:null==g?void 0:g.descriptionClassName,invert:i,visibleToasts:f,closeButton:null!=(l=null==g?void 0:g.closeButton)?l:o,interacting:C,position:t,style:null==g?void 0:g.style,unstyled:null==g?void 0:g.unstyled,classNames:null==g?void 0:g.classNames,cancelButtonStyle:null==g?void 0:g.cancelButtonStyle,actionButtonStyle:null==g?void 0:g.actionButtonStyle,closeButtonAriaLabel:null==g?void 0:g.closeButtonAriaLabel,removeToast:I,toasts:S.filter(e=>e.position==r.position),heights:_.filter(e=>e.position==r.position),setHeights:T,expandByDefault:a,gap:v,expanded:E,swipeDirections:e.swipeDirections})})):null}))});e.s(["Toaster",()=>ev,"toast",()=>ep],28841)},19127,e=>{"use strict";let t,r,i,s,n,a,o,l,u,c,d;var h,p=e.i(60631),m=e.i(10925),f=e.i(54477);let g=(0,m.createContext)({});function y(e){let t=(0,m.useRef)(null);return null===t.current&&(t.current=e()),t.current}let v="u">typeof window,b=v?m.useLayoutEffect:m.useEffect,x=(0,m.createContext)(null);function w(e){return"object"==typeof e&&null!==e}function k(e){return w(e)&&"offsetHeight"in e}var S=m;let j=(0,m.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function _(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class T extends S.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&!1!==this.props.pop){let e=t.offsetParent,r=k(e)&&e.offsetWidth||0,i=k(e)&&e.offsetHeight||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=r-s.width-s.left,s.bottom=i-s.height-s.top}return null}componentDidUpdate(){}render(){return this.props.children}}function E({children:e,isPresent:t,anchorX:r,anchorY:i,root:s,pop:n}){let a=(0,S.useId)(),o=(0,S.useRef)(null),l=(0,S.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:u}=(0,S.useContext)(j),c=function(...e){return m.useCallback(function(...e){return t=>{let r=!1,i=e.map(e=>{let i=_(e,t);return r||"function"!=typeof i||(r=!0),i});if(r)return()=>{for(let t=0;t<i.length;t++){let r=i[t];"function"==typeof r?r():_(e[t],null)}}}}(...e),e)}(o,e.props?.ref??e?.ref);return(0,S.useInsertionEffect)(()=>{let{width:e,height:c,top:d,left:h,right:p,bottom:m}=l.current;if(t||!1===n||!o.current||!e||!c)return;let f="left"===r?`left: ${h}`:`right: ${p}`,g="bottom"===i?`bottom: ${m}`:`top: ${d}`;o.current.dataset.motionPopId=a;let y=document.createElement("style");u&&(y.nonce=u);let v=s??document.head;return v.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${c}px !important;
            ${f}px !important;
            ${g}px !important;
          }
        `),()=>{v.contains(y)&&v.removeChild(y)}},[t]),(0,p.jsx)(T,{isPresent:t,childRef:o,sizeRef:l,pop:n,children:!1===n?e:S.cloneElement(e,{ref:c})})}let P=({children:e,initial:t,isPresent:r,onExitComplete:i,custom:s,presenceAffectsLayout:n,mode:a,anchorX:o,anchorY:l,root:u})=>{let c=y(C),d=(0,m.useId)(),h=!0,f=(0,m.useMemo)(()=>(h=!1,{id:d,initial:t,isPresent:r,custom:s,onExitComplete:e=>{for(let t of(c.set(e,!0),c.values()))if(!t)return;i&&i()},register:e=>(c.set(e,!1),()=>c.delete(e))}),[r,c,i]);return n&&h&&(f={...f}),(0,m.useMemo)(()=>{c.forEach((e,t)=>c.set(t,!1))},[r]),m.useEffect(()=>{r||c.size||!i||i()},[r]),e=(0,p.jsx)(E,{pop:"popLayout"===a,isPresent:r,anchorX:o,anchorY:l,root:u,children:e}),(0,p.jsx)(x.Provider,{value:f,children:e})};function C(){return new Map}function M(e=!0){let t=(0,m.useContext)(x);if(null===t)return[!0,null];let{isPresent:r,onExitComplete:i,register:s}=t,n=(0,m.useId)();(0,m.useEffect)(()=>{if(e)return s(n)},[e]);let a=(0,m.useCallback)(()=>e&&i&&i(n),[n,i,e]);return!r&&i?[!1,a]:[!0]}let A=e=>e.key||"";function R(e){let t=[];return m.Children.forEach(e,e=>{(0,m.isValidElement)(e)&&t.push(e)}),t}let N=({children:e,custom:t,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:n="sync",propagate:a=!1,anchorX:o="left",anchorY:l="top",root:u})=>{let[c,d]=M(a),h=(0,m.useMemo)(()=>R(e),[e]),f=a&&!c?[]:h.map(A),v=(0,m.useRef)(!0),x=(0,m.useRef)(h),w=y(()=>new Map),k=(0,m.useRef)(new Set),[S,j]=(0,m.useState)(h),[_,T]=(0,m.useState)(h);b(()=>{v.current=!1,x.current=h;for(let e=0;e<_.length;e++){let t=A(_[e]);f.includes(t)?(w.delete(t),k.current.delete(t)):!0!==w.get(t)&&w.set(t,!1)}},[_,f.length,f.join("-")]);let E=[];if(h!==S){let e=[...h];for(let t=0;t<_.length;t++){let r=_[t],i=A(r);f.includes(i)||(e.splice(t,0,r),E.push(r))}return"wait"===n&&E.length&&(e=E),T(R(e)),j(h),null}let{forceRender:C}=(0,m.useContext)(g);return(0,p.jsx)(p.Fragment,{children:_.map(e=>{let m=A(e),g=(!a||!!c)&&(h===_||f.includes(m));return(0,p.jsx)(P,{isPresent:g,initial:(!v.current||!!r)&&void 0,custom:t,presenceAffectsLayout:s,mode:n,root:u,onExitComplete:g?void 0:()=>{if(k.current.has(m)||(k.current.add(m),!w.has(m)))return;w.set(m,!0);let e=!0;w.forEach(t=>{t||(e=!1)}),e&&(C?.(),T(x.current),a&&d?.(),i&&i())},anchorX:o,anchorY:l,children:e},m)})})},D=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],O=new Set(D),V=(e,t,r)=>r>t?t:r<e?e:r,I={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},L={...I,transform:e=>V(0,1,e)},F={...I,default:1},z=e=>Math.round(1e5*e)/1e5,B=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,U=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,q=(e,t)=>r=>!!("string"==typeof r&&U.test(r)&&r.startsWith(e)||t&&null!=r&&Object.prototype.hasOwnProperty.call(r,t)),$=(e,t,r)=>i=>{if("string"!=typeof i)return i;let[s,n,a,o]=i.match(B);return{[e]:parseFloat(s),[t]:parseFloat(n),[r]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},Q={...I,transform:e=>Math.round(V(0,255,e))},K={test:q("rgb","red"),parse:$("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:i=1})=>"rgba("+Q.transform(e)+", "+Q.transform(t)+", "+Q.transform(r)+", "+z(L.transform(i))+")"},W={test:q("#"),parse:function(e){let t="",r="",i="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}},transform:K.transform},Y=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),H=Y("deg"),G=Y("%"),X=Y("px"),J=Y("vh"),Z=Y("vw"),ee={...G,parse:e=>G.parse(e)/100,transform:e=>G.transform(100*e)},et={test:q("hsl","hue"),parse:$("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:i=1})=>"hsla("+Math.round(e)+", "+G.transform(z(t))+", "+G.transform(z(r))+", "+z(L.transform(i))+")"},er={test:e=>K.test(e)||W.test(e)||et.test(e),parse:e=>K.test(e)?K.parse(e):et.test(e)?et.parse(e):W.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?K.transform(e):et.transform(e),getAnimatableNone:e=>{let t=er.parse(e);return t.alpha=0,er.transform(t)}},ei=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,es="number",en="color",ea=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eo(e){let t=e.toString(),r=[],i={color:[],number:[],var:[]},s=[],n=0,a=t.replace(ea,e=>(er.test(e)?(i.color.push(n),s.push(en),r.push(er.parse(e))):e.startsWith("var(")?(i.var.push(n),s.push("var"),r.push(e)):(i.number.push(n),s.push(es),r.push(parseFloat(e))),++n,"${}")).split("${}");return{values:r,split:a,indexes:i,types:s}}function el(e){return eo(e).values}function eu(e){let{split:t,types:r}=eo(e),i=t.length;return e=>{let s="";for(let n=0;n<i;n++)if(s+=t[n],void 0!==e[n]){let t=r[n];t===es?s+=z(e[n]):t===en?s+=er.transform(e[n]):s+=e[n]}return s}}let ec=e=>"number"==typeof e?0:er.test(e)?er.getAnimatableNone(e):e,ed={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(B)?.length||0)+(e.match(ei)?.length||0)>0},parse:el,createTransformer:eu,getAnimatableNone:function(e){let t=el(e);return eu(e)(t.map(ec))}},eh=new Set(["brightness","contrast","saturate","opacity"]);function ep(e){let[t,r]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[i]=r.match(B)||[];if(!i)return e;let s=r.replace(i,""),n=+!!eh.has(t);return i!==r&&(n*=100),t+"("+n+s+")"}let em=/\b([a-z-]*)\(.*?\)/gu,ef={...ed,getAnimatableNone:e=>{let t=e.match(em);return t?t.map(ep).join(" "):e}},eg={...ed,getAnimatableNone:e=>{let t=ed.parse(e);return ed.createTransformer(e)(t.map(e=>"number"==typeof e?0:"object"==typeof e?{...e,alpha:1}:e))}},ey={...I,transform:Math.round},ev={borderWidth:X,borderTopWidth:X,borderRightWidth:X,borderBottomWidth:X,borderLeftWidth:X,borderRadius:X,borderTopLeftRadius:X,borderTopRightRadius:X,borderBottomRightRadius:X,borderBottomLeftRadius:X,width:X,maxWidth:X,height:X,maxHeight:X,top:X,right:X,bottom:X,left:X,inset:X,insetBlock:X,insetBlockStart:X,insetBlockEnd:X,insetInline:X,insetInlineStart:X,insetInlineEnd:X,padding:X,paddingTop:X,paddingRight:X,paddingBottom:X,paddingLeft:X,paddingBlock:X,paddingBlockStart:X,paddingBlockEnd:X,paddingInline:X,paddingInlineStart:X,paddingInlineEnd:X,margin:X,marginTop:X,marginRight:X,marginBottom:X,marginLeft:X,marginBlock:X,marginBlockStart:X,marginBlockEnd:X,marginInline:X,marginInlineStart:X,marginInlineEnd:X,fontSize:X,backgroundPositionX:X,backgroundPositionY:X,rotate:H,rotateX:H,rotateY:H,rotateZ:H,scale:F,scaleX:F,scaleY:F,scaleZ:F,skew:H,skewX:H,skewY:H,distance:X,translateX:X,translateY:X,translateZ:X,x:X,y:X,z:X,perspective:X,transformPerspective:X,opacity:L,originX:ee,originY:ee,originZ:X,zIndex:ey,fillOpacity:L,strokeOpacity:L,numOctaves:ey},eb={...ev,color:er,backgroundColor:er,outlineColor:er,fill:er,stroke:er,borderColor:er,borderTopColor:er,borderRightColor:er,borderBottomColor:er,borderLeftColor:er,filter:ef,WebkitFilter:ef,mask:eg,WebkitMask:eg},ex=e=>eb[e],ew=()=>({translate:0,scale:1,origin:0,originPoint:0}),ek=()=>({x:ew(),y:ew()}),eS=()=>({min:0,max:0}),ej=()=>({x:eS(),y:eS()}),e_=e=>!!(e&&e.getVelocity),eT=new Set(["width","height","top","left","right","bottom",...D]),eE=e=>t=>t.test(e),eP=[I,X,G,H,Z,J,{test:e=>"auto"===e,parse:e=>e}],eC=e=>eP.find(eE(e)),eM=()=>{},eA=()=>{};f.default;let eR=e=>t=>"string"==typeof t&&t.startsWith(e),eN=eR("--"),eD=eR("var(--"),eO=e=>!!eD(e)&&eV.test(e.split("/*")[0].trim()),eV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function eI(e){return"string"==typeof e&&e.split("/*")[0].includes("var(--")}let eL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,eF=e=>180*e/Math.PI,ez=e=>eU(eF(Math.atan2(e[1],e[0]))),eB={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ez,rotateZ:ez,skewX:e=>eF(Math.atan(e[1])),skewY:e=>eF(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},eU=e=>((e%=360)<0&&(e+=360),e),eq=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),e$=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),eQ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eq,scaleY:e$,scale:e=>(eq(e)+e$(e))/2,rotateX:e=>eU(eF(Math.atan2(e[6],e[5]))),rotateY:e=>eU(eF(Math.atan2(-e[2],e[0]))),rotateZ:ez,rotate:ez,skewX:e=>eF(Math.atan(e[4])),skewY:e=>eF(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function eK(e){return+!!e.includes("scale")}function eW(e,t){let r,i;if(!e||"none"===e)return eK(t);let s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(s)r=eQ,i=s;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=eB,i=t}if(!i)return eK(t);let n=r[t],a=i[1].split(",").map(eY);return"function"==typeof n?n(a):a[n]}function eY(e){return parseFloat(e.trim())}let eH=e=>e===I||e===X,eG=new Set(["x","y","z"]),eX=D.filter(e=>!eG.has(e)),eJ={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>eW(t,"x"),y:(e,{transform:t})=>eW(t,"y")};eJ.translateX=eJ.x,eJ.translateY=eJ.y;let eZ=e=>e,e0={},e1=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function e2(e,t){let r=!1,i=!0,s={delta:0,timestamp:0,isProcessing:!1},n=()=>r=!0,a=e1.reduce((e,r)=>(e[r]=function(e,t){let r=new Set,i=new Set,s=!1,n=!1,a=new WeakSet,o={delta:0,timestamp:0,isProcessing:!1},l=0;function u(t){a.has(t)&&(c.schedule(t),e()),l++,t(o)}let c={schedule:(e,t=!1,n=!1)=>{let o=n&&s?r:i;return t&&a.add(e),o.has(e)||o.add(e),e},cancel:e=>{i.delete(e),a.delete(e)},process:e=>{if(o=e,s){n=!0;return}s=!0,[r,i]=[i,r],r.forEach(u),t,l=0,r.clear(),s=!1,n&&(n=!1,c.process(e))}};return c}(n,t?r:void 0),e),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:c,update:d,preRender:h,render:p,postRender:m}=a,f=()=>{let n=e0.useManualTiming?s.timestamp:performance.now();r=!1,e0.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(n-s.timestamp,40),1)),s.timestamp=n,s.isProcessing=!0,o.process(s),l.process(s),u.process(s),c.process(s),d.process(s),h.process(s),p.process(s),m.process(s),s.isProcessing=!1,r&&t&&(i=!1,e(f))};return{schedule:e1.reduce((t,n)=>{let o=a[n];return t[n]=(t,n=!1,a=!1)=>(!r&&(r=!0,i=!0,s.isProcessing||e(f)),o.schedule(t,n,a)),t},{}),cancel:e=>{for(let t=0;t<e1.length;t++)a[e1[t]].cancel(e)},state:s,steps:a}}let{schedule:e5,cancel:e4,state:e3,steps:e8}=e2("u">typeof requestAnimationFrame?requestAnimationFrame:eZ,!0),e6=new Set,e9=!1,e7=!1,te=!1;function tt(){if(e7){let e=Array.from(e6).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),r=new Map;t.forEach(e=>{let t,i=(t=[],eX.forEach(r=>{let i=e.getValue(r);void 0!==i&&(t.push([r,i.get()]),i.set(+!!r.startsWith("scale")))}),t);i.length&&(r.set(e,i),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=r.get(e);t&&t.forEach(([t,r])=>{e.getValue(t)?.set(r)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}e7=!1,e9=!1,e6.forEach(e=>e.complete(te)),e6.clear()}function tr(){e6.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(e7=!0)})}class ti{constructor(e,t,r,i,s,n=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=s,this.isAsync=n}scheduleResolve(){this.state="scheduled",this.isAsync?(e6.add(this),e9||(e9=!0,e5.read(tr),e5.resolveKeyframes(tt))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;if(null===e[0]){let s=i?.get(),n=e[e.length-1];if(void 0!==s)e[0]=s;else if(r&&t){let i=r.readValue(t,n);null!=i&&(e[0]=i)}void 0===e[0]&&(e[0]=n),i&&void 0===s&&i.set(e[0])}for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),e6.delete(this)}cancel(){"scheduled"===this.state&&(e6.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}let ts=new Set([ef,eg]);function tn(e,t){let r=ex(e);return ts.has(r)||(r=ed),r.getAnimatableNone?r.getAnimatableNone(t):void 0}let ta=new Set(["auto","none","0"]);class to extends ti{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let r=0;r<e.length;r++){let i=e[r];if("string"==typeof i&&eO(i=i.trim())){let s=function e(t,r,i=1){eA(i<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`,"max-css-var-depth");let[s,n]=function(e){let t=eL.exec(e);if(!t)return[,];let[,r,i,s]=t;return[`--${r??i}`,s]}(t);if(!s)return;let a=window.getComputedStyle(r).getPropertyValue(s);if(a){let e=a.trim();return/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e)?parseFloat(e):e}return eO(n)?e(n,r,i+1):n}(i,t.current);void 0!==s&&(e[r]=s),r===e.length-1&&(this.finalKeyframe=i)}}if(this.resolveNoneKeyframes(),!eT.has(r)||2!==e.length)return;let[i,s]=e,n=eC(i),a=eC(s);if(eI(i)!==eI(s)&&eJ[r]){this.needsMeasurement=!0;return}if(n!==a)if(eH(n)&&eH(a))for(let t=0;t<e.length;t++){let r=e[t];"string"==typeof r&&(e[t]=parseFloat(r))}else eJ[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,r=[];for(let t=0;t<e.length;t++)(null===e[t]||function(e){if("number"==typeof e)return 0===e;if(null===e)return!0;return"none"===e||"0"===e||/^0[^.\s]+$/u.test(e)}(e[t]))&&r.push(t);r.length&&function(e,t,r){let i,s=0;for(;s<e.length&&!i;){let t=e[s];"string"==typeof t&&!ta.has(t)&&eo(t).values.length&&(i=e[s]),s++}if(i&&r)for(let s of t)e[s]=tn(r,i)}(e,r,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;"height"===r&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=eJ[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let i=t[t.length-1];void 0!==i&&e.getValue(r,i).jump(i,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;let i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);let s=r.length-1,n=r[s];r[s]=eJ[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==n&&void 0===this.finalKeyframe&&(this.finalKeyframe=n),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,r])=>{e.getValue(t).set(r)}),this.resolveNoneKeyframes()}}let tl=e=>1e3*e;function tu(e,t){-1===e.indexOf(t)&&e.push(t)}function tc(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}class td{constructor(){this.subscriptions=[]}add(e){return tu(this.subscriptions,e),()=>tc(this.subscriptions,e)}notify(e,t,r){let i=this.subscriptions.length;if(i)if(1===i)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){let i=this.subscriptions[s];i&&i(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function th(e){let t;return()=>(void 0===t&&(t=e()),t)}let tp={};function tm(e,t){let r=th(e);return()=>tp[t]??r()}let tf=tm(()=>void 0!==window.ScrollTimeline,"scrollTimeline"),tg=e=>null!==e;function ty(e,{repeat:t,repeatType:r="loop"},i,s=1){let n=e.filter(tg),a=s<0||t&&"loop"!==r&&t%2==1?0:n.length-1;return a&&void 0!==i?i:n[a]}class tv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}let tb={layout:0,mainThread:0,waapi:0},tx=e=>Array.isArray(e)&&"number"==typeof e[0],tw=tm(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),tk=(e,t,r=10)=>{let i="",s=Math.max(Math.round(t/r),2);for(let t=0;t<s;t++)i+=Math.round(1e4*e(t/(s-1)))/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},tS=([e,t,r,i])=>`cubic-bezier(${e}, ${t}, ${r}, ${i})`,tj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tS([0,.65,.55,1]),circOut:tS([.55,0,1,.45]),backIn:tS([.31,.01,.66,-.59]),backOut:tS([.33,1.53,.69,.99])};function t_(e){return"function"==typeof e&&"applyToOptions"in e}class tT extends tv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:r,keyframes:i,pseudoElement:s,allowFlatten:n=!1,finalKeyframe:a,onComplete:o}=e;this.isPseudoElement=!!s,this.allowFlatten=n,this.options=e,eA("string"!=typeof e.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");const l=function({type:e,...t}){return t_(e)&&tw()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=function(e,t,r,{delay:i=0,duration:s=300,repeat:n=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u){let c={[t]:r};l&&(c.offset=l);let d=function e(t,r){if(t)return"function"==typeof t?tw()?tk(t,r):"ease-out":tx(t)?tS(t):Array.isArray(t)?t.map(t=>e(t,r)||tj.easeOut):tj[t]}(o,s);Array.isArray(d)&&(c.easing=d);let h={delay:i,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:n+1,direction:"reverse"===a?"alternate":"normal"};u&&(h.pseudoElement=u);let p=e.animate(c,h);return p}(t,r,i,l,s),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){let e=ty(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):r.startsWith("--")?t.style.setProperty(r,e):t.style[r]=e,this.animation.cancel()}o?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){let e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){return Number(this.animation.effect?.getComputedTiming?.().duration||0)/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return(Number(this.animation.currentTime)||0)/1e3}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=tl(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return(this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&tf())?(this.animation.timeline=e,eZ):t(this)}}let tE=new Set(["opacity","clipPath","filter","transform"]),{schedule:tP}=e2(queueMicrotask,!1);function tC(){t=void 0}let tM={now:()=>(void 0===t&&tM.set(e3.isProcessing||e0.useManualTiming?e3.timestamp:performance.now()),t),set:e=>{t=e,queueMicrotask(tC)}};class tA{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{let t=tM.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=tM.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=!isNaN(parseFloat(this.current)))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new td);let r=this.events[e].add(t);return"change"===e?()=>{r(),e5.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return c&&c.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var e;let t=tM.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;let r=Math.min(this.updatedAt-this.prevUpdatedAt,30);return e=parseFloat(this.current)-parseFloat(this.prevFrameValue),r?1e3/r*e:0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tR(e,t){return new tA(e,t)}let tN=[...eP,er,ed],tD=new WeakMap;function tO(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function tV(e){return"string"==typeof e||Array.isArray(e)}let tI=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tL=["initial",...tI];function tF(e){return tO(e.animate)||tL.some(t=>tV(e[t]))}function tz(e){return!!(tF(e)||e.variants)}let tB={current:null},tU={current:!1},tq="u">typeof window;function t$(e){let t=[{},{}];return e?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function tQ(e,t,r,i){if("function"==typeof t){let[s,n]=t$(i);t=t(void 0!==r?r:e.custom,s,n)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[s,n]=t$(i);t=t(void 0!==r?r:e.custom,s,n)}return t}let tK=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],tW={};class tY{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,skipAnimations:s,blockInitialAnimation:n,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=ti,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=tM.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,e5.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=s,this.options=o,this.blockInitialAnimation=!!n,this.isControllingVariants=tF(t),this.isVariantNode=tz(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(const e in d){const t=d[e];void 0!==l[e]&&e_(t)&&t.set(l[e])}}mount(e){if(this.hasBeenMounted)for(let e in this.initialValues)this.values.get(e)?.jump(this.initialValues[e]),this.latestValues[e]=this.initialValues[e];this.current=e,tD.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),"never"===this.reducedMotionConfig?this.shouldReduceMotion=!1:"always"===this.reducedMotionConfig?this.shouldReduceMotion=!0:(tU.current||function(){if(tU.current=!0,tq)if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>tB.current=e.matches;e.addEventListener("change",t),t()}else tB.current=!1}(),this.shouldReduceMotion=tB.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){for(let e in this.projection&&this.projection.unmount(),e4(this.notifyUpdate),e4(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){let r;if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),t.accelerate&&tE.has(e)&&this.current instanceof HTMLElement){let{factory:r,keyframes:i,times:s,ease:n,duration:a}=t.accelerate,o=new tT({element:this.current,name:e,keyframes:i,times:s,ease:n,duration:tl(a)}),l=r(o);this.valueSubscriptions.set(e,()=>{l(),o.cancel()});return}let i=O.has(e);i&&this.onBindTransform&&this.onBindTransform();let s=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&e5.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});"u">typeof window&&window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in tW){let t=tW[e];if(!t)continue;let{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ej()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<tK.length;t++){let r=tK[t];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);let i=e["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=function(e,t,r){for(let i in t){let s=t[i],n=r[i];if(e_(s))e.addValue(i,s);else if(e_(n))e.addValue(i,tR(s,{owner:e}));else if(n!==s)if(e.hasValue(i)){let t=e.getValue(i);!0===t.liveStyle?t.jump(s):t.hasAnimated||t.set(s)}else{let t=e.getStaticValue(i);e.addValue(i,tR(void 0!==t?t:s,{owner:e}))}}for(let i in r)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return void 0===r&&void 0!==t&&(r=tR(null===t?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];if(null!=r){let i,s;if("string"==typeof r&&(i=r,/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i)||(s=r,/^0[^.\s]+$/u.test(s))))r=parseFloat(r);else{let i;i=r,!tN.find(eE(i))&&ed.test(t)&&(r=tn(e,t))}this.setBaseTarget(e,e_(r)?r.get():r)}return e_(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let t,{initial:r}=this.props;if("string"==typeof r||"object"==typeof r){let i=tQ(this.props,r,this.presenceContext?.custom);i&&(t=i[e])}if(r&&void 0!==t)return t;let i=this.getBaseTargetFromProps(this.props,e);return void 0===i||e_(i)?void 0!==this.initialValues[e]&&void 0===t?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new td),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){tP.render(this.render)}}class tH extends tY{constructor(){super(...arguments),this.KeyframeResolver=to}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){let r=e.style;return r?r[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;e_(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function tG(e){return e.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}let tX=(e,t)=>t&&"number"==typeof e?t.transform(e):e,tJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tZ=D.length;function t0(e,t,r){let{style:i,vars:s,transformOrigin:n}=e,a=!1,o=!1;for(let e in t){let r=t[e];if(O.has(e)){a=!0;continue}if(eN(e)){s[e]=r;continue}{let t=tX(r,ev[e]);e.startsWith("origin")?(o=!0,n[e]=t):i[e]=t}}if(!t.transform&&(a||r?i.transform=function(e,t,r){let i="",s=!0;for(let n=0;n<tZ;n++){let a=D[n],o=e[a];if(void 0===o)continue;let l=!0;if("number"==typeof o)l=o===+!!a.startsWith("scale");else{let e=parseFloat(o);l=a.startsWith("scale")?1===e:0===e}if(!l||r){let e=tX(o,ev[a]);if(!l){s=!1;let t=tJ[a]||a;i+=`${t}(${e}) `}r&&(t[a]=e)}}return i=i.trim(),r?i=r(t,s?"":i):s&&(i="none"),i}(t,e.transform,r):i.transform&&(i.transform="none")),o){let{originX:e="50%",originY:t="50%",originZ:r=0}=n;i.transformOrigin=`${e} ${t} ${r}`}}let t1={offset:"stroke-dashoffset",array:"stroke-dasharray"},t2={offset:"strokeDashoffset",array:"strokeDasharray"},t5=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function t4(e,{attrX:t,attrY:r,attrScale:i,pathLength:s,pathSpacing:n=1,pathOffset:a=0,...o},l,u,c){if(t0(e,o,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:d,style:h}=e;for(let e of(d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=c?.transformBox??"fill-box",delete d.transformBox),t5))void 0!==d[e]&&(h[e]=d[e],delete d[e]);void 0!==t&&(d.x=t),void 0!==r&&(d.y=r),void 0!==i&&(d.scale=i),void 0!==s&&function(e,t,r=1,i=0,s=!0){e.pathLength=1;let n=s?t1:t2;e[n.offset]=`${-i}`,e[n.array]=`${t} ${r}`}(d,s,n,a,!1)}let t3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),t8=e=>"string"==typeof e&&"svg"===e.toLowerCase();function t6(e,{style:t,vars:r},i,s){let n,a=e.style;for(n in t)a[n]=t[n];for(n in s?.applyProjectionStyles(a,i),r)a.setProperty(n,r[n])}function t9(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let t7={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e)if(!X.test(e))return e;else e=parseFloat(e);let r=t9(e,t.target.x),i=t9(e,t.target.y);return`${r}% ${i}%`}},re=(e,t,r)=>e+(t-e)*r,rt={borderRadius:{...t7,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:t7,borderTopRightRadius:t7,borderBottomLeftRadius:t7,borderBottomRightRadius:t7,boxShadow:{correct:(e,{treeScale:t,projectionDelta:r})=>{let i=ed.parse(e);if(i.length>5)return e;let s=ed.createTransformer(e),n=+("number"!=typeof i[0]),a=r.x.scale*t.x,o=r.y.scale*t.y;i[0+n]/=a,i[1+n]/=o;let l=re(a,o,.5);return"number"==typeof i[2+n]&&(i[2+n]/=l),"number"==typeof i[3+n]&&(i[3+n]/=l),s(i)}}};function rr(e,{layout:t,layoutId:r}){return O.has(e)||e.startsWith("origin")||(t||void 0!==r)&&(!!rt[e]||"opacity"===e)}function ri(e,t,r){let i=e.style,s=t?.style,n={};if(!i)return n;for(let t in i)(e_(i[t])||s&&e_(s[t])||rr(t,e)||r?.getValue(t)?.liveStyle!==void 0)&&(n[t]=i[t]);return n}function rs(e,t,r){let i=ri(e,t,r);for(let r in e)(e_(e[r])||e_(t[r]))&&(i[-1!==D.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]);return i}class rn extends tH{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ej}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(O.has(t)){let e=ex(t);return e&&e.default||0}return t=t3.has(t)?t:tG(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return rs(e,t,r)}build(e,t,r){t4(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,i){for(let r in t6(e,t,void 0,i),t.attrs)e.setAttribute(t3.has(r)?r:tG(r),t.attrs[r])}mount(e){this.isSVGTag=t8(e.tagName),super.mount(e)}}function ra({top:e,left:t,right:r,bottom:i}){return{x:{min:t,max:r},y:{min:e,max:i}}}function ro(e){return void 0===e||1===e}function rl({scale:e,scaleX:t,scaleY:r}){return!ro(e)||!ro(t)||!ro(r)}function ru(e){return rl(e)||rc(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function rc(e){var t,r;return(t=e.x)&&"0%"!==t||(r=e.y)&&"0%"!==r}function rd(e,t,r,i,s){return void 0!==s&&(e=i+s*(e-i)),i+r*(e-i)+t}function rh(e,t=0,r=1,i,s){e.min=rd(e.min,t,r,i,s),e.max=rd(e.max,t,r,i,s)}function rp(e,{x:t,y:r}){rh(e.x,t.translate,t.scale,t.originPoint),rh(e.y,r.translate,r.scale,r.originPoint)}function rm(e,t){e.min=e.min+t,e.max=e.max+t}function rf(e,t,r,i,s=.5){let n=re(e.min,e.max,s);rh(e,t,r,n,i)}function rg(e,t){rf(e.x,t.x,t.scaleX,t.scale,t.originX),rf(e.y,t.y,t.scaleY,t.scale,t.originY)}function ry(e,t){return ra(function(e,t){if(!t)return e;let r=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}(e.getBoundingClientRect(),t))}class rv extends tH{constructor(){super(...arguments),this.type="html",this.renderInstance=t6}readValueFromInstance(e,t){if(O.has(t))return this.projection?.isProjecting?eK(t):((e,t)=>{let{transform:r="none"}=getComputedStyle(e);return eW(r,t)})(e,t);{let r=window.getComputedStyle(e),i=(eN(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof i?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return ry(e,t)}build(e,t,r){t0(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return ri(e,t,r)}}let rb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rx(e){if("string"!=typeof e||e.includes("-"));else if(rb.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}let rw=(0,m.createContext)({strict:!1}),rk=(0,m.createContext)({});function rS(e){return Array.isArray(e)?e.join(" "):e}let rj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function r_(e,t,r){for(let i in t)e_(t[i])||rr(i,r)||(e[i]=t[i])}let rT=()=>({...rj(),attrs:{}}),rE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function rP(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||rE.has(e)}let rC=e=>!rP(e);try{h=(()=>{let e=Error("Cannot find module '@emotion/is-prop-valid'");throw e.code="MODULE_NOT_FOUND",e})().default,"function"==typeof h&&(rC=e=>e.startsWith("on")?!rP(e):h(e))}catch{}function rM(e){return e_(e)?e.get():e}let rA=e=>(t,r)=>{let i=(0,m.useContext)(rk),s=(0,m.useContext)(x),n=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t},r,i,s){return{latestValues:function(e,t,r,i){let s={},n=i(e,{});for(let e in n)s[e]=rM(n[e]);let{initial:a,animate:o}=e,l=tF(e),u=tz(e);t&&u&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let c=!!r&&!1===r.initial,d=(c=c||!1===a)?o:a;if(d&&"boolean"!=typeof d&&!tO(d)){let t=Array.isArray(d)?d:[d];for(let r=0;r<t.length;r++){let i=tQ(e,t[r]);if(i){let{transitionEnd:e,transition:t,...r}=i;for(let e in r){let t=r[e];if(Array.isArray(t)){let e=c?t.length-1:0;t=t[e]}null!==t&&(s[e]=t)}for(let t in e)s[t]=e[t]}}}return s}(r,i,s,e),renderState:t()}})(e,t,i,s);return r?n():y(n)},rR=rA({scrapeMotionValuesFromProps:ri,createRenderState:rj}),rN=rA({scrapeMotionValuesFromProps:rs,createRenderState:rT}),rD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rO=!1;function rV(){return!function(){if(rO)return;let e={};for(let t in rD)e[t]={isEnabled:e=>rD[t].some(t=>!!e[t])};tW=e,rO=!0}(),tW}let rI=Symbol.for("motionComponentSymbol"),rL="data-"+tG("framerAppearId"),rF=(0,m.createContext)({});function rz(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function rB(e,{forwardMotionProps:t=!1,type:r}={},i,s){i&&function(e){let t=rV();for(let r in e)t[r]={...t[r],...e[r]};tW=t}(i);let n=r?"svg"===r:rx(e),a=n?rN:rR;function o(r,i){var o;let l,u,c,d={...(0,m.useContext)(j),...r,layoutId:function({layoutId:e}){let t=(0,m.useContext)(g).id;return t&&void 0!==e?t+"-"+e:e}(r)},{isStatic:h}=d,f=function(e){let{initial:t,animate:r}=function(e,t){if(tF(e)){let{initial:t,animate:r}=e;return{initial:!1===t||tV(t)?t:void 0,animate:tV(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,m.useContext)(rk));return(0,m.useMemo)(()=>({initial:t,animate:r}),[rS(t),rS(r)])}(r),y=a(r,h);if(!h&&v){(0,m.useContext)(rw).strict;let t=function(e){let{drag:t,layout:r}=rV();if(!t&&!r)return{};let i={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}(d);l=t.MeasureLayout,f.visualElement=function(e,t,r,i,s,n){let{visualElement:a}=(0,m.useContext)(rk),o=(0,m.useContext)(rw),l=(0,m.useContext)(x),u=(0,m.useContext)(j),c=u.reducedMotion,d=u.skipAnimations,h=(0,m.useRef)(null),p=(0,m.useRef)(!1);i=i||o.renderer,!h.current&&i&&(h.current=i(e,{visualState:t,parent:a,props:r,presenceContext:l,blockInitialAnimation:!!l&&!1===l.initial,reducedMotionConfig:c,skipAnimations:d,isSVG:n}),p.current&&h.current&&(h.current.manuallyAnimateOnMount=!0));let f=h.current,g=(0,m.useContext)(rF);f&&!f.projection&&s&&("html"===f.type||"svg"===f.type)&&function(e,t,r,i){let{layoutId:s,layout:n,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:s,layout:n,alwaysMeasureLayout:!!a||o&&rz(o),visualElement:e,animationType:"string"==typeof n?n:"both",initialPromotionConfig:i,crossfade:c,layoutScroll:l,layoutRoot:u})}(h.current,r,s,g);let y=(0,m.useRef)(!1);(0,m.useInsertionEffect)(()=>{f&&y.current&&f.update(r,l)});let v=r[rL],w=(0,m.useRef)(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return b(()=>{p.current=!0,f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),w.current&&f.animationState&&f.animationState.animateChanges())}),(0,m.useEffect)(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),w.current=!1),f.enteringChildren=void 0)}),f}(e,y,d,s,t.ProjectionNode,n)}return(0,p.jsxs)(rk.Provider,{value:f,children:[l&&f.visualElement?(0,p.jsx)(l,{visualElement:f.visualElement,...d}):null,function(e,t,r,{latestValues:i},s,n=!1,a){let o=(a??rx(e)?function(e,t,r,i){let s=(0,m.useMemo)(()=>{let r=rT();return t4(r,t,t8(i),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){let t={};r_(t,e.style,e),s.style={...t,...s.style}}return s}:function(e,t){let r,i,s={},n=(r=e.style||{},r_(i={},r,e),Object.assign(i,function({transformTemplate:e},t){return(0,m.useMemo)(()=>{let r=rj();return t0(r,t,e),Object.assign({},r.vars,r.style)},[t])}(e,t)),i);return e.drag&&!1!==e.dragListener&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s})(t,i,s,e),l=function(e,t,r){let i={};for(let s in e)("values"!==s||"object"!=typeof e.values)&&(rC(s)||!0===r&&rP(s)||!t&&!rP(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}(t,"string"==typeof e,n),u=e!==m.Fragment?{...l,...o,ref:r}:{},{children:c}=t,d=(0,m.useMemo)(()=>e_(c)?c.get():c,[c]);return(0,m.createElement)(e,{...u,children:d})}(e,r,(o=f.visualElement,u=(0,m.useRef)(i),(0,m.useInsertionEffect)(()=>{u.current=i}),c=(0,m.useRef)(null),(0,m.useCallback)(e=>{e&&y.onMount?.(e),o&&(e?o.mount(e):o.unmount());let t=u.current;if("function"==typeof t)if(e){let r=t(e);"function"==typeof r&&(c.current=r)}else c.current?(c.current(),c.current=null):t(e);else t&&(t.current=e)},[o])),y,h,t,n)]})}o.displayName=`motion.${"string"==typeof e?e:`create(${e.displayName??e.name??""})`}`;let l=(0,m.forwardRef)(o);return l[rI]=e,l}class rU{constructor(e){this.isMounted=!1,this.node=e}update(){}}function rq(e,t,r){let i=e.getProps();return tQ(i,t,void 0!==r?r:i.custom,e)}function r$(e,t){if(e?.inherit&&t){let{inherit:r,...i}=e;return{...t,...i}}return e}function rQ(e,t){let r=e?.[t]??e?.default??e;return r!==e?r$(r,e):r}let rK=e=>Array.isArray(e);function rW(e,t){let r=e.getValue("willChange");if(e_(r)&&r.add)return r.add(t);if(!r&&e0.WillChange){let r=new e0.WillChange("auto");e.addValue("willChange",r),r.add(t)}}let rY=(e,t)=>r=>t(e(r)),rH=(...e)=>e.reduce(rY);function rG(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function rX(e,t){return r=>r>0?t:e}let rJ=(e,t,r)=>{let i=e*e,s=r*(t*t-i)+i;return s<0?0:Math.sqrt(s)},rZ=[W,K,et];function r0(e){let t=rZ.find(t=>t.test(e));if(eM(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let r=t.parse(e);return t===et&&(r=function({hue:e,saturation:t,lightness:r,alpha:i}){e/=360,r/=100;let s=0,n=0,a=0;if(t/=100){let i=r<.5?r*(1+t):r+t-r*t,o=2*r-i;s=rG(o,i,e+1/3),n=rG(o,i,e),a=rG(o,i,e-1/3)}else s=n=a=r;return{red:Math.round(255*s),green:Math.round(255*n),blue:Math.round(255*a),alpha:i}}(r)),r}let r1=(e,t)=>{let r=r0(e),i=r0(t);if(!r||!i)return rX(e,t);let s={...r};return e=>(s.red=rJ(r.red,i.red,e),s.green=rJ(r.green,i.green,e),s.blue=rJ(r.blue,i.blue,e),s.alpha=re(r.alpha,i.alpha,e),K.transform(s))},r2=new Set(["none","hidden"]);function r5(e,t){return r=>re(e,t,r)}function r4(e){return"number"==typeof e?r5:"string"==typeof e?eO(e)?rX:er.test(e)?r1:r6:Array.isArray(e)?r3:"object"==typeof e?er.test(e)?r1:r8:rX}function r3(e,t){let r=[...e],i=r.length,s=e.map((e,r)=>r4(e)(e,t[r]));return e=>{for(let t=0;t<i;t++)r[t]=s[t](e);return r}}function r8(e,t){let r={...e,...t},i={};for(let s in r)void 0!==e[s]&&void 0!==t[s]&&(i[s]=r4(e[s])(e[s],t[s]));return e=>{for(let t in i)r[t]=i[t](e);return r}}let r6=(e,t)=>{let r=ed.createTransformer(t),i=eo(e),s=eo(t);if(!(i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length))return eM(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),rX(e,t);if(r2.has(e)&&!s.values.length||r2.has(t)&&!i.values.length)return r2.has(e)?r=>r<=0?e:t:r=>r>=1?t:e;return rH(r3(function(e,t){let r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){let n=t.types[s],a=e.indexes[n][i[n]],o=e.values[a]??0;r[s]=o,i[n]++}return r}(i,s),s.values),r)};function r9(e,t,r){return"number"==typeof e&&"number"==typeof t&&"number"==typeof r?re(e,t,r):r4(e)(e,t)}let r7=e=>{let t=({timestamp:t})=>e(t);return{start:(e=!0)=>e5.update(t,e),stop:()=>e4(t),now:()=>e3.isProcessing?e3.timestamp:tM.now()}};function ie(e){let t=0,r=e.next(t);for(;!r.done&&t<2e4;)t+=50,r=e.next(t);return t>=2e4?1/0:t}function it(e,t,r){var i,s;let n=Math.max(t-5,0);return i=r-e(n),(s=t-n)?1e3/s*i:0}let ir=.01,ii=2,is=.005,ia=.5;function io(e,t){return e*Math.sqrt(1-t*t)}let il=["duration","bounce"],iu=["stiffness","damping","mass"];function ic(e,t){return t.some(t=>void 0!==e[t])}function id(e=.3,t=.3){let r,i="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:s,restDelta:n}=i,a=i.keyframes[0],o=i.keyframes[i.keyframes.length-1],l={done:!1,value:a},{stiffness:u,damping:c,mass:d,duration:h,velocity:p,isResolvedFromDuration:m}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!ic(e,iu)&&ic(e,il))if(t.velocity=0,e.visualDuration){let r=2*Math.PI/(1.2*e.visualDuration),i=r*r,s=2*V(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:1,stiffness:i,damping:s}}else{let r=function({duration:e=800,bounce:t=.3,velocity:r=0,mass:i=1}){let s,n;eM(e<=tl(10),"Spring duration must be 10 seconds or less","spring-duration-limit");let a=1-t;a=V(.05,1,a),e=V(.01,10,e/1e3),a<1?(s=t=>{let i=t*a,s=i*e;return .001-(i-r)/io(t,a)*Math.exp(-s)},n=t=>{let i=t*a*e,n=Math.pow(a,2)*Math.pow(t,2)*e,o=Math.exp(-i),l=io(Math.pow(t,2),a);return(i*r+r-n)*o*(-s(t)+.001>0?-1:1)/l}):(s=t=>-.001+Math.exp(-t*e)*((t-r)*e+1),n=t=>e*e*(r-t)*Math.exp(-t*e));let o=function(e,t,r){let i=r;for(let r=1;r<12;r++)i-=e(i)/t(i);return i}(s,n,5/e);if(e=tl(e),isNaN(o))return{stiffness:100,damping:10,duration:e};{let t=Math.pow(o,2)*i;return{stiffness:t,damping:2*a*Math.sqrt(i*t),duration:e}}}({...e,velocity:0});(t={...t,...r,mass:1}).isResolvedFromDuration=!0}return t}({...i,velocity:-((i.velocity||0)/1e3)}),f=p||0,g=c/(2*Math.sqrt(u*d)),y=o-a,v=Math.sqrt(u/d)/1e3,b=5>Math.abs(y);if(s||(s=b?ir:ii),n||(n=b?is:ia),g<1){let e=io(v,g);r=t=>o-Math.exp(-g*v*t)*((f+g*v*y)/e*Math.sin(e*t)+y*Math.cos(e*t))}else if(1===g)r=e=>o-Math.exp(-v*e)*(y+(f+v*y)*e);else{let e=v*Math.sqrt(g*g-1);r=t=>{let r=Math.exp(-g*v*t),i=Math.min(e*t,300);return o-r*((f+g*v*y)*Math.sinh(i)+e*y*Math.cosh(i))/e}}let x={calculatedDuration:m&&h||null,next:e=>{let t=r(e);if(m)l.done=e>=h;else{let i=0===e?f:0;g<1&&(i=0===e?tl(f):it(r,e,t));let a=Math.abs(o-t)<=n;l.done=Math.abs(i)<=s&&a}return l.value=l.done?o:t,l},toString:()=>{let e=Math.min(ie(x),2e4),t=tk(t=>x.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return x}function ih({keyframes:e,velocity:t=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:n=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:c}){let d,h,p=e[0],m={done:!1,value:p},f=r*t,g=p+f,y=void 0===a?g:a(g);y!==g&&(f=y-p);let v=e=>-f*Math.exp(-e/i),b=e=>y+v(e),x=e=>{let t=v(e),r=b(e);m.done=Math.abs(t)<=u,m.value=m.done?y:r},w=e=>{let t;if(t=m.value,void 0!==o&&t<o||void 0!==l&&t>l){var r;d=e,h=id({keyframes:[m.value,(r=m.value,void 0===o?l:void 0===l||Math.abs(o-r)<Math.abs(l-r)?o:l)],velocity:it(b,e,m.value),damping:s,stiffness:n,restDelta:u,restSpeed:c})}};return w(0),{calculatedDuration:null,next:e=>{let t=!1;return(h||void 0!==d||(t=!0,x(e),w(e)),void 0!==d&&e>=d)?h.next(e-d):(t||x(e),m)}}}id.applyToOptions=e=>{let t=function(e,t=100,r){let i=r({...e,keyframes:[0,t]}),s=Math.min(ie(i),2e4);return{type:"keyframes",ease:e=>i.next(s*e).value/t,duration:s/1e3}}(e,100,id);return e.ease=t.ease,e.duration=tl(t.duration),e.type="keyframes",e};let ip=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e;function im(e,t,r,i){return e===t&&r===i?eZ:s=>0===s||1===s?s:ip(function(e,t,r,i,s){let n,a,o=0;do(n=ip(a=t+(r-t)/2,i,s)-e)>0?r=a:t=a;while(Math.abs(n)>1e-7&&++o<12)return a}(s,0,1,e,r),t,i)}let ig=im(.42,0,1,1),iy=im(0,0,.58,1),iv=im(.42,0,.58,1),ib=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ix=e=>t=>1-e(1-t),iw=im(.33,1.53,.69,.99),ik=ix(iw),iS=ib(ik),ij=e=>(e*=2)<1?.5*ik(e):.5*(2-Math.pow(2,-10*(e-1))),i_=e=>1-Math.sin(Math.acos(e)),iT=ix(i_),iE=ib(i_),iP={linear:eZ,easeIn:ig,easeInOut:iv,easeOut:iy,circIn:i_,circInOut:iE,circOut:iT,backIn:ik,backInOut:iS,backOut:iw,anticipate:ij},iC=e=>{if(tx(e)){eA(4===e.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");let[t,r,i,s]=e;return im(t,r,i,s)}return"string"==typeof e?(eA(void 0!==iP[e],`Invalid easing type '${e}'`,"invalid-easing-type"),iP[e]):e},iM=(e,t,r)=>{let i=t-e;return 0===i?1:(r-e)/i};function iA({duration:e=300,keyframes:t,times:r,ease:i="easeInOut"}){var s;let n,a=Array.isArray(i)&&"number"!=typeof i[0]?i.map(iC):iC(i),o={done:!1,value:t[0]},l=function(e,t,{clamp:r=!0,ease:i,mixer:s}={}){let n=e.length;if(eA(n===t.length,"Both input and output ranges must be the same length","range-length"),1===n)return()=>t[0];if(2===n&&t[0]===t[1])return()=>t[1];let a=e[0]===e[1];e[0]>e[n-1]&&(e=[...e].reverse(),t=[...t].reverse());let o=function(e,t,r){let i=[],s=r||e0.mix||r9,n=e.length-1;for(let r=0;r<n;r++){let n=s(e[r],e[r+1]);t&&(n=rH(Array.isArray(t)?t[r]||eZ:t,n)),i.push(n)}return i}(t,i,s),l=o.length,u=r=>{if(a&&r<e[0])return t[0];let i=0;if(l>1)for(;i<e.length-2&&!(r<e[i+1]);i++);let s=iM(e[i],e[i+1],r);return o[i](s)};return r?t=>u(V(e[0],e[n-1],t)):u}((s=r&&r.length===t.length?r:(!function(e,t){let r=e[e.length-1];for(let i=1;i<=t;i++){let s=iM(0,t,i);e.push(re(r,1,s))}}(n=[0],t.length-1),n),s.map(t=>t*e)),t,{ease:Array.isArray(a)?a:t.map(()=>a||iv).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(o.value=l(t),o.done=t>=e,o)}}let iR={decay:ih,inertia:ih,tween:iA,keyframes:iA,spring:id};function iN(e){"string"==typeof e.type&&(e.type=iR[e.type])}let iD=e=>e/100;class iO extends tv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;e&&e.updatedAt!==tM.now()&&this.tick(tM.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},tb.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){let{options:e}=this;iN(e);let{type:t=iA,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:n=0}=e,{keyframes:a}=e,o=t||iA;o!==iA&&"number"!=typeof a[0]&&(this.mixKeyframes=rH(iD,r9(a[0],a[1])),a=[0,100]);let l=o({...e,keyframes:a});"mirror"===s&&(this.mirroredGenerator=o({...e,keyframes:[...a].reverse(),velocity:-n})),null===l.calculatedDuration&&(l.calculatedDuration=ie(l));let{calculatedDuration:u}=l;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=l}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){let{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:n,resolvedDuration:a,calculatedDuration:o}=this;if(null===this.startTime)return r.next(0);let{delay:l=0,keyframes:u,repeat:c,repeatType:d,repeatDelay:h,type:p,onUpdate:m,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=i);let v=this.currentTime,b=r;if(c){let e=Math.min(this.currentTime,i)/a,t=Math.floor(e),r=e%1;!r&&e>=1&&(r=1),1===r&&t--,(t=Math.min(t,c+1))%2&&("reverse"===d?(r=1-r,h&&(r-=h/a)):"mirror"===d&&(b=n)),v=V(0,1,r)*a}let x=y?{done:!1,value:u[0]}:b.next(v);s&&(x.value=s(x.value));let{done:w}=x;y||null===o||(w=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);let k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return k&&p!==ih&&(x.value=ty(u,this.options,f,this.speed)),m&&m(x.value),k&&this.finish(),x}then(e,t){return this.finished.then(e,t)}get duration(){return this.calculatedDuration/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return this.currentTime/1e3}set time(e){e=tl(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(tM.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=this.currentTime/1e3)}play(){if(this.isStopped)return;let{driver:e=r7,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();let r=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=r):null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(tM.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,tb.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}let iV={anticipate:ij,backInOut:iS,circInOut:iE};class iI extends tT{constructor(e){!function(e){"string"==typeof e.ease&&e.ease in iV&&(e.ease=iV[e.ease])}(e),iN(e),super(e),void 0!==e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:r,onComplete:i,element:s,...n}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);let a=new iO({...n,autoplay:!1}),o=Math.max(10,tM.now()-this.startTime),l=V(0,10,o-10);t.setWithVelocity(a.sample(Math.max(0,o-l)).value,a.sample(o).value,l),a.stop()}}let iL=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(ed.test(e)||"0"===e)&&!e.startsWith("url("));function iF(e){e.duration=0,e.type="keyframes"}let iz=new Set(["opacity","clipPath","filter","transform"]),iB=th(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class iU extends tv{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:n="loop",keyframes:a,name:o,motionValue:l,element:u,...c}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=tM.now();const d={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:s,repeatType:n,name:o,motionValue:l,element:u,...c},h=u?.KeyframeResolver||ti;this.keyframeResolver=new h(a,(e,t,r)=>this.onKeyframesResolved(e,t,d,!r),o,l,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,r,i){this.keyframeResolver=void 0;let{name:s,type:n,velocity:a,delay:o,isHandoff:l,onUpdate:u}=r;this.resolvedAt=tM.now(),!function(e,t,r,i){let s=e[0];if(null===s)return!1;if("display"===t||"visibility"===t)return!0;let n=e[e.length-1],a=iL(s,t),o=iL(n,t);return eM(a===o,`You are trying to animate ${t} from "${s}" to "${n}". "${a?n:s}" is not an animatable value.`,"value-not-animatable"),!!a&&!!o&&(function(e){let t=e[0];if(1===e.length)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}(e)||("spring"===r||t_(r))&&i)}(e,s,n,a)&&((e0.instantAnimations||!o)&&u?.(ty(e,r,t)),e[0]=e[e.length-1],iF(r),r.repeat=0);let c={startTime:i?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},d=!l&&function(e){let{motionValue:t,name:r,repeatDelay:i,repeatType:s,damping:n,type:a}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:o,transformTemplate:l}=t.owner.getProps();return iB()&&r&&iz.has(r)&&("transform"!==r||!l)&&!o&&!i&&"mirror"!==s&&0!==n&&"inertia"!==a}(c),h=c.motionValue?.owner?.current,p=d?new iI({...c,element:h}):new iO(c);p.finished.then(()=>{this.notifyFinished()}).catch(eZ),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),te=!0,tr(),tt(),te=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}let iq={type:"spring",stiffness:500,damping:25,restSpeed:10},i$={type:"keyframes",duration:.8},iQ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iK=e=>null!==e,iW=(e,t,r,i={},s,n)=>a=>{let o=rQ(i,e)||{},l=o.delay||i.delay||0,{elapsed:u=0}=i;u-=tl(l);let c={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:n?void 0:s};!function({when:e,delay:t,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:n,repeatType:a,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}(o)&&Object.assign(c,((e,{keyframes:t})=>t.length>2?i$:O.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:iq:iQ)(e,c)),c.duration&&(c.duration=tl(c.duration)),c.repeatDelay&&(c.repeatDelay=tl(c.repeatDelay)),void 0!==c.from&&(c.keyframes[0]=c.from);let d=!1;if(!1!==c.type&&(0!==c.duration||c.repeatDelay)||(iF(c),0===c.delay&&(d=!0)),(e0.instantAnimations||e0.skipAnimations||s?.shouldSkipAnimations)&&(d=!0,iF(c),c.delay=0),c.allowFlatten=!o.type&&!o.ease,d&&!n&&void 0!==t.get()){let e=function(e,{repeat:t,repeatType:r="loop"},i){let s=e.filter(iK),n=t&&"loop"!==r&&t%2==1?0:s.length-1;return s[n]}(c.keyframes,o);if(void 0!==e)return void e5.update(()=>{c.onUpdate(e),c.onComplete()})}return o.isSync?new iO(c):new iU(c)};function iY(e,t,{delay:r=0,transitionOverride:i,type:s}={}){let{transition:n,transitionEnd:a,...o}=t,l=e.getDefaultTransition();n=n?r$(n,l):l;let u=n?.reduceMotion;i&&(n=i);let c=[],d=s&&e.animationState&&e.animationState.getState()[s];for(let t in o){let i=e.getValue(t,e.latestValues[t]??null),s=o[t];if(void 0===s||d&&function({protectedKeys:e,needsAnimating:t},r){let i=e.hasOwnProperty(r)&&!0!==t[r];return t[r]=!1,i}(d,t))continue;let a={delay:r,...rQ(n||{},t)},l=i.get();if(void 0!==l&&!i.isAnimating&&!Array.isArray(s)&&s===l&&!a.velocity)continue;let h=!1;if(window.MotionHandoffAnimation){let r=e.props[rL];if(r){let e=window.MotionHandoffAnimation(r,t,e5);null!==e&&(a.startTime=e,h=!0)}}rW(e,t);let p=u??e.shouldReduceMotion;i.start(iW(t,i,s,p&&eT.has(t)?{type:!1}:a,e,h));let m=i.animation;m&&c.push(m)}if(a){let t=()=>e5.update(()=>{a&&function(e,t){let{transitionEnd:r={},transition:i={},...s}=rq(e,t)||{};for(let t in s={...s,...r}){var n;let r=rK(n=s[t])?n[n.length-1]||0:n;e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,tR(r))}}(e,a)});c.length?Promise.all(c).then(t):t()}return c}function iH(e,t,r,i=0,s=1){let n=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),a=e.size,o=(a-1)*i;return"function"==typeof r?r(n,a):1===s?n*i:o-n*i}function iG(e,t,r={}){let i=rq(e,t,"exit"===r.type?e.presenceContext?.custom:void 0),{transition:s=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(s=r.transitionOverride);let n=i?()=>Promise.all(iY(e,i,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(i=0)=>{let{delayChildren:n=0,staggerChildren:a,staggerDirection:o}=s;return function(e,t,r=0,i=0,s=0,n=1,a){let o=[];for(let l of e.variantChildren)l.notify("AnimationStart",t),o.push(iG(l,t,{...a,delay:r+("function"==typeof i?0:i)+iH(e.variantChildren,l,i,s,n)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,i,n,a,o,r)}:()=>Promise.resolve(),{when:o}=s;if(!o)return Promise.all([n(),a(r.delay)]);{let[e,t]="beforeChildren"===o?[n,a]:[a,n];return e().then(()=>t())}}let iX=tL.length;function iJ(e,t){if(!Array.isArray(t))return!1;let r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(t[i]!==e[i])return!1;return!0}let iZ=[...tI].reverse(),i0=tI.length;function i1(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function i2(){return{animate:i1(!0),whileInView:i1(),whileHover:i1(),whileTap:i1(),whileDrag:i1(),whileFocus:i1(),exit:i1()}}let i5=0;function i4(e){return[e("x"),e("y")]}let i3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),i8=new Set(["INPUT","SELECT","TEXTAREA"]);function i6(e,t,r,i={passive:!0}){return e.addEventListener(t,r,i),()=>e.removeEventListener(t,r)}let i9={x:!1,y:!1};function i7(e){return e.max-e.min}function se(e,t,r,i=.5){e.origin=i,e.originPoint=re(t.min,t.max,e.origin),e.scale=i7(r)/i7(t),e.translate=re(r.min,r.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function st(e,t,r,i){se(e.x,t.x,r.x,i?i.originX:void 0),se(e.y,t.y,r.y,i?i.originY:void 0)}function sr(e,t,r){e.min=r.min+t.min,e.max=e.min+i7(t)}function si(e,t,r){e.min=t.min-r.min,e.max=e.min+i7(t)}function ss(e,t,r){si(e.x,t.x,r.x),si(e.y,t.y,r.y)}function sn(e){return w(e)&&"ownerSVGElement"in e}function sa(e,t,r){if(null==e)return[];if(e instanceof EventTarget)return[e];if("string"==typeof e){let i=document;t&&(i=t.current);let s=r?.[e]??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e).filter(e=>null!=e)}let so=new WeakMap,sl=(e,t,r)=>(i,s)=>s&&s[0]?s[0][e+"Size"]:sn(i)&&"getBBox"in i?i.getBBox()[t]:i[r],su=sl("inline","width","offsetWidth"),sc=sl("block","height","offsetHeight");function sd({target:e,borderBoxSize:t}){so.get(e)?.forEach(r=>{r(e,{get width(){return su(e,t)},get height(){return sc(e,t)}})})}function sh(e){e.forEach(sd)}let sp=new Set;function sm(e,t){let s;return"function"==typeof e?(sp.add(e),i||(i=()=>{let e={get width(){return window.innerWidth},get height(){return window.innerHeight}};sp.forEach(t=>t(e))},window.addEventListener("resize",i)),()=>{sp.delete(e),sp.size||"function"!=typeof i||(window.removeEventListener("resize",i),i=void 0)}):(!r&&"u">typeof ResizeObserver&&(r=new ResizeObserver(sh)),(s=sa(e)).forEach(e=>{let i=so.get(e);i||(i=new Set,so.set(e,i)),i.add(t),r?.observe(e)}),()=>{s.forEach(e=>{let i=so.get(e);i?.delete(t),i?.size||r?.unobserve(e)})})}let sf=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function sg(e){return{point:{x:e.pageX,y:e.pageY}}}function sy(e,t,r,i){return i6(e,t,e=>sf(e)&&r(e,sg(e)),i)}let sv=({current:e})=>e?e.ownerDocument.defaultView:null,sb=(e,t)=>Math.abs(e-t),sx=new Set(["auto","scroll"]);class sw{constructor(e,t,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:n=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=e=>{this.handleScroll(e.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{var e,t;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let r=sj(this.lastMoveEventInfo,this.history),i=null!==this.startEvent,s=(e=r.offset,t={x:0,y:0},Math.sqrt(sb(e.x,t.x)**2+sb(e.y,t.y)**2)>=this.distanceThreshold);if(!i&&!s)return;let{point:n}=r,{timestamp:a}=e3;this.history.push({...n,timestamp:a});let{onStart:o,onMove:l}=this.handlers;i||(o&&o(this.lastMoveEvent,r),this.startEvent=this.lastMoveEvent),l&&l(this.lastMoveEvent,r)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=sk(t,this.transformPagePoint),e5.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:r,onSessionEnd:i,resumeAnimation:s}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&s&&s(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let n=sj("pointercancel"===e.type?this.lastMoveEventInfo:sk(t,this.transformPagePoint),this.history);this.startEvent&&r&&r(e,n),i&&i(e,n)},!sf(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=n,this.contextWindow=i||window;const o=sk(sg(e),this.transformPagePoint),{point:l}=o,{timestamp:u}=e3;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=t;c&&c(e,sj(o,this.history)),this.removeListeners=rH(sy(this.contextWindow,"pointermove",this.handlePointerMove),sy(this.contextWindow,"pointerup",this.handlePointerUp),sy(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(e){let t=e.parentElement;for(;t;){let e=getComputedStyle(t);(sx.has(e.overflowX)||sx.has(e.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){let t=this.scrollPositions.get(e);if(!t)return;let r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s={x:i.x-t.x,y:i.y-t.y};(0!==s.x||0!==s.y)&&(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(e,i),e5.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),e4(this.updatePoint)}}function sk(e,t){return t?{point:t(e.point)}:e}function sS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function sj({point:e},t){return{point:e,delta:sS(e,s_(t)),offset:sS(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,i=null,s=s_(e);for(;r>=0&&(i=e[r],!(s.timestamp-i.timestamp>tl(.1)));)r--;if(!i)return{x:0,y:0};i===e[0]&&e.length>2&&s.timestamp-i.timestamp>2*tl(.1)&&(i=e[1]);let n=(s.timestamp-i.timestamp)/1e3;if(0===n)return{x:0,y:0};let a={x:(s.x-i.x)/n,y:(s.y-i.y)/n};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}(t,.1)}}function s_(e){return e[e.length-1]}function sT(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function sE(e,t){let r=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,i]=[i,r]),{min:r,max:i}}function sP(e,t,r){return{min:sC(e,t),max:sC(e,r)}}function sC(e,t){return"number"==typeof e?e:e[t]||0}let sM=new WeakMap;class sA{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ej(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){let{presenceContext:i}=this.visualElement;if(i&&!1===i.isPresent)return;let s=e=>{t&&this.snapToCursor(sg(e).point),this.stopAnimation()},n=(e,t)=>{let{drag:r,dragPropagation:i,onDragStart:s}=this.getProps();if(r&&!i&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(e){if("x"===e||"y"===e)if(i9[e])return null;else return i9[e]=!0,()=>{i9[e]=!1};return i9.x||i9.y?null:(i9.x=i9.y=!0,()=>{i9.x=i9.y=!1})}(r),!this.openDragLock))return;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),i4(e=>{let t=this.getAxisMotionValue(e).get()||0;if(G.test(t)){let{projection:r}=this.visualElement;if(r&&r.layout){let i=r.layout.layoutBox[e];i&&(t=i7(i)*(parseFloat(t)/100))}}this.originPoint[e]=t}),s&&e5.update(()=>s(e,t),!1,!0),rW(this.visualElement,"transform");let{animationState:n}=this.visualElement;n&&n.setActive("whileDrag",!0)},a=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;let{dragPropagation:r,dragDirectionLock:i,onDirectionLock:s,onDrag:n}=this.getProps();if(!r&&!this.openDragLock)return;let{offset:a}=t;if(i&&null===this.currentDirection){this.currentDirection=function(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}(a),null!==this.currentDirection&&s&&s(this.currentDirection);return}this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),n&&e5.update(()=>n(e,t),!1,!0)},o=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>{let{dragSnapToOrigin:e}=this.getProps();(e||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:u}=this.getProps();this.panSession=new sw(e,{onSessionStart:s,onStart:n,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:sv(this.visualElement),element:this.visualElement.current})}stop(e,t){let r=e||this.latestPointerEvent,i=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;let{velocity:n}=i;this.startAnimation(n);let{onDragEnd:a}=this.getProps();a&&e5.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();let{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,r){let{drag:i}=this.getProps();if(!r||!sN(e,i,this.currentDirection))return;let s=this.getAxisMotionValue(e),n=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(n=function(e,{min:t,max:r},i){return void 0!==t&&e<t?e=i?re(t,e,i.min):Math.max(e,t):void 0!==r&&e>r&&(e=i?re(r,e,i.max):Math.min(e,r)),e}(n,this.constraints[e],this.elastic[e])),s.set(n)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&rz(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=function(e,{top:t,left:r,bottom:i,right:s}){return{x:sT(e.x,r,s),y:sT(e.y,t,i)}}(r.layoutBox,e):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:sP(e,"left","right"),y:sP(e,"top","bottom")}}(t),i!==this.constraints&&!rz(e)&&r&&this.constraints&&!this.hasMutatedConstraints&&i4(e=>{var t,i;let s;!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=(t=r.layoutBox[e],i=this.constraints[e],s={},void 0!==i.min&&(s.min=i.min-t.min),void 0!==i.max&&(s.max=i.max-t.min),s))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!rz(t))return!1;let i=t.current;eA(null!==i,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");let{projection:s}=this.visualElement;if(!s||!s.layout)return!1;let n=function(e,t,r){let i=ry(e,r),{scroll:s}=t;return s&&(rm(i.x,s.offset.x),rm(i.y,s.offset.y)),i}(i,s.root,this.visualElement.getTransformPagePoint()),a=(e=s.layout.layoutBox,{x:sE(e.x,n.x),y:sE(e.y,n.y)});if(r){let e=r(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=ra(e))}return a}startAnimation(e){let{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:n,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{};return Promise.all(i4(a=>{if(!sN(a,t,this.currentDirection))return;let l=o&&o[a]||{};n&&(l={min:0,max:0});let u={type:"inertia",velocity:r?e[a]:0,bounceStiffness:i?200:1e6,bounceDamping:i?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...s,...l};return this.startAxisValueAnimation(a,u)})).then(a)}startAxisValueAnimation(e,t){let r=this.getAxisMotionValue(e);return rW(this.visualElement,e),r.start(iW(e,r,0,t,this.visualElement,!1))}stopAnimation(){i4(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps();return r[t]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){i4(t=>{let{drag:r}=this.getProps();if(!sN(t,r,this.currentDirection))return;let{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){let{min:r,max:n}=i.layout.layoutBox[t],a=s.get()||0;s.set(e[t]-re(r,n,.5)+a)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!rz(t)||!r||!this.constraints)return;this.stopAnimation();let i={x:0,y:0};i4(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){var r,s;let n,a,o,l=t.get();i[e]=(r={min:l,max:l},s=this.constraints[e],n=.5,a=i7(r),(o=i7(s))>a?n=iM(s.min,s.max-a,r.min):a>o&&(n=iM(r.min,r.max-o,s.min)),V(0,1,n))}});let{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),i4(t=>{if(!sN(t,e,null))return;let r=this.getAxisMotionValue(t),{min:s,max:n}=this.constraints[t];r.set(re(s,n,i[t]))}),this.visualElement.render()}addListeners(){let e;if(!this.visualElement.current)return;sM.set(this.visualElement,this);let t=this.visualElement.current,r=sy(t,"pointerdown",e=>{let{drag:r,dragListener:i=!0}=this.getProps(),s=e.target,n=s!==t&&(i8.has(s.tagName)||!0===s.isContentEditable);r&&i&&!n&&this.start(e)}),i=()=>{var r,i,s;let n,a,{dragConstraints:o}=this.getProps();rz(o)&&o.current&&(this.constraints=this.resolveRefConstraints(),e||(r=t,i=o.current,n=sm(r,sR(s=()=>this.scalePositionWithinConstraints())),a=sm(i,sR(s)),e=()=>{n(),a()}))},{projection:s}=this.visualElement,n=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),e5.read(i);let a=i6(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(i4(t=>{let r=this.getAxisMotionValue(t);r&&(this.originPoint[t]+=e[t].translate,r.set(r.get()+e[t].translate))}),this.visualElement.render())});return()=>{a(),r(),n(),o&&o(),e&&e()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:n=.35,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:n,dragMomentum:a}}}function sR(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function sN(e,t,r){return(!0===t||t===e)&&(null===r||r===e)}let sD=e=>(t,r)=>{e&&e5.update(()=>e(t,r),!1,!0)},sO={hasAnimatedSinceResize:!0,hasEverUpdated:!1};var sV=m;let sI=!1;class sL extends sV.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),sI&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),sO.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,{projection:n}=r;return n&&(n.isPresent=s,e.layoutDependency!==t&&n.setOptions({...n.options,layoutDependency:t}),sI=!0,i||e.layoutDependency!==t||void 0===t||e.isPresent!==s?n.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?n.promote():n.relegate()||e5.postRender(()=>{let e=n.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),tP.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;sI=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sF(e){let[t,r]=M(),i=(0,sV.useContext)(g);return(0,p.jsx)(sL,{...e,layoutGroup:i,switchLayoutGroup:(0,sV.useContext)(rF),isPresent:t,safeToRemove:r})}let sz=["TopLeft","TopRight","BottomLeft","BottomRight"],sB=sz.length,sU=e=>"string"==typeof e?parseFloat(e):e,sq=e=>"number"==typeof e||X.test(e);function s$(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let sQ=sW(0,.5,iT),sK=sW(.5,.95,eZ);function sW(e,t,r){return i=>i<e?0:i>t?1:r(iM(e,t,i))}function sY(e,t){e.min=t.min,e.max=t.max}function sH(e,t){sY(e.x,t.x),sY(e.y,t.y)}function sG(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function sX(e,t,r,i,s){return e-=t,e=i+1/r*(e-i),void 0!==s&&(e=i+1/s*(e-i)),e}function sJ(e,t,[r,i,s],n,a){!function(e,t=0,r=1,i=.5,s,n=e,a=e){if(G.test(t)&&(t=parseFloat(t),t=re(a.min,a.max,t/100)-a.min),"number"!=typeof t)return;let o=re(n.min,n.max,i);e===n&&(o-=t),e.min=sX(e.min,t,r,o,s),e.max=sX(e.max,t,r,o,s)}(e,t[r],t[i],t[s],t.scale,n,a)}let sZ=["x","scaleX","originX"],s0=["y","scaleY","originY"];function s1(e,t,r,i){sJ(e.x,t,sZ,r?r.x:void 0,i?i.x:void 0),sJ(e.y,t,s0,r?r.y:void 0,i?i.y:void 0)}function s2(e){return 0===e.translate&&1===e.scale}function s5(e){return s2(e.x)&&s2(e.y)}function s4(e,t){return e.min===t.min&&e.max===t.max}function s3(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function s8(e,t){return s3(e.x,t.x)&&s3(e.y,t.y)}function s6(e){return i7(e.x)/i7(e.y)}function s9(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class s7{constructor(){this.members=[]}add(e){tu(this.members,e);for(let t=this.members.length-1;t>=0;t--){let r=this.members[t];if(r===e||r===this.lead||r===this.prevLead)continue;let i=r.instance;i&&!1===i.isConnected&&!1!==r.isPresent&&!r.snapshot&&tc(this.members,r)}e.scheduleRender()}remove(e){if(tc(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t,r=this.members.findIndex(t=>e===t);if(0===r)return!1;for(let e=r;e>=0;e--){let r=this.members[e],i=r.instance;if(!1!==r.isPresent&&(!i||!1!==i.isConnected)){t=r;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();let i=r.options.layoutDependency,s=e.options.layoutDependency;if(void 0===i||void 0===s||i!==s){let i=r.instance;!(i&&!1===i.isConnected&&!r.snapshot)&&(e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}let{crossfade:n}=e.options;!1===n&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let ne=(e,t)=>e.depth-t.depth;class nt{constructor(){this.children=[],this.isDirty=!1}add(e){tu(this.children,e),this.isDirty=!0}remove(e){tc(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ne),this.isDirty=!1,this.children.forEach(e)}}let nr=["","X","Y","Z"],ni=0;function ns(e,t,r,i){let{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function nn({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(e={},r=t?.()){this.id=ni++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(nl),this.nodes.forEach(nf),this.nodes.forEach(ng),this.nodes.forEach(nu)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new nt)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new td),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let r=this.eventHandlers.get(e);r&&r.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=sn(t)&&!(sn(t)&&"svg"===t.tagName),this.instance=t;let{layoutId:r,layout:i,visualElement:s}=this.options;if(s&&!s.current&&s.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||r)&&(this.isLayoutDirty=!0),e){let r,i=0,s=()=>this.root.updateBlockedByResize=!1;e5.read(()=>{i=window.innerWidth}),e(t,()=>{let e=window.innerWidth;if(e!==i){let t,n;i=e,this.root.updateBlockedByResize=!0,r&&r(),t=tM.now(),n=({timestamp:e})=>{let r=e-t;r>=250&&(e4(n),s(r-250))},e5.setup(n,!0),r=()=>e4(n),sO.hasAnimatedSinceResize&&(sO.hasAnimatedSinceResize=!1,this.nodes.forEach(nm))}})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&s&&(r||i)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:r,layout:i})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let n=this.options.transition||s.getDefaultTransition()||nk,{onLayoutAnimationStart:a,onLayoutAnimationComplete:o}=s.getProps(),l=!this.targetLayout||!s8(this.targetLayout,i),u=!t&&r;if(this.options.layoutRoot||this.resumeFrom||u||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let t={...rQ(n,"layout"),onPlay:a,onComplete:o};(s.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,u)}else t||nm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),e4(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ny),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:r}=t.options;if(!r)return;let i=r.props[rL];if(window.MotionHasOptimisedAnimation(i,"transform")){let{layout:e,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",e5,!(e||r))}let{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&e(s)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:r}=this.options;if(void 0===t&&!r)return;let i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nd);return}if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(nh);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(np),this.nodes.forEach(na),this.nodes.forEach(no)):this.nodes.forEach(nh),this.clearAllSnapshots();let e=tM.now();e3.delta=V(0,1e3/60,e-e3.timestamp),e3.timestamp=e,e3.isProcessing=!0,e8.update.process(e3),e8.preRender.process(e3),e8.render.process(e3),e3.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nc),this.sharedNodes.forEach(nv)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,e5.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){e5.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||i7(this.snapshot.measuredBox.x)||i7(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ej(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!s)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!s5(this.projectionDelta),r=this.getTransformTemplate(),i=r?r(this.latestValues,""):void 0,n=i!==this.prevTransformTemplateValue;e&&this.instance&&(t||ru(this.latestValues)||n)&&(s(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let r=this.measurePageBox(),i=this.removeElementScroll(r);return e&&(i=this.removeTransform(i)),n_((t=i).x),n_(t.y),{animationId:this.root.animationId,measuredBox:r,layoutBox:i,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return ej();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(nE))){let{scroll:e}=this.root;e&&(rm(t.x,e.offset.x),rm(t.y,e.offset.y))}return t}removeElementScroll(e){let t=ej();if(sH(t,e),this.scroll?.wasRoot)return t;for(let r=0;r<this.path.length;r++){let i=this.path[r],{scroll:s,options:n}=i;i!==this.root&&s&&n.layoutScroll&&(s.wasRoot&&sH(t,e),rm(t.x,s.offset.x),rm(t.y,s.offset.y))}return t}applyTransform(e,t=!1){let r=ej();sH(r,e);for(let e=0;e<this.path.length;e++){let i=this.path[e];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&rg(r,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),ru(i.latestValues)&&rg(r,i.latestValues)}return ru(this.latestValues)&&rg(r,this.latestValues),r}removeTransform(e){let t=ej();sH(t,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];if(!r.instance||!ru(r.latestValues))continue;rl(r.latestValues)&&r.updateSnapshot();let i=ej();sH(i,r.measurePageBox()),s1(t,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,i)}return ru(this.latestValues)&&s1(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==e3.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);let r=!!this.resumingFrom||this!==t;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:i,layoutId:s}=this.options;if(!this.layout||!(i||s))return;this.resolvedRelativeTargetAt=e3.timestamp;let n=this.getClosestProjectingParent();if(n&&this.linkedParentVersion!==n.layoutVersion&&!n.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(n&&n.layout?this.createRelativeTarget(n,this.layout.layoutBox,n.layout.layoutBox):this.removeRelativeTarget()),this.relativeTarget||this.targetDelta){if(this.target||(this.target=ej(),this.targetWithTransforms=ej()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target){var a,o,l;this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,sr(a.x,o.x,l.x),sr(a.y,o.y,l.y)}else this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):sH(this.target,this.layout.layoutBox),rp(this.target,this.targetDelta)):sH(this.target,this.layout.layoutBox);this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,n&&!!n.resumingFrom==!!this.resumingFrom&&!n.options.layoutScroll&&n.target&&1!==this.animationProgress?this.createRelativeTarget(n,this.target,n.target):this.relativeParent=this.relativeTarget=void 0)}}getClosestProjectingParent(){if(!(!this.parent||rl(this.parent.latestValues)||rc(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(e,t,r){this.relativeParent=e,this.linkedParentVersion=e.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ej(),this.relativeTargetOrigin=ej(),ss(this.relativeTargetOrigin,t,r),sH(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,r=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(r=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===e3.timestamp&&(r=!1),r)return;let{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(i||s))return;sH(this.layoutCorrected,this.layout.layoutBox);let n=this.treeScale.x,a=this.treeScale.y;!function(e,t,r,i=!1){let s,n,a=r.length;if(a){t.x=t.y=1;for(let o=0;o<a;o++){n=(s=r[o]).projectionDelta;let{visualElement:a}=s.options;(!a||!a.props.style||"contents"!==a.props.style.display)&&(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&rg(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),n&&(t.x*=n.x.scale,t.y*=n.y.scale,rp(e,n)),i&&ru(s.latestValues)&&rg(e,s.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}}(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=ej());let{target:o}=e;if(!o){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(sG(this.prevProjectionDelta.x,this.projectionDelta.x),sG(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),st(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===n&&this.treeScale.y===a&&s9(this.projectionDelta.x,this.prevProjectionDelta.x)&&s9(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ek(),this.projectionDelta=ek(),this.projectionDeltaWithTransform=ek()}setAnimationOrigin(e,t=!1){let r,i=this.snapshot,s=i?i.latestValues:{},n={...this.latestValues},a=ek();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=ej(),l=(i?i.source:void 0)!==(this.layout?this.layout.source:void 0),u=this.getStack(),c=!u||u.members.length<=1,d=!!(l&&!c&&!0===this.options.crossfade&&!this.path.some(nw));this.animationProgress=0,this.mixTargetDelta=t=>{let i=t/1e3;if(nb(a.x,e.x,i),nb(a.y,e.y,i),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var u,h,p,m,f,g;ss(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,m=this.relativeTargetOrigin,f=o,g=i,nx(p.x,m.x,f.x,g),nx(p.y,m.y,f.y,g),r&&(u=this.relativeTarget,h=r,s4(u.x,h.x)&&s4(u.y,h.y))&&(this.isProjectionDirty=!1),r||(r=ej()),sH(r,this.relativeTarget)}l&&(this.animationValues=n,function(e,t,r,i,s,n){s?(e.opacity=re(0,r.opacity??1,sQ(i)),e.opacityExit=re(t.opacity??1,0,sK(i))):n&&(e.opacity=re(t.opacity??1,r.opacity??1,i));for(let s=0;s<sB;s++){let n=`border${sz[s]}Radius`,a=s$(t,n),o=s$(r,n);(void 0!==a||void 0!==o)&&(a||(a=0),o||(o=0),0===a||0===o||sq(a)===sq(o)?(e[n]=Math.max(re(sU(a),sU(o),i),0),(G.test(o)||G.test(a))&&(e[n]+="%")):e[n]=o)}(t.rotate||r.rotate)&&(e.rotate=re(t.rotate||0,r.rotate||0,i))}(n,s,this.latestValues,i,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=i},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(e4(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=e5.update(()=>{var t,r,i;let s;sO.hasAnimatedSinceResize=!0,tb.layout++,this.motionValue||(this.motionValue=tR(0)),this.motionValue.jump(0,!1),this.currentAnimation=(t=this.motionValue,r=[0,1e3],i={...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{tb.layout--},onComplete:()=>{tb.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}},(s=e_(t)?t:tR(t)).start(iW("",s,r,i)),s.animation),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:r,layout:i,latestValues:s}=e;if(t&&r&&i){if(this!==e&&this.layout&&i&&nT(this.options.animationType,this.layout.layoutBox,i.layoutBox)){r=this.target||ej();let t=i7(this.layout.layoutBox.x);r.x.min=e.target.x.min,r.x.max=r.x.min+t;let i=i7(this.layout.layoutBox.y);r.y.min=e.target.y.min,r.y.max=r.y.min+i}sH(t,r),rg(t,s),st(this.projectionDeltaWithTransform,this.layoutCorrected,t,s)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new s7),this.sharedNodes.get(e).add(t);let r=t.options.initialPromotionConfig;t.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:r}={}){let i=this.getStack();i&&i.promote(this,r),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:r}=e;if((r.z||r.rotate||r.rotateX||r.rotateY||r.rotateZ||r.skewX||r.skewY)&&(t=!0),!t)return;let i={};r.z&&ns("z",e,i,this.animationValues);for(let t=0;t<nr.length;t++)ns(`rotate${nr[t]}`,e,i,this.animationValues),ns(`skew${nr[t]}`,e,i,this.animationValues);for(let t in e.render(),i)e.setStaticValue(t,i[t]),this.animationValues&&(this.animationValues[t]=i[t]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible){e.visibility="hidden";return}let r=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=rM(t?.pointerEvents)||"",e.transform=r?r(this.latestValues,""):"none";return}let i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target){this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=rM(t?.pointerEvents)||""),this.hasProjected&&!ru(this.latestValues)&&(e.transform=r?r({},""):"none",this.hasProjected=!1);return}e.visibility="";let s=i.animationValues||i.latestValues;this.applyTransformsToTarget();let n=function(e,t,r){let i="",s=e.x.translate/t.x,n=e.y.translate/t.y,a=r?.z||0;if((s||n||a)&&(i=`translate3d(${s}px, ${n}px, ${a}px) `),(1!==t.x||1!==t.y)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),r){let{transformPerspective:e,rotate:t,rotateX:s,rotateY:n,skewX:a,skewY:o}=r;e&&(i=`perspective(${e}px) ${i}`),t&&(i+=`rotate(${t}deg) `),s&&(i+=`rotateX(${s}deg) `),n&&(i+=`rotateY(${n}deg) `),a&&(i+=`skewX(${a}deg) `),o&&(i+=`skewY(${o}deg) `)}let o=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==o||1!==l)&&(i+=`scale(${o}, ${l})`),i||"none"}(this.projectionDeltaWithTransform,this.treeScale,s);r&&(n=r(s,n)),e.transform=n;let{x:a,y:o}=this.projectionDelta;for(let t in e.transformOrigin=`${100*a.origin}% ${100*o.origin}% 0`,i.animationValues?e.opacity=i===this?s.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:e.opacity=i===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0,rt){if(void 0===s[t])continue;let{correct:r,applyTo:a,isCSSVariable:o}=rt[t],l="none"===n?s[t]:r(s[t],i);if(a){let t=a.length;for(let r=0;r<t;r++)e[a[r]]=l}else o?this.options.visualElement.renderState.vars[t]=l:e[t]=l}this.options.layoutId&&(e.pointerEvents=i===this?rM(t?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(nd),this.root.sharedNodes.clear()}}}function na(e){e.updateLayout()}function no(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){let{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,n=t.source!==e.layout.source;"size"===s?i4(e=>{let i=n?t.measuredBox[e]:t.layoutBox[e],s=i7(i);i.min=r[e].min,i.max=i.min+s}):nT(s,t.layoutBox,r)&&i4(i=>{let s=n?t.measuredBox[i]:t.layoutBox[i],a=i7(r[i]);s.max=s.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[i].max=e.relativeTarget[i].min+a)});let a=ek();st(a,r,t.layoutBox);let o=ek();n?st(o,e.applyTransform(i,!0),t.measuredBox):st(o,r,t.layoutBox);let l=!s5(a),u=!1;if(!e.resumeFrom){let i=e.getClosestProjectingParent();if(i&&!i.resumeFrom){let{snapshot:s,layout:n}=i;if(s&&n){let a=ej();ss(a,t.layoutBox,s.layoutBox);let o=ej();ss(o,r,n.layoutBox),s8(a,o)||(u=!0),i.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=i)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function nl(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function nu(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function nc(e){e.clearSnapshot()}function nd(e){e.clearMeasurements()}function nh(e){e.isLayoutDirty=!1}function np(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function nm(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function nf(e){e.resolveTargetDelta()}function ng(e){e.calcProjection()}function ny(e){e.resetSkewAndRotation()}function nv(e){e.removeLeadSnapshot()}function nb(e,t,r){e.translate=re(t.translate,0,r),e.scale=re(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function nx(e,t,r,i){e.min=re(t.min,r.min,i),e.max=re(t.max,r.max,i)}function nw(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let nk={duration:.45,ease:[.4,0,.1,1]},nS=e=>"u">typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),nj=nS("applewebkit/")&&!nS("chrome/")?Math.round:eZ;function n_(e){e.min=nj(e.min),e.max=nj(e.max)}function nT(e,t,r){return"position"===e||"preserve-aspect"===e&&!(.2>=Math.abs(s6(t)-s6(r)))}function nE(e){return e!==e.root&&e.scroll?.wasRoot}let nP=nn({attachResizeListener:(e,t)=>i6(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),nC={current:void 0},nM=nn({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!nC.current){let e=new nP({});e.mount(window),e.setOptions({layoutScroll:!0}),nC.current=e}return nC.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});function nA(e,t){let r=sa(e),i=new AbortController;return[r,{passive:!0,...t,signal:i.signal},()=>i.abort()]}function nR(e,t,r){let{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover","Start"===r);let s=i["onHover"+r];s&&e5.postRender(()=>s(t,sg(t)))}let nN=(e,t)=>!!t&&(e===t||nN(e,t.parentElement)),nD=new WeakSet;function nO(e){return t=>{"Enter"===t.key&&e(t)}}function nV(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function nI(e){return sf(e)&&!(i9.x||i9.y)}let nL=new WeakSet;function nF(e,t,r){let{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap","Start"===r);let s=i["onTap"+("End"===r?"":r)];s&&e5.postRender(()=>s(t,sg(t)))}let nz=new WeakMap,nB=new WeakMap,nU=e=>{let t=nz.get(e.target);t&&t(e)},nq=e=>{e.forEach(nU)},n$={some:0,all:1},nQ=function(e,t){if("u"<typeof Proxy)return rB;let r=new Map,i=(r,i)=>rB(r,i,e,t);return new Proxy((e,t)=>i(e,t),{get:(s,n)=>"create"===n?i:(r.has(n)||r.set(n,rB(n,void 0,e,t)),r.get(n))})}({animation:{Feature:class extends rU{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:r})=>(function(e,t,r={}){let i;if(e.notify("AnimationStart",t),Array.isArray(t))i=Promise.all(t.map(t=>iG(e,t,r)));else if("string"==typeof t)i=iG(e,t,r);else{let s="function"==typeof t?rq(e,t,r.custom):t;i=Promise.all(iY(e,s,r))}return i.then(()=>{e.notify("AnimationComplete",t)})})(e,t,r))),r=i2(),i=!0,s=t=>(r,i)=>{let s=rq(e,i,"exit"===t?e.presenceContext?.custom:void 0);if(s){let{transition:e,transitionEnd:t,...i}=s;r={...r,...i,...t}}return r};function n(n){let{props:a}=e,o=function e(t){if(!t)return;if(!t.isControllingVariants){let r=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(r.initial=t.props.initial),r}let r={};for(let e=0;e<iX;e++){let i=tL[e],s=t.props[i];(tV(s)||!1===s)&&(r[i]=s)}return r}(e.parent)||{},l=[],u=new Set,c={},d=1/0;for(let t=0;t<i0;t++){var h,p;let m=iZ[t],f=r[m],g=void 0!==a[m]?a[m]:o[m],y=tV(g),v=m===n?f.isActive:null;!1===v&&(d=t);let b=g===o[m]&&g!==a[m]&&y;if(b&&i&&e.manuallyAnimateOnMount&&(b=!1),f.protectedKeys={...c},!f.isActive&&null===v||!g&&!f.prevProp||tO(g)||"boolean"==typeof g)continue;if("exit"===m&&f.isActive&&!0!==v){f.prevResolvedValues&&(c={...c,...f.prevResolvedValues});continue}let x=(h=f.prevProp,"string"==typeof(p=g)?p!==h:!!Array.isArray(p)&&!iJ(p,h)),w=x||m===n&&f.isActive&&!b&&y||t>d&&y,k=!1,S=Array.isArray(g)?g:[g],j=S.reduce(s(m),{});!1===v&&(j={});let{prevResolvedValues:_={}}=f,T={..._,...j},E=t=>{w=!0,u.has(t)&&(k=!0,u.delete(t)),f.needsAnimating[t]=!0;let r=e.getValue(t);r&&(r.liveStyle=!1)};for(let e in T){let t=j[e],r=_[e];if(!c.hasOwnProperty(e))(rK(t)&&rK(r)?iJ(t,r):t===r)?void 0!==t&&u.has(e)?E(e):f.protectedKeys[e]=!0:null!=t?E(e):u.add(e)}f.prevProp=g,f.prevResolvedValues=j,f.isActive&&(c={...c,...j}),i&&e.blockInitialAnimation&&(w=!1);let P=b&&x,C=!P||k;w&&C&&l.push(...S.map(t=>{let r={type:m};if("string"==typeof t&&i&&!P&&e.manuallyAnimateOnMount&&e.parent){let{parent:i}=e,s=rq(i,t);if(i.enteringChildren&&s){let{delayChildren:t}=s.transition||{};r.delay=iH(i.enteringChildren,e,t)}}return{animation:t,options:r}}))}if(u.size){let t={};if("boolean"!=typeof a.initial){let r=rq(e,Array.isArray(a.initial)?a.initial[0]:a.initial);r&&r.transition&&(t.transition=r.transition)}u.forEach(r=>{let i=e.getBaseTarget(r),s=e.getValue(r);s&&(s.liveStyle=!0),t[r]=i??null}),l.push({animation:t})}let m=!!l.length;return i&&(!1===a.initial||a.initial===a.animate)&&!e.manuallyAnimateOnMount&&(m=!1),i=!1,m?t(l):Promise.resolve()}return{animateChanges:n,setActive:function(t,i){if(r[t].isActive===i)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,i)),r[t].isActive=i;let s=n(t);for(let e in r)r[e].protectedKeys={};return s},setAnimateFunction:function(r){t=r(e)},getState:()=>r,reset:()=>{r=i2()}}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();tO(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends rU{constructor(){super(...arguments),this.id=i5++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;let i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}},inView:{Feature:class extends rU{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){var e;let t;this.unmount();let{viewport:r={}}=this.node.getProps(),{root:i,margin:s,amount:n="some",once:a}=r,o={root:i?i.current:void 0,rootMargin:s,threshold:"number"==typeof n?n:n$[n]},l=e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,a&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:r,onViewportLeave:i}=this.node.getProps(),s=t?r:i;s&&s(e)};return e=this.node.current,t=function({root:e,...t}){let r=e||document;nB.has(r)||nB.set(r,{});let i=nB.get(r),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(nq,{root:e,...t})),i[s]}(o),nz.set(e,l),t.observe(e),()=>{nz.delete(e),t.unobserve(e)}}mount(){this.startObserver()}update(){if("u"<typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends rU{mount(){let{current:e}=this.node;if(!e)return;let{globalTapTarget:t,propagate:r}=this.node.props;this.unmount=function(e,t,r={}){let[i,s,n]=nA(e,r),a=e=>{let i=e.currentTarget;if(!nI(e)||nL.has(e))return;nD.add(i),r.stopPropagation&&nL.add(e);let n=t(i,e),a=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),nD.has(i)&&nD.delete(i),nI(e)&&"function"==typeof n&&n(e,{success:t})},o=e=>{a(e,i===window||i===document||r.useGlobalTarget||nN(i,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",o,s),window.addEventListener("pointercancel",l,s)};return i.forEach(e=>{((r.useGlobalTarget?window:e).addEventListener("pointerdown",a,s),k(e))&&(e.addEventListener("focus",e=>((e,t)=>{let r=e.currentTarget;if(!r)return;let i=nO(()=>{if(nD.has(r))return;nV(r,"down");let e=nO(()=>{nV(r,"up")});r.addEventListener("keyup",e,t),r.addEventListener("blur",()=>nV(r,"cancel"),t)});r.addEventListener("keydown",i,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),t)})(e,s)),i3.has(e.tagName)||!0===e.isContentEditable||e.hasAttribute("tabindex")||(e.tabIndex=0))}),n}(e,(e,t)=>(nF(this.node,t,"Start"),(e,{success:t})=>nF(this.node,e,t?"End":"Cancel")),{useGlobalTarget:t,stopPropagation:r?.tap===!1})}unmount(){}}},focus:{Feature:class extends rU{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rH(i6(this.node.current,"focus",()=>this.onFocus()),i6(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends rU{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,r={}){let[i,s,n]=nA(e,r);return i.forEach(e=>{let r,i=!1,n=!1,a=t=>{r&&(r(t),r=void 0),e.removeEventListener("pointerleave",l)},o=e=>{i=!1,window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",o),n&&(n=!1,a(e))},l=e=>{if("touch"!==e.pointerType){if(i){n=!0;return}a(e)}};e.addEventListener("pointerenter",i=>{if("touch"===i.pointerType||i9.x||i9.y)return;n=!1;let a=t(e,i);"function"==typeof a&&(r=a,e.addEventListener("pointerleave",l,s))},s),e.addEventListener("pointerdown",()=>{i=!0,window.addEventListener("pointerup",o,s),window.addEventListener("pointercancel",o,s)},s)}),n}(e,(e,t)=>(nR(this.node,t,"Start"),e=>nR(this.node,e,"End"))))}unmount(){}}},pan:{Feature:class extends rU{constructor(){super(...arguments),this.removePointerDownListener=eZ}onPointerDown(e){this.session=new sw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sv(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:sD(e),onStart:sD(t),onMove:sD(r),onEnd:(e,t)=>{delete this.session,i&&e5.postRender(()=>i(e,t))}}}mount(){this.removePointerDownListener=sy(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends rU{constructor(e){super(e),this.removeGroupControls=eZ,this.removeListeners=eZ,this.controls=new sA(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||eZ}update(){let{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}},ProjectionNode:nM,MeasureLayout:sF},layout:{ProjectionNode:nM,MeasureLayout:sF}},(e,t)=>t.isSVG??rx(e)?new rn(t):new rv(t,{allowProjection:e!==m.Fragment}));var nK=e.i(39087),nW=e.i(93184),nY=e.i(19184),nH=e.i(70154),nG=class extends nY.Subscribable{#c;#y=void 0;#v;#b;constructor(e,t){super(),this.#c=e,this.setOptions(t),this.bindMethods(),this.#x()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#c.defaultMutationOptions(e),(0,nH.shallowEqualObjects)(this.options,t)||this.#c.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#v,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,nH.hashKey)(t.mutationKey)!==(0,nH.hashKey)(this.options.mutationKey)?this.reset():this.#v?.state.status==="pending"&&this.#v.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#v?.removeObserver(this)}onMutationUpdate(e){this.#x(),this.#w(e)}getCurrentResult(){return this.#y}reset(){this.#v?.removeObserver(this),this.#v=void 0,this.#x(),this.#w()}mutate(e,t){return this.#b=t,this.#v?.removeObserver(this),this.#v=this.#c.getMutationCache().build(this.#c,this.options),this.#v.addObserver(this),this.#v.execute(e)}#x(){let e=this.#v?.state??(0,nK.getDefaultState)();this.#y={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#w(e){nW.notifyManager.batch(()=>{if(this.#b&&this.hasListeners()){let t=this.#y.variables,r=this.#y.context,i={client:this.#c,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#b.onSuccess?.(e.data,t,r,i)}catch(e){Promise.reject(e)}try{this.#b.onSettled?.(e.data,null,t,r,i)}catch(e){Promise.reject(e)}}else if(e?.type==="error"){try{this.#b.onError?.(e.error,t,r,i)}catch(e){Promise.reject(e)}try{this.#b.onSettled?.(void 0,e.error,t,r,i)}catch(e){Promise.reject(e)}}}this.listeners.forEach(e=>{e(this.#y)})})}},nX=e.i(89101);function nJ(e,t){let r=(0,nX.useQueryClient)(t),[i]=m.useState(()=>new nG(r,e));m.useEffect(()=>{i.setOptions(e)},[i,e]);let s=m.useSyncExternalStore(m.useCallback(e=>i.subscribe(nW.notifyManager.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),n=m.useCallback((e,t)=>{i.mutate(e,t).catch(nH.noop)},[i]);if(s.error&&(0,nH.shouldThrowError)(i.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:n,mutateAsync:s.mutate}}var nZ=e.i(31305),n0=e.i(44243),n1=nY,n2=e.i(10197),n5=e.i(96143),n4=class extends n1.Subscribable{constructor(e,t){super(),this.options=t,this.#c=e,this.#k=null,this.#S=(0,n2.pendingThenable)(),this.bindMethods(),this.setOptions(t)}#c;#j=void 0;#_=void 0;#y=void 0;#T;#E;#S;#k;#P;#C;#M;#A;#R;#N;#D=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#j.addObserver(this),n3(this.#j,this.options)?this.#O():this.updateResult(),this.#V())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return n8(this.#j,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return n8(this.#j,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#I(),this.#L(),this.#j.removeObserver(this)}setOptions(e){let t=this.options,r=this.#j;if(this.options=this.#c.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,nH.resolveEnabled)(this.options.enabled,this.#j))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#F(),this.#j.setOptions(this.options),t._defaulted&&!(0,nH.shallowEqualObjects)(this.options,t)&&this.#c.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#j,observer:this});let i=this.hasListeners();i&&n6(this.#j,r,this.options,t)&&this.#O(),this.updateResult(),i&&(this.#j!==r||(0,nH.resolveEnabled)(this.options.enabled,this.#j)!==(0,nH.resolveEnabled)(t.enabled,this.#j)||(0,nH.resolveStaleTime)(this.options.staleTime,this.#j)!==(0,nH.resolveStaleTime)(t.staleTime,this.#j))&&this.#z();let s=this.#B();i&&(this.#j!==r||(0,nH.resolveEnabled)(this.options.enabled,this.#j)!==(0,nH.resolveEnabled)(t.enabled,this.#j)||s!==this.#N)&&this.#U(s)}getOptimisticResult(e){var t,r;let i=this.#c.getQueryCache().build(this.#c,e),s=this.createResult(i,e);return t=this,r=s,(0,nH.shallowEqualObjects)(t.getCurrentResult(),r)||(this.#y=s,this.#E=this.options,this.#T=this.#j.state),s}getCurrentResult(){return this.#y}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),"promise"===r&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#S.status||this.#S.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,r))})}trackProp(e){this.#D.add(e)}getCurrentQuery(){return this.#j}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#c.defaultQueryOptions(e),r=this.#c.getQueryCache().build(this.#c,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#O({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#y))}#O(e){this.#F();let t=this.#j.fetch(this.options,e);return e?.throwOnError||(t=t.catch(nH.noop)),t}#z(){this.#I();let e=(0,nH.resolveStaleTime)(this.options.staleTime,this.#j);if(nH.isServer||this.#y.isStale||!(0,nH.isValidTimeout)(e))return;let t=(0,nH.timeUntilStale)(this.#y.dataUpdatedAt,e);this.#A=n5.timeoutManager.setTimeout(()=>{this.#y.isStale||this.updateResult()},t+1)}#B(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#j):this.options.refetchInterval)??!1}#U(e){this.#L(),this.#N=e,!nH.isServer&&!1!==(0,nH.resolveEnabled)(this.options.enabled,this.#j)&&(0,nH.isValidTimeout)(this.#N)&&0!==this.#N&&(this.#R=n5.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||nZ.focusManager.isFocused())&&this.#O()},this.#N))}#V(){this.#z(),this.#U(this.#B())}#I(){this.#A&&(n5.timeoutManager.clearTimeout(this.#A),this.#A=void 0)}#L(){this.#R&&(n5.timeoutManager.clearInterval(this.#R),this.#R=void 0)}createResult(e,t){let r,i=this.#j,s=this.options,n=this.#y,a=this.#T,o=this.#E,l=e!==i?e.state:this.#_,{state:u}=e,c={...u},d=!1;if(t._optimisticResults){let r=this.hasListeners(),n=!r&&n3(e,t),a=r&&n6(e,i,t,s);(n||a)&&(c={...c,...(0,n0.fetchState)(u.data,e.options)}),"isRestoring"===t._optimisticResults&&(c.fetchStatus="idle")}let{error:h,errorUpdatedAt:p,status:m}=c;r=c.data;let f=!1;if(void 0!==t.placeholderData&&void 0===r&&"pending"===m){let e;n?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(e=n.data,f=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#M?.state.data,this.#M):t.placeholderData,void 0!==e&&(m="success",r=(0,nH.replaceData)(n?.data,e,t),d=!0)}if(t.select&&void 0!==r&&!f)if(n&&r===a?.data&&t.select===this.#P)r=this.#C;else try{this.#P=t.select,r=t.select(r),r=(0,nH.replaceData)(n?.data,r,t),this.#C=r,this.#k=null}catch(e){this.#k=e}this.#k&&(h=this.#k,r=this.#C,p=Date.now(),m="error");let g="fetching"===c.fetchStatus,y="pending"===m,v="error"===m,b=y&&g,x=void 0!==r,w={status:m,fetchStatus:c.fetchStatus,isPending:y,isSuccess:"success"===m,isError:v,isInitialLoading:b,isLoading:b,data:r,dataUpdatedAt:c.dataUpdatedAt,error:h,errorUpdatedAt:p,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>l.dataUpdateCount||c.errorUpdateCount>l.errorUpdateCount,isFetching:g,isRefetching:g&&!y,isLoadingError:v&&!x,isPaused:"paused"===c.fetchStatus,isPlaceholderData:d,isRefetchError:v&&x,isStale:n9(e,t),refetch:this.refetch,promise:this.#S,isEnabled:!1!==(0,nH.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=void 0!==w.data,r="error"===w.status&&!t,s=e=>{r?e.reject(w.error):t&&e.resolve(w.data)},n=()=>{s(this.#S=w.promise=(0,n2.pendingThenable)())},a=this.#S;switch(a.status){case"pending":e.queryHash===i.queryHash&&s(a);break;case"fulfilled":(r||w.data!==a.value)&&n();break;case"rejected":r&&w.error===a.reason||n()}}return w}updateResult(){let e=this.#y,t=this.createResult(this.#j,this.options);if(this.#T=this.#j.state,this.#E=this.options,void 0!==this.#T.data&&(this.#M=this.#j),(0,nH.shallowEqualObjects)(t,e))return;this.#y=t;let r=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#D.size)return!0;let i=new Set(r??this.#D);return this.options.throwOnError&&i.add("error"),Object.keys(this.#y).some(t=>this.#y[t]!==e[t]&&i.has(t))};this.#w({listeners:r()})}#F(){let e=this.#c.getQueryCache().build(this.#c,this.options);if(e===this.#j)return;let t=this.#j;this.#j=e,this.#_=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#V()}#w(e){nW.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#y)}),this.#c.getQueryCache().notify({query:this.#j,type:"observerResultsUpdated"})})}};function n3(e,t){return!1!==(0,nH.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&n8(e,t,t.refetchOnMount)}function n8(e,t,r){if(!1!==(0,nH.resolveEnabled)(t.enabled,e)&&"static"!==(0,nH.resolveStaleTime)(t.staleTime,e)){let i="function"==typeof r?r(e):r;return"always"===i||!1!==i&&n9(e,t)}return!1}function n6(e,t,r,i){return(e!==t||!1===(0,nH.resolveEnabled)(i.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&n9(e,r)}function n9(e,t){return!1!==(0,nH.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,nH.resolveStaleTime)(t.staleTime,e))}var n7=m.createContext((s=!1,{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s})),ae=m.createContext(!1);ae.Provider;var at=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function ar(e,t){return function(e,t,r){let i,s=m.useContext(ae),n=m.useContext(n7),a=(0,nX.useQueryClient)(r),o=a.defaultQueryOptions(e);a.getDefaultOptions().queries?._experimental_beforeQuery?.(o);let l=a.getQueryCache().get(o.queryHash);if(o._optimisticResults=s?"isRestoring":"optimistic",o.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=o.staleTime;o.staleTime="function"==typeof t?(...r)=>e(t(...r)):e(t),"number"==typeof o.gcTime&&(o.gcTime=Math.max(o.gcTime,1e3))}i=l?.state.error&&"function"==typeof o.throwOnError?(0,nH.shouldThrowError)(o.throwOnError,[l.state.error,l]):o.throwOnError,(o.suspense||o.experimental_prefetchInRender||i)&&!n.isReset()&&(o.retryOnMount=!1),m.useEffect(()=>{n.clearReset()},[n]);let u=!a.getQueryCache().get(o.queryHash),[c]=m.useState(()=>new t(a,o)),d=c.getOptimisticResult(o),h=!s&&!1!==e.subscribed;if(m.useSyncExternalStore(m.useCallback(e=>{let t=h?c.subscribe(nW.notifyManager.batchCalls(e)):nH.noop;return c.updateResult(),t},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(o)},[o,c]),o?.suspense&&d.isPending)throw at(o,c,n);if((({result:e,errorResetBoundary:t,throwOnError:r,query:i,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(s&&void 0===e.data||(0,nH.shouldThrowError)(r,[e.error,i])))({result:d,errorResetBoundary:n,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw d.error;if(a.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!nH.isServer&&d.isLoading&&d.isFetching&&!s){let e=u?at(o,c,n):l?.promise;e?.catch(nH.noop).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}(e,n4,t)}let ai=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),as=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var an={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let aa=(0,m.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:s="",children:n,iconNode:a,...o},l)=>(0,m.createElement)("svg",{ref:l,...an,width:t,height:t,stroke:e,strokeWidth:i?24*Number(r)/Number(t):r,className:ai("lucide",s),...!n&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(o)&&{"aria-hidden":"true"},...o},[...a.map(([e,t])=>(0,m.createElement)(e,t)),...Array.isArray(n)?n:[n]])),ao=(e,t)=>{let r=(0,m.forwardRef)(({className:r,...i},s)=>(0,m.createElement)(aa,{ref:s,iconNode:t,className:ai(`lucide-${as(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...i}));return r.displayName=as(e),r},al=ao("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),au=ao("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),ac=ao("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]),ad=ao("bug",[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]]),ah=ao("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ap=ao("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]),am=ao("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),af=ao("key-round",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]),ag=ao("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),ay=ao("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),av=ao("mic-vocal",[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]]),ab=ao("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),ax=ao("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),aw=ao("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),ak=ao("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),aS=ao("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),aj=ao("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),a_=ao("waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);var aT=e.i(28841);async function aE(e,t){let r=await fetch(e,{...t,headers:{"Content-Type":"application/json",...t?.headers||{}},cache:"no-store"}),i={};try{i=await r.json()}catch{i={}}if(!r.ok)throw Error("string"==typeof i.error?i.error:`HTTP ${r.status}`);return i}async function aP(){return aE("/api/server_status",{method:"GET"})}async function aC(){return(await aE("/api/settings",{method:"GET"})).settings}async function aM(e){return aE("/api/settings",{method:"PATCH",body:JSON.stringify({settings:e})})}async function aA(){return aE("/api/secrets",{method:"GET"})}async function aR(e){return aE("/api/secrets",{method:"POST",body:JSON.stringify(e)})}async function aN(){return(await aE("/api/ws_url",{method:"GET"})).url}async function aD(e,t=8){let r=encodeURIComponent(e);return(await aE(`/api/setup_system_search?query=${r}&limit=${Math.max(3,Math.min(12,t))}`,{method:"GET"})).results||[]}async function aO(){return(await aE("/api/kb/documents",{method:"GET"})).documents||[]}async function aV(e){return aE("/api/kb/upload_start",{method:"POST",body:JSON.stringify(e)})}async function aI(e){return aE("/api/kb/upload_chunk",{method:"POST",body:JSON.stringify(e)})}async function aL(e){return aE("/api/kb/upload_finish",{method:"POST",body:JSON.stringify({upload_id:e})})}async function aF(e,t){let r=await aV({filename:e.name,doc_id:t.docId,ruleset:t.ruleset,doc_kind:t.docKind,collection_target:t.collectionTarget,total_bytes:e.size}),i=new Uint8Array(await e.arrayBuffer()),s=t.chunkSize||49152,n=0;for(let e=0;e<i.length;e+=s){let a=i.subarray(e,e+s);await aI({upload_id:r.upload_id,seq:n,data_b64:function(e){let t="";for(let r=0;r<e.length;r+=32768)t+=String.fromCharCode(...e.subarray(r,r+32768));return btoa(t)}(a)}),n+=1,t.onProgress?.(Math.min(e+a.length,i.length),i.length)}return{...await aL(r.upload_id),upload_id:r.upload_id,doc_id:r.doc_id}}async function az(e){return aE("/api/kb/sync_rulebook",{method:"POST",body:JSON.stringify(e||{})})}async function aB(e){return aE("/api/kb/ingest",{method:"POST",body:JSON.stringify(e)})}async function aU(e){return aE("/api/kb/delete",{method:"POST",body:JSON.stringify(e)})}async function aq(e){return aE("/api/kb/search",{method:"POST",body:JSON.stringify(e)})}async function a$(e){let t=new URLSearchParams;return e.scope&&t.set("scope",e.scope),e.limit&&t.set("limit",String(e.limit)),e.session_id&&t.set("session_id",e.session_id),e.player_id&&t.set("player_id",e.player_id),(await aE(`/api/memory?${t.toString()}`,{method:"GET"})).entries||[]}async function aQ(e){return aE("/api/memory/clear",{method:"POST",body:JSON.stringify(e)})}async function aK(e){return aE("/api/campaign/new",{method:"POST",body:JSON.stringify({name:e})})}async function aW(){return aE("/api/campaign/resume_latest",{method:"POST",body:JSON.stringify({})})}async function aY(){return aE("/api/campaign/reset",{method:"POST",body:JSON.stringify({})})}async function aH(){return(await aE("/api/elevenlabs/voices",{method:"GET"})).voices||[]}function aG(){for(var e,t,r=0,i="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=function e(t){var r,i,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t)if(Array.isArray(t)){var n=t.length;for(r=0;r<n;r++)t[r]&&(i=e(t[r]))&&(s&&(s+=" "),s+=i)}else for(i in t)t[i]&&(s&&(s+=" "),s+=i);return s}(e))&&(i&&(i+=" "),i+=t);return i}let aX=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),aJ=[],aZ=(e,t,r)=>{if(0==e.length-t)return r.classGroupId;let i=e[t],s=r.nextPart.get(i);if(s){let r=aZ(e,t+1,s);if(r)return r}let n=r.validators;if(null===n)return;let a=0===t?e.join("-"):e.slice(t).join("-"),o=n.length;for(let e=0;e<o;e++){let t=n[e];if(t.validator(a))return t.classGroupId}},a0=(e,t)=>{let r=aX();for(let i in e)a1(e[i],r,i,t);return r},a1=(e,t,r,i)=>{let s=e.length;for(let n=0;n<s;n++)a2(e[n],t,r,i)},a2=(e,t,r,i)=>{"string"==typeof e?a5(e,t,r):"function"==typeof e?a4(e,t,r,i):a3(e,t,r,i)},a5=(e,t,r)=>{(""===e?t:a8(t,e)).classGroupId=r},a4=(e,t,r,i)=>{a6(e)?a1(e(i),t,r,i):(null===t.validators&&(t.validators=[]),t.validators.push({classGroupId:r,validator:e}))},a3=(e,t,r,i)=>{let s=Object.entries(e),n=s.length;for(let e=0;e<n;e++){let[n,a]=s[e];a1(a,a8(t,n),r,i)}},a8=(e,t)=>{let r=e,i=t.split("-"),s=i.length;for(let e=0;e<s;e++){let t=i[e],s=r.nextPart.get(t);s||(s=aX(),r.nextPart.set(t,s)),r=s}return r},a6=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,a9=[],a7=(e,t,r,i,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:i,isExternal:s}),oe=/\s+/,ot=e=>{let t;if("string"==typeof e)return e;let r="";for(let i=0;i<e.length;i++)e[i]&&(t=ot(e[i]))&&(r&&(r+=" "),r+=t);return r},or=[],oi=e=>{let t=t=>t[e]||or;return t.isThemeGetter=!0,t},os=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,on=/^\((?:(\w[\w-]*):)?(.+)\)$/i,oa=/^\d+(?:\.\d+)?\/\d+(?:\.\d+)?$/,oo=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ol=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ou=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,oc=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,od=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,oh=e=>oa.test(e),op=e=>!!e&&!Number.isNaN(Number(e)),om=e=>!!e&&Number.isInteger(Number(e)),of=e=>e.endsWith("%")&&op(e.slice(0,-1)),og=e=>oo.test(e),oy=()=>!0,ov=e=>ol.test(e)&&!ou.test(e),ob=()=>!1,ox=e=>oc.test(e),ow=e=>od.test(e),ok=e=>!oj(e)&&!oR(e),oS=e=>oz(e,o$,ob),oj=e=>os.test(e),o_=e=>oz(e,oQ,ov),oT=e=>oz(e,oK,op),oE=e=>oz(e,oY,oy),oP=e=>oz(e,oW,ob),oC=e=>oz(e,oU,ob),oM=e=>oz(e,oq,ow),oA=e=>oz(e,oH,ox),oR=e=>on.test(e),oN=e=>oB(e,oQ),oD=e=>oB(e,oW),oO=e=>oB(e,oU),oV=e=>oB(e,o$),oI=e=>oB(e,oq),oL=e=>oB(e,oH,!0),oF=e=>oB(e,oY,!0),oz=(e,t,r)=>{let i=os.exec(e);return!!i&&(i[1]?t(i[1]):r(i[2]))},oB=(e,t,r=!1)=>{let i=on.exec(e);return!!i&&(i[1]?t(i[1]):r)},oU=e=>"position"===e||"percentage"===e,oq=e=>"image"===e||"url"===e,o$=e=>"length"===e||"size"===e||"bg-size"===e,oQ=e=>"length"===e,oK=e=>"number"===e,oW=e=>"family-name"===e,oY=e=>"number"===e||"weight"===e,oH=e=>"shadow"===e,oG=((e,...t)=>{let r,i,s,n,a=e=>{let t=i(e);if(t)return t;let n=((e,t)=>{let{parseClassName:r,getClassGroupId:i,getConflictingClassGroupIds:s,sortModifiers:n}=t,a=[],o=e.trim().split(oe),l="";for(let e=o.length-1;e>=0;e-=1){let t=o[e],{isExternal:u,modifiers:c,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=r(t);if(u){l=t+(l.length>0?" "+l:l);continue}let m=!!p,f=i(m?h.substring(0,p):h);if(!f){if(!m||!(f=i(h))){l=t+(l.length>0?" "+l:l);continue}m=!1}let g=0===c.length?"":1===c.length?c[0]:n(c).join(":"),y=d?g+"!":g,v=y+f;if(a.indexOf(v)>-1)continue;a.push(v);let b=s(f,m);for(let e=0;e<b.length;++e){let t=b[e];a.push(y+t)}l=t+(l.length>0?" "+l:l)}return l})(e,r);return s(e,n),n};return n=o=>{var l;let u;return i=(r={cache:(e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,r=Object.create(null),i=Object.create(null),s=(s,n)=>{r[s]=n,++t>e&&(t=0,i=r,r=Object.create(null))};return{get(e){let t=r[e];return void 0!==t?t:void 0!==(t=i[e])?(s(e,t),t):void 0},set(e,t){e in r?r[e]=t:s(e,t)}}})((l=t.reduce((e,t)=>t(e),e())).cacheSize),parseClassName:(e=>{let{prefix:t,experimentalParseClassName:r}=e,i=e=>{let t,r=[],i=0,s=0,n=0,a=e.length;for(let o=0;o<a;o++){let a=e[o];if(0===i&&0===s){if(":"===a){r.push(e.slice(n,o)),n=o+1;continue}if("/"===a){t=o;continue}}"["===a?i++:"]"===a?i--:"("===a?s++:")"===a&&s--}let o=0===r.length?e:e.slice(n),l=o,u=!1;return o.endsWith("!")?(l=o.slice(0,-1),u=!0):o.startsWith("!")&&(l=o.slice(1),u=!0),a7(r,u,l,t&&t>n?t-n:void 0)};if(t){let e=t+":",r=i;i=t=>t.startsWith(e)?r(t.slice(e.length)):a7(a9,!1,t,void 0,!0)}if(r){let e=i;i=t=>r({className:t,parseClassName:e})}return i})(l),sortModifiers:(u=new Map,l.orderSensitiveModifiers.forEach((e,t)=>{u.set(e,1e6+t)}),e=>{let t=[],r=[];for(let i=0;i<e.length;i++){let s=e[i],n="["===s[0],a=u.has(s);n||a?(r.length>0&&(r.sort(),t.push(...r),r=[]),t.push(s)):r.push(s)}return r.length>0&&(r.sort(),t.push(...r)),t}),...(e=>{let t=(e=>{let{theme:t,classGroups:r}=e;return a0(r,t)})(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]")){var r;let t,i,s;return -1===(r=e).slice(1,-1).indexOf(":")?void 0:(i=(t=r.slice(1,-1)).indexOf(":"),(s=t.slice(0,i))?"arbitrary.."+s:void 0)}let i=e.split("-"),s=+(""===i[0]&&i.length>1);return aZ(i,s,t)},getConflictingClassGroupIds:(e,t)=>{if(t){let t=i[e],s=r[e];if(t){if(s){let e=Array(s.length+t.length);for(let t=0;t<s.length;t++)e[t]=s[t];for(let r=0;r<t.length;r++)e[s.length+r]=t[r];return e}return t}return s||aJ}return r[e]||aJ}}})(l)}).cache.get,s=r.cache.set,n=a,a(o)},(...e)=>n(((...e)=>{let t,r,i=0,s="";for(;i<e.length;)(t=e[i++])&&(r=ot(t))&&(s&&(s+=" "),s+=r);return s})(...e))})(()=>{let e=oi("color"),t=oi("font"),r=oi("text"),i=oi("font-weight"),s=oi("tracking"),n=oi("leading"),a=oi("breakpoint"),o=oi("container"),l=oi("spacing"),u=oi("radius"),c=oi("shadow"),d=oi("inset-shadow"),h=oi("text-shadow"),p=oi("drop-shadow"),m=oi("blur"),f=oi("perspective"),g=oi("aspect"),y=oi("ease"),v=oi("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],x=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],w=()=>[...x(),oR,oj],k=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],j=()=>[oR,oj,l],_=()=>[oh,"full","auto",...j()],T=()=>[om,"none","subgrid",oR,oj],E=()=>["auto",{span:["full",om,oR,oj]},om,oR,oj],P=()=>[om,"auto",oR,oj],C=()=>["auto","min","max","fr",oR,oj],M=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],A=()=>["start","end","center","stretch","center-safe","end-safe"],R=()=>["auto",...j()],N=()=>[oh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],D=()=>[oh,"screen","full","dvw","lvw","svw","min","max","fit",...j()],O=()=>[oh,"screen","full","lh","dvh","lvh","svh","min","max","fit",...j()],V=()=>[e,oR,oj],I=()=>[...x(),oO,oC,{position:[oR,oj]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",oV,oS,{size:[oR,oj]}],z=()=>[of,oN,o_],B=()=>["","none","full",u,oR,oj],U=()=>["",op,oN,o_],q=()=>["solid","dashed","dotted","double"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>[op,of,oO,oC],K=()=>["","none",m,oR,oj],W=()=>["none",op,oR,oj],Y=()=>["none",op,oR,oj],H=()=>[op,oR,oj],G=()=>[oh,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[og],breakpoint:[og],color:[oy],container:[og],"drop-shadow":[og],ease:["in","out","in-out"],font:[ok],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[og],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[og],shadow:[og],spacing:["px",op],text:[og],"text-shadow":[og],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",oh,oj,oR,g]}],container:["container"],columns:[{columns:[op,oj,oR,o]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:w()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:_()}],"inset-x":[{"inset-x":_()}],"inset-y":[{"inset-y":_()}],start:[{"inset-s":_(),start:_()}],end:[{"inset-e":_(),end:_()}],"inset-bs":[{"inset-bs":_()}],"inset-be":[{"inset-be":_()}],top:[{top:_()}],right:[{right:_()}],bottom:[{bottom:_()}],left:[{left:_()}],visibility:["visible","invisible","collapse"],z:[{z:[om,"auto",oR,oj]}],basis:[{basis:[oh,"full","auto",o,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[op,oh,"auto","initial","none",oj]}],grow:[{grow:["",op,oR,oj]}],shrink:[{shrink:["",op,oR,oj]}],order:[{order:[om,"first","last","none",oR,oj]}],"grid-cols":[{"grid-cols":T()}],"col-start-end":[{col:E()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":T()}],"row-start-end":[{row:E()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":C()}],"auto-rows":[{"auto-rows":C()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...M(),"normal"]}],"justify-items":[{"justify-items":[...A(),"normal"]}],"justify-self":[{"justify-self":["auto",...A()]}],"align-content":[{content:["normal",...M()]}],"align-items":[{items:[...A(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...A(),{baseline:["","last"]}]}],"place-content":[{"place-content":M()}],"place-items":[{"place-items":[...A(),"baseline"]}],"place-self":[{"place-self":["auto",...A()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pbs:[{pbs:j()}],pbe:[{pbe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:R()}],mx:[{mx:R()}],my:[{my:R()}],ms:[{ms:R()}],me:[{me:R()}],mbs:[{mbs:R()}],mbe:[{mbe:R()}],mt:[{mt:R()}],mr:[{mr:R()}],mb:[{mb:R()}],ml:[{ml:R()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:N()}],"inline-size":[{inline:["auto",...D()]}],"min-inline-size":[{"min-inline":["auto",...D()]}],"max-inline-size":[{"max-inline":["none",...D()]}],"block-size":[{block:["auto",...O()]}],"min-block-size":[{"min-block":["auto",...O()]}],"max-block-size":[{"max-block":["none",...O()]}],w:[{w:[o,"screen",...N()]}],"min-w":[{"min-w":[o,"screen","none",...N()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...N()]}],h:[{h:["screen","lh",...N()]}],"min-h":[{"min-h":["screen","lh","none",...N()]}],"max-h":[{"max-h":["screen","lh",...N()]}],"font-size":[{text:["base",r,oN,o_]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,oF,oE]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",of,oj]}],"font-family":[{font:[oD,oP,t]}],"font-features":[{"font-features":[oj]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,oR,oj]}],"line-clamp":[{"line-clamp":[op,"none",oR,oT]}],leading:[{leading:[n,...j()]}],"list-image":[{"list-image":["none",oR,oj]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",oR,oj]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:[op,"from-font","auto",oR,o_]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[op,"auto",oR,oj]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",oR,oj]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",oR,oj]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:I()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},om,oR,oj],radial:["",oR,oj],conic:[om,oR,oj]},oI,oM]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:z()}],"gradient-via-pos":[{via:z()}],"gradient-to-pos":[{to:z()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:B()}],"rounded-s":[{"rounded-s":B()}],"rounded-e":[{"rounded-e":B()}],"rounded-t":[{"rounded-t":B()}],"rounded-r":[{"rounded-r":B()}],"rounded-b":[{"rounded-b":B()}],"rounded-l":[{"rounded-l":B()}],"rounded-ss":[{"rounded-ss":B()}],"rounded-se":[{"rounded-se":B()}],"rounded-ee":[{"rounded-ee":B()}],"rounded-es":[{"rounded-es":B()}],"rounded-tl":[{"rounded-tl":B()}],"rounded-tr":[{"rounded-tr":B()}],"rounded-br":[{"rounded-br":B()}],"rounded-bl":[{"rounded-bl":B()}],"border-w":[{border:U()}],"border-w-x":[{"border-x":U()}],"border-w-y":[{"border-y":U()}],"border-w-s":[{"border-s":U()}],"border-w-e":[{"border-e":U()}],"border-w-bs":[{"border-bs":U()}],"border-w-be":[{"border-be":U()}],"border-w-t":[{"border-t":U()}],"border-w-r":[{"border-r":U()}],"border-w-b":[{"border-b":U()}],"border-w-l":[{"border-l":U()}],"divide-x":[{"divide-x":U()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":U()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...q(),"hidden","none"]}],"divide-style":[{divide:[...q(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-bs":[{"border-bs":V()}],"border-color-be":[{"border-be":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[op,oR,oj]}],"outline-w":[{outline:["",op,oN,o_]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",c,oL,oA]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",d,oL,oA]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[op,o_]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":U()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",h,oL,oA]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[op,oR,oj]}],"mix-blend":[{"mix-blend":[...$(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":$()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[op]}],"mask-image-linear-from-pos":[{"mask-linear-from":Q()}],"mask-image-linear-to-pos":[{"mask-linear-to":Q()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":Q()}],"mask-image-t-to-pos":[{"mask-t-to":Q()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":Q()}],"mask-image-r-to-pos":[{"mask-r-to":Q()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":Q()}],"mask-image-b-to-pos":[{"mask-b-to":Q()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":Q()}],"mask-image-l-to-pos":[{"mask-l-to":Q()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":Q()}],"mask-image-x-to-pos":[{"mask-x-to":Q()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":Q()}],"mask-image-y-to-pos":[{"mask-y-to":Q()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[oR,oj]}],"mask-image-radial-from-pos":[{"mask-radial-from":Q()}],"mask-image-radial-to-pos":[{"mask-radial-to":Q()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":x()}],"mask-image-conic-pos":[{"mask-conic":[op]}],"mask-image-conic-from-pos":[{"mask-conic-from":Q()}],"mask-image-conic-to-pos":[{"mask-conic-to":Q()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:I()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",oR,oj]}],filter:[{filter:["","none",oR,oj]}],blur:[{blur:K()}],brightness:[{brightness:[op,oR,oj]}],contrast:[{contrast:[op,oR,oj]}],"drop-shadow":[{"drop-shadow":["","none",p,oL,oA]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",op,oR,oj]}],"hue-rotate":[{"hue-rotate":[op,oR,oj]}],invert:[{invert:["",op,oR,oj]}],saturate:[{saturate:[op,oR,oj]}],sepia:[{sepia:["",op,oR,oj]}],"backdrop-filter":[{"backdrop-filter":["","none",oR,oj]}],"backdrop-blur":[{"backdrop-blur":K()}],"backdrop-brightness":[{"backdrop-brightness":[op,oR,oj]}],"backdrop-contrast":[{"backdrop-contrast":[op,oR,oj]}],"backdrop-grayscale":[{"backdrop-grayscale":["",op,oR,oj]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[op,oR,oj]}],"backdrop-invert":[{"backdrop-invert":["",op,oR,oj]}],"backdrop-opacity":[{"backdrop-opacity":[op,oR,oj]}],"backdrop-saturate":[{"backdrop-saturate":[op,oR,oj]}],"backdrop-sepia":[{"backdrop-sepia":["",op,oR,oj]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",oR,oj]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[op,"initial",oR,oj]}],ease:[{ease:["linear","initial",y,oR,oj]}],delay:[{delay:[op,oR,oj]}],animate:[{animate:["none",v,oR,oj]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[f,oR,oj]}],"perspective-origin":[{"perspective-origin":w()}],rotate:[{rotate:W()}],"rotate-x":[{"rotate-x":W()}],"rotate-y":[{"rotate-y":W()}],"rotate-z":[{"rotate-z":W()}],scale:[{scale:Y()}],"scale-x":[{"scale-x":Y()}],"scale-y":[{"scale-y":Y()}],"scale-z":[{"scale-z":Y()}],"scale-3d":["scale-3d"],skew:[{skew:H()}],"skew-x":[{"skew-x":H()}],"skew-y":[{"skew-y":H()}],transform:[{transform:[oR,oj,"","none","gpu","cpu"]}],"transform-origin":[{origin:w()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:G()}],"translate-x":[{"translate-x":G()}],"translate-y":[{"translate-y":G()}],"translate-z":[{"translate-z":G()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",oR,oj]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mbs":[{"scroll-mbs":j()}],"scroll-mbe":[{"scroll-mbe":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pbs":[{"scroll-pbs":j()}],"scroll-pbe":[{"scroll-pbe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",oR,oj]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[op,oN,o_,oT]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","inset-bs","inset-be","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pbs","pbe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mbs","mbe","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-bs","border-w-be","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-bs","border-color-be","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mbs","scroll-mbe","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pbs","scroll-pbe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function oX(...e){return oG(aG(e))}function oJ(e,t="rulebook"){return e.toLowerCase().replace(/[^a-z0-9_-]+/g,"_").replace(/^_+|_+$/g,"").slice(0,59)||t}let oZ=e=>{let t,r=new Set,i=(e,i)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=i?i:"object"!=typeof s||null===s)?s:Object.assign({},t,s),r.forEach(r=>r(t,e))}},s=()=>t,n={setState:i,getState:s,getInitialState:()=>a,subscribe:e=>(r.add(e),()=>r.delete(e))},a=t=e(i,s,n);return n},o0=e=>{let t=e?oZ(e):oZ,r=e=>(function(e,t=e=>e){let r=m.default.useSyncExternalStore(e.subscribe,m.default.useCallback(()=>t(e.getState()),[e,t]),m.default.useCallback(()=>t(e.getInitialState()),[e,t]));return m.default.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},o1=(n=e=>({activeTab:"setup",wsStatus:"disconnected",wsUrl:"",messages:[],setActiveTab:t=>e({activeTab:t}),setWsStatus:t=>e({wsStatus:t}),setWsUrl:t=>e({wsUrl:t}),addMessage:t=>e(e=>({messages:[...e.messages,t].slice(-300)})),clearMessages:()=>e({messages:[]})}))?o0(n):o0;function o2({className:e,...t}){return(0,p.jsx)("div",{className:oX("inline-flex items-center rounded-full border border-slate-200 bg-white/80 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-slate-700",e),...t})}function o5(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var o4=Symbol.for("react.lazy"),o3=m[" use ".trim().toString()];function o8(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===o4&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var o6=((d=m.forwardRef((e,t)=>{let{children:r,...i}=e;if(o8(r)&&"function"==typeof o3&&(r=o3(r._payload)),m.isValidElement(r)){var s;let e,n,a=(s=r,(n=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(n=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),o=function(e,t){let r={...t};for(let i in t){let s=e[i],n=t[i];/^on[A-Z]/.test(i)?s&&n?r[i]=(...e)=>{let t=n(...e);return s(...e),t}:s&&(r[i]=s):"style"===i?r[i]={...s,...n}:"className"===i&&(r[i]=[s,n].filter(Boolean).join(" "))}return{...e,...r}}(i,r.props);return r.type!==m.Fragment&&(o.ref=t?function(...e){return t=>{let r=!1,i=e.map(e=>{let i=o5(e,t);return r||"function"!=typeof i||(r=!0),i});if(r)return()=>{for(let t=0;t<i.length;t++){let r=i[t];"function"==typeof r?r():o5(e[t],null)}}}}(t,a):a),m.cloneElement(r,o)}return m.Children.count(r)>1?m.Children.only(null):null})).displayName="Slot.SlotClone",a=d,(o=m.forwardRef((e,t)=>{let{children:r,...i}=e;o8(r)&&"function"==typeof o3&&(r=o3(r._payload));let s=m.Children.toArray(r),n=s.find(o7);if(n){let e=n.props.children,r=s.map(t=>t!==n?t:m.Children.count(e)>1?m.Children.only(null):m.isValidElement(e)?e.props.children:null);return(0,p.jsx)(a,{...i,ref:t,children:m.isValidElement(e)?m.cloneElement(e,void 0,r):null})}return(0,p.jsx)(a,{...i,ref:t,children:r})})).displayName="Slot.Slot",o),o9=Symbol("radix.slottable");function o7(e){return m.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o9}let le=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,lt=(l="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-semibold transition-all disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2",u={variants:{variant:{default:"bg-[linear-gradient(135deg,#0f9bb5_0%,#0f62fe_70%)] text-white shadow-[0_10px_25px_rgba(15,98,254,0.28)] hover:brightness-110 focus-visible:ring-sky-500",secondary:"bg-white/70 text-slate-900 border border-slate-200 hover:bg-white focus-visible:ring-slate-500",ghost:"text-slate-700 hover:bg-slate-100 focus-visible:ring-slate-500",danger:"bg-rose-500 text-white hover:bg-rose-600 focus-visible:ring-rose-500"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-xl px-6"}},defaultVariants:{variant:"default",size:"default"}},e=>{var t;if((null==u?void 0:u.variants)==null)return aG(l,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:r,defaultVariants:i}=u,s=Object.keys(r).map(t=>{let s=null==e?void 0:e[t],n=null==i?void 0:i[t];if(null===s)return null;let a=le(s)||le(n);return r[t][a]}),n=e&&Object.entries(e).reduce((e,t)=>{let[r,i]=t;return void 0===i||(e[r]=i),e},{});return aG(l,s,null==u||null==(t=u.compoundVariants)?void 0:t.reduce((e,t)=>{let{class:r,className:s,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...i,...n}[t]):({...i,...n})[t]===r})?[...e,r,s]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)}),lr=m.forwardRef(({className:e,variant:t,size:r,asChild:i=!1,...s},n)=>(0,p.jsx)(i?o6:"button",{className:oX(lt({variant:t,size:r,className:e})),ref:n,...s}));function li({className:e,...t}){return(0,p.jsx)("div",{className:oX("rounded-2xl border border-slate-200/90 bg-white/80 shadow-[0_12px_35px_rgba(15,23,42,0.08)] backdrop-blur",e),...t})}function ls({className:e,...t}){return(0,p.jsx)("div",{className:oX("flex flex-col gap-1.5 p-5 pb-2",e),...t})}function ln({className:e,...t}){return(0,p.jsx)("h3",{className:oX("text-base font-semibold tracking-tight text-slate-900",e),...t})}function la({className:e,...t}){return(0,p.jsx)("p",{className:oX("text-sm text-slate-600",e),...t})}function lo({className:e,...t}){return(0,p.jsx)("div",{className:oX("p-5 pt-2",e),...t})}lr.displayName="Button";let ll=m.forwardRef(({className:e,...t},r)=>(0,p.jsx)("input",{ref:r,className:oX("flex h-10 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none placeholder:text-slate-400 focus:border-sky-400 focus:ring-2 focus:ring-sky-200 disabled:cursor-not-allowed disabled:opacity-60",e),...t}));function lu({className:e,...t}){return(0,p.jsx)("label",{className:oX("mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-600",e),...t})}ll.displayName="Input";let lc=m.forwardRef(({className:e,children:t,...r},i)=>(0,p.jsx)("select",{ref:i,className:oX("flex h-10 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:border-sky-400 focus:ring-2 focus:ring-sky-200 disabled:cursor-not-allowed disabled:opacity-60",e),...r,children:t}));lc.displayName="Select";let ld={setup:"Setup",play:"Play",advanced:"Advanced"},lh=[{key:"OPENAI_API_KEY",label:"OpenAI API Key"},{key:"DEEPGRAM_API_KEY",label:"Deepgram API Key"},{key:"ELEVENLABS_API_KEY",label:"ElevenLabs API Key"},{key:"OPENAI_BASE_URL",label:"OpenAI Base URL"}],lp=[{id:"speaker_diarization",label:"Speaker Diarization",summary:"Nova-3 + diarize=true"},{id:"multilingual",label:"Language Switching / Multilingual",summary:"Nova-3 + language=multi"},{id:"auto_language_detection",label:"Auto Language Detection",summary:"Nova-3 + detect_language=true"},{id:"multilingual_diarization",label:"Streaming Multilingual + Diarization",summary:"Nova-3 + language=multi + diarize=true"}];function lm(e){return JSON.parse(JSON.stringify(e))}function lf(e){return"boolean"!=typeof e.voice.auto_select_active_speaker&&(e.voice.auto_select_active_speaker=!0),e.openai.llm_provider||(e.openai.llm_provider="openai"),Array.isArray(e.openai.llm_provider_options)&&0!==e.openai.llm_provider_options.length||(e.openai.llm_provider_options=["openai","codex_chatgpt"]),e.openai.deepgram_feature_profile||(e.openai.deepgram_feature_profile="speaker_diarization"),Array.isArray(e.openai.deepgram_feature_profile_options)&&0!==e.openai.deepgram_feature_profile_options.length||(e.openai.deepgram_feature_profile_options=lp.map(e=>e.id)),e.voice.player_profiles&&0!==e.voice.player_profiles.length||(e.voice.player_profiles=[{player_id:"player1",display_name:"Player 1",voice_profile:""}]),e.voice.player_profiles=e.voice.player_profiles.slice(0,8),e.voice.player_profiles.find(t=>t.player_id===e.voice.active_player_id)||(e.voice.active_player_id=e.voice.player_profiles[0].player_id),e.voice.player_id=e.voice.active_player_id,e}function lg(){return"u">typeof crypto&&"randomUUID"in crypto?crypto.randomUUID():`${Date.now()}_${Math.random().toString(16).slice(2)}`}function ly(e){if(null==e)return"";try{let t=JSON.stringify(e);return t.length>400?`${t.slice(0,400)}...`:t}catch{return String(e)}}function lv(){let e=(0,nX.useQueryClient)(),t=o1(e=>e.activeTab),r=o1(e=>e.setActiveTab),i=o1(e=>e.wsStatus),s=o1(e=>e.setWsStatus),n=o1(e=>e.wsUrl),a=o1(e=>e.setWsUrl),o=o1(e=>e.messages),l=o1(e=>e.addMessage),u=o1(e=>e.clearMessages),c=m.useRef(null),d=m.useRef(null),h=m.useRef(null),f=m.useRef(null),g=m.useRef(null),y=m.useRef(new Uint8Array(0)),v=m.useRef(!1),b=m.useRef(0),x=m.useRef(new Set),w=m.useRef(null),k=m.useRef(null),S=m.useRef("ptt"),j=m.useRef(.02),_=m.useRef("high"),T=m.useRef(!1),E=m.useRef("player1"),P=m.useRef(!0),C=m.useRef(!1),M=m.useRef(0),A=m.useRef(0),R=m.useRef(0),D=m.useRef(0),O=m.useRef(0),V=m.useRef(0),I=m.useRef(0),L=m.useRef(0),F=m.useRef(0),z=m.useRef(0),[B,U]=m.useState(null),[q,$]=m.useState(!1),[Q,K]=m.useState(""),[W,Y]=m.useState("ptt"),[H,G]=m.useState(.02),[X,J]=m.useState(()=>{let e=window.localStorage.getItem("vgm_interrupt_sensitivity");return"balanced"===e||"high"===e||"max"===e?e:"high"}),[Z,ee]=m.useState(0),[et,er]=m.useState(!1),[ei,es]=m.useState(!1),[en,ea]=m.useState("idle"),[eo,el]=m.useState(()=>"1"===window.localStorage.getItem("vgm_voice_trace_enabled")),[eu,ec]=m.useState([]),[ed,eh]=m.useState(""),[ep,em]=m.useState([]),[ef,eg]=m.useState(""),[ey,ev]=m.useState(null),[eb,ex]=m.useState(0),[ew,ek]=m.useState(""),[eS,ej]=m.useState([]),[e_,eT]=m.useState("campaign"),[eE,eP]=m.useState({OPENAI_API_KEY:"keep",DEEPGRAM_API_KEY:"keep",ELEVENLABS_API_KEY:"keep",OPENAI_BASE_URL:"keep"}),[eC,eM]=m.useState({OPENAI_API_KEY:"",DEEPGRAM_API_KEY:"",ELEVENLABS_API_KEY:"",OPENAI_BASE_URL:""}),eA=ar({queryKey:["settings"],queryFn:aC}),eR=ar({queryKey:["status"],queryFn:aP,refetchInterval:1e4}),eN=ar({queryKey:["ws-url"],queryFn:aN}),eD=ar({queryKey:["secrets"],queryFn:aA}),eO=ar({queryKey:["kb-docs"],queryFn:aO,refetchInterval:"advanced"===t&&7e3}),eV=ar({queryKey:["memory",e_,B?.voice.session_id||"",B?.voice.active_player_id||B?.voice.player_id||""],queryFn:()=>a$({scope:e_,limit:80,session_id:B?.voice.session_id,player_id:B?.voice.active_player_id||B?.voice.player_id}),enabled:!!B&&"advanced"===t}),eI=ar({queryKey:["eleven-voices"],queryFn:aH,enabled:!!B&&"elevenlabs"===B.openai.tts_provider&&!!eD.data?.secrets?.ELEVENLABS_API_KEY?.present});m.useEffect(()=>{eA.data&&!q&&U(lf(lm(eA.data)))},[eA.data,q]),m.useEffect(()=>{!n&&eN.data&&a(eN.data)},[n,eN.data,a]),m.useEffect(()=>{C.current=eo,window.localStorage.setItem("vgm_voice_trace_enabled",eo?"1":"0")},[eo]);let eL=m.useCallback((e,t,r)=>{C.current&&ec(i=>[...i,{id:lg(),ts:Date.now(),level:e,msg:t,data:r}].slice(-500))},[]);m.useEffect(()=>{S.current=W},[W]),m.useEffect(()=>{j.current=H},[H]),m.useEffect(()=>{_.current=X,window.localStorage.setItem("vgm_interrupt_sensitivity",X)},[X]),m.useEffect(()=>{T.current=ei},[ei]),m.useEffect(()=>{E.current=B?.voice.active_player_id||B?.voice.player_id||"player1"},[B?.voice.active_player_id,B?.voice.player_id]),m.useEffect(()=>{P.current=B?.voice.auto_select_active_speaker!==!1},[B?.voice.auto_select_active_speaker]);let eF=nJ({mutationFn:async e=>aM(e),onSuccess:t=>{if(!t.settings)return;let r=lf(lm(t.settings));if(U(r),$(!1),e.setQueryData(["settings"],r),e.invalidateQueries({queryKey:["status"]}),e.invalidateQueries({queryKey:["kb-docs"]}),t.rulebook_sync&&!1===t.rulebook_sync.ok){let e=String(t.rulebook_sync.error||"rulebook sync failed");aT.toast.error(e)}else aT.toast.success("Settings saved");t.restart_required&&aT.toast.message("Some voice provider changes still require process restart.")},onError:e=>aT.toast.error(e.message)}),ez=nJ({mutationFn:aR,onSuccess:t=>{e.setQueryData(["secrets"],t),e.invalidateQueries({queryKey:["status"]}),eM({OPENAI_API_KEY:"",DEEPGRAM_API_KEY:"",ELEVENLABS_API_KEY:"",OPENAI_BASE_URL:""}),eP({OPENAI_API_KEY:"keep",DEEPGRAM_API_KEY:"keep",ELEVENLABS_API_KEY:"keep",OPENAI_BASE_URL:"keep"}),aT.toast.success("Secrets saved to .env and live process environment")},onError:e=>aT.toast.error(e.message)}),eB=nJ({mutationFn:e=>aD(e),onSuccess:e=>{em(e),eg(e[0]?.id||""),e.length||aT.toast.message("No hints found. Try a broader game system name.")},onError:e=>aT.toast.error(e.message)}),eU=nJ({mutationFn:async e=>{ex(0);let t=oJ(e.name.replace(/\.pdf$/i,"")||"rulebook");return aF(e,{docId:`${t}_${Date.now().toString().slice(-5)}`,ruleset:B?.knowledge.primary_rulebook_ruleset||void 0,docKind:B?.knowledge.primary_rulebook_doc_kind||"rulebook",collectionTarget:B?.knowledge.primary_rulebook_collection_target||"game",onProgress:(e,t)=>ex(Math.floor(e/Math.max(1,t)*100))})},onSuccess:async t=>{ev(null),ex(100);let r=lm(B);r.knowledge.primary_rulebook_source="doc",r.knowledge.primary_rulebook_doc_choice=t.doc_id,r.knowledge.primary_rulebook_doc_id=t.doc_id,r.knowledge.active_doc_ids=Array.from(new Set([...r.knowledge.active_doc_ids||[],t.doc_id])),r.knowledge.enabled=!0,U(r),$(!0),await e.invalidateQueries({queryKey:["kb-docs"]}),eF.mutate(r),aT.toast.success(`Uploaded ${t.doc_id} and queued settings sync`)},onError:e=>{ex(0),aT.toast.error(e.message)}}),eq=nJ({mutationFn:()=>az({}),onSuccess:async()=>{await e.invalidateQueries({queryKey:["kb-docs"]}),await e.invalidateQueries({queryKey:["settings"]}),aT.toast.success("Rulebook synced")},onError:e=>aT.toast.error(e.message)}),e$=nJ({mutationFn:e=>aB({doc_id:e}),onSuccess:async()=>{await e.invalidateQueries({queryKey:["kb-docs"]}),aT.toast.success("Document ingested")},onError:e=>aT.toast.error(e.message)}),eQ=nJ({mutationFn:e=>aU({doc_id:e}),onSuccess:async()=>{await e.invalidateQueries({queryKey:["kb-docs"]}),aT.toast.success("Document removed")},onError:e=>aT.toast.error(e.message)}),eK=nJ({mutationFn:e=>aq({query:e,top_k:B?.knowledge.top_k||5}),onSuccess:e=>{ej(e.results||[])},onError:e=>aT.toast.error(e.message)}),eW=nJ({mutationFn:()=>aQ({scope:e_,session_id:B?.voice.session_id,player_id:B?.voice.active_player_id||B?.voice.player_id}),onSuccess:async t=>{await e.invalidateQueries({queryKey:["memory"]}),aT.toast.success(`Cleared ${t.cleared} memory rows`)},onError:e=>aT.toast.error(e.message)}),eY=nJ({mutationFn:()=>aK(),onSuccess:t=>{U(lf(lm(t.settings))),$(!1),e.setQueryData(["settings"],t.settings),e.invalidateQueries({queryKey:["memory"]}),u(),aT.toast.success(`New campaign: ${t.campaign?.id||"created"}`)},onError:e=>aT.toast.error(e.message)}),eH=nJ({mutationFn:aW,onSuccess:t=>{U(lf(lm(t.settings))),$(!1),e.setQueryData(["settings"],t.settings),e.invalidateQueries({queryKey:["memory"]}),aT.toast.success(`Resumed campaign ${t.campaign?.id||""}`)},onError:e=>aT.toast.error(e.message)}),eG=nJ({mutationFn:aY,onSuccess:t=>{e.invalidateQueries({queryKey:["memory"]}),u(),aT.toast.success(`Campaign reset (${t.cleared_memory_entries} memory rows)`)},onError:e=>aT.toast.error(e.message)}),eX=m.useCallback(e=>{U(t=>{if(!t)return t;let r=lm(t);return e(r),lf(r)}),$(!0)},[]),eJ=m.useCallback((e,t)=>{let r=String(e||"").trim();if(!r)return;let i=!1;U(e=>{if(!e||!e.voice.auto_select_active_speaker||!(Array.isArray(e.voice.player_profiles)?e.voice.player_profiles:[]).some(e=>e.player_id===r)||e.voice.active_player_id===r&&e.voice.player_id===r)return e;let t=lm(e);return t.voice.active_player_id=r,t.voice.player_id=r,i=!0,t}),i&&eL("info","active_speaker_auto_selected",{player_id:r,source:t})},[eL]),eZ=m.useCallback(async()=>{B&&await eF.mutateAsync(lf(lm(B)))},[B,eF]),e0=m.useCallback(()=>{if(!B||!ep.length)return;let e=ep.find(e=>e.id===ef)||ep[0];e&&(eX(t=>{let r=String(e.ruleset||e.setup_system||e.id||"generic").trim().toLowerCase();t.knowledge.primary_rulebook_ruleset=r,t.knowledge.primary_rulebook_doc_id||(t.knowledge.primary_rulebook_doc_id=`${r}_core`);let i=String(e.beginner_hint||"").trim();i&&(t.prompts.resolve_system=`${t.prompts.resolve_system}
Style: ${i}`.slice(0,6e3))}),aT.toast.success(`Applied hint: ${e.name}`))},[B,ef,ep,eX]),e1=m.useCallback(async()=>{if(d.current||(d.current=new AudioContext),"suspended"===d.current.state)try{await d.current.resume()}catch{}return d.current},[]),e2=m.useCallback(()=>{b.current=0;let e=x.current;if(e.size){for(let t of Array.from(e)){try{t.onended=null,t.stop(0)}catch{}try{t.disconnect()}catch{}}e.clear()}},[]),e5=m.useCallback(async(e,t)=>{let r=function(e){let t=String(e||"").trim();if(!t)return new Uint8Array(0);let r=atob(t),i=new Uint8Array(r.length);for(let e=0;e<r.length;e+=1)i[e]=r.charCodeAt(e);return i}(e);if(!r.length)return;let i=function(e){let t=Math.floor(e.length/2),r=new Float32Array(t),i=new DataView(e.buffer,e.byteOffset,e.byteLength);for(let e=0;e<t;e+=1){let t=i.getInt16(2*e,!0);r[e]=t/32768}return r}(r);if(!i.length)return;let s=await e1(),n=function(e,t,r){if(!e.length||t<=0||r<=0||t===r)return e;let i=t/r,s=Math.max(1,Math.floor(e.length/i)),n=new Float32Array(s);for(let t=0;t<s;t+=1){let r=t*i,s=Math.floor(r),a=r-s,o=e[Math.min(e.length-1,s)],l=e[Math.min(e.length-1,s+1)];n[t]=o+(l-o)*a}return n}(i,Number.isFinite(t)&&t>0?t:24e3,s.sampleRate);if(!n.length)return;let a=s.createBuffer(1,n.length,s.sampleRate);a.getChannelData(0).set(n);let o=s.createBufferSource();o.buffer=a,o.connect(s.destination);let l=x.current;l.add(o),o.onended=()=>{l.delete(o);try{o.disconnect()}catch{}};let u=s.currentTime,c=Math.max(u,b.current||u);o.start(c),b.current=c+a.duration,A.current+=1,D.current+=1,O.current+=r.length;let d=Date.now();d-R.current>1500&&(R.current=d,eL("info","audio_out_playback",{recv_frames:A.current,sample_rate:t,bytes:r.length}))},[eL,e1]),e4=m.useCallback(e=>{let t=c.current;if(!t||t.readyState!==WebSocket.OPEN||!e.length)return;let r="auto"===S.current||P.current?"":E.current||"player1",i={type:"audio_in",sample_rate:16e3,num_channels:1,audio:function(e){let t="";for(let r=0;r<e.length;r+=32768)t+=String.fromCharCode(...e.subarray(r,r+32768));return btoa(t)}(e)};r&&(i.user_id=r),t.send(JSON.stringify(i)),M.current+=1;let s=Date.now();s-R.current>1500&&(R.current=s,eL("info","audio_in_sent",{sent_frames:M.current,bytes:e.length,user_id:r||"<auto>"}))},[eL]),e3=m.useCallback(()=>{let e=y.current;e.length&&(y.current=new Uint8Array(0),e4(e))},[e4]),e8=m.useCallback(e=>{if(e.length){var t;let r;t=y.current,(r=new Uint8Array(t.length+e.length)).set(t,0),r.set(e,t.length),y.current=r,y.current.length>=3200&&e3()}},[e3]),e6=m.useCallback((e,t)=>{let r=c.current;if(!r||r.readyState!==WebSocket.OPEN)return;let i={type:"vad",state:e,gm_speaking:T.current};"stop"===e&&t&&(i.voiceprint=t),r.send(JSON.stringify(i))},[]),e9=m.useCallback(()=>{let e=c.current;!e||e.readyState!==WebSocket.OPEN||v.current||(T.current&&e2(),v.current=!0,er(!0),y.current=new Uint8Array(0),w.current=null,k.current=null,V.current=0,I.current=0,L.current=0,F.current=0,z.current=0,e6("start"),eL("info","vad_start",{mode:S.current,sensitivity:_.current,gm_speaking:T.current}))},[eL,e2,e6]),e7=m.useCallback(()=>{let e;if(!v.current)return;v.current=!1,er(!1),w.current=null,k.current=null,e3();let t=V.current;if(t>=1600){let r=I.current/t,i=F.current>0?L.current/F.current:0;eL("info","voiceprint_captured",e={pitch_hz:Number.isFinite(i)?i:0,zcr:Number.isFinite(r)?r:0})}e6("stop",e),eL("info","vad_stop",{mode:S.current})},[eL,e3,e6]),te=m.useCallback(e=>{if("auto"!==S.current)return;let t=performance.now(),r=_.current,i=140,s=650,n=1;"high"===r?(i=90,s=450,n=.9):"max"===r&&(i=60,s=320,n=.82),T.current&&(i=Math.max(32,Math.floor(.6*i)),s=Math.max(180,Math.floor(.7*s)),n*=.82),P.current&&!T.current&&(i=Math.max(i,110),s=Math.max(s,820));let a=Math.max(.003,j.current*n),o=a*("max"===r||T.current?.72:.6);if(!v.current){k.current=null,e>a?(null===w.current&&(w.current=t),t-w.current>=i&&(e9(),w.current=null)):w.current=null;return}w.current=null,e<o?(null===k.current&&(k.current=t),t-k.current>=s&&(e7(),k.current=null)):k.current=null},[e9,e7]),tt=m.useCallback(()=>{if(eL("info","mic_stop"),e7(),g.current){try{g.current.disconnect()}catch{}g.current.onaudioprocess=null,g.current=null}if(f.current){try{f.current.disconnect()}catch{}f.current=null}if(h.current){for(let e of h.current.getTracks())e.stop();h.current=null}y.current=new Uint8Array(0),ee(0),ea("idle")},[eL,e7]),tr=m.useCallback(async()=>{if(!g.current){if(!navigator.mediaDevices?.getUserMedia){ea("error"),aT.toast.error("Microphone API is not available in this browser."),eL("error","mic_api_unavailable");return}try{eL("info","mic_start_begin");let e=await e1(),t=await navigator.mediaDevices.getUserMedia({audio:{channelCount:1,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});h.current=t;let r=e.createMediaStreamSource(t);f.current=r;let i=e.createScriptProcessor(2048,1,1);g.current=i;let s=0;i.onaudioprocess=e=>{let t=e.inputBuffer.getChannelData(0);if(!t||!t.length)return;let r=0;for(let e=0;e<t.length;e+=1){let i=t[e];r+=i*i}let i=Math.sqrt(r/t.length);if(s=.85*s+.15*i,ee(s),te(s),!v.current)return;V.current+=t.length,z.current+=1;for(let e=1;e<t.length;e+=1){let r=t[e-1],i=t[e];(r>=0&&i<0||r<0&&i>=0)&&(I.current+=1)}if(z.current%3==0&&i>.01){let r=function(e,t){if(!e.length||t<=0)return 0;let r=Math.max(1,Math.floor(t/360)),i=Math.max(r+1,Math.floor(t/70)),s=e.length;if(i>=s-1)return 0;let n=0,a=0;for(let t=r;t<=i;t+=1){let r=0,i=s-t;for(let s=0;s<i;s+=1)r+=e[s]*e[s+t];r>a&&(a=r,n=t)}return n<=0||a<=1e-6?0:t/n}(t,e.inputBuffer.sampleRate);if(r>50&&r<450){let e=Math.max(.01,i);L.current+=r*e,F.current+=e}}let n=function(e,t,r=16e3){if(!e.length)return new Uint8Array(0);let i=t/r,s=Math.max(1,Math.floor(e.length/Math.max(i,1e-6))),n=new ArrayBuffer(2*s),a=new DataView(n);for(let t=0;t<s;t+=1){let r=Math.min(e.length-1,Math.floor(t*i)),s=Math.max(-1,Math.min(1,e[r])),n=s<0?32768*s:32767*s;a.setInt16(2*t,Math.round(n),!0)}return new Uint8Array(n)}(t,e.inputBuffer.sampleRate,16e3);n.length&&e8(n)},r.connect(i),i.connect(e.destination),ea("ready"),eL("info","mic_start_ready",{sample_rate:e.sampleRate})}catch(e){ea("error"),aT.toast.error(`Microphone error: ${e instanceof Error?e.message:String(e)}`),eL("error","mic_start_error",{error:e instanceof Error?e.message:String(e)})}}},[eL,te,e8,e1]),ti=m.useCallback(()=>{let t=n.trim();if(!t){aT.toast.error("WebSocket URL is empty"),eL("error","ws_connect_empty_url");return}eL("info","ws_connect_begin",{url:t}),c.current&&c.current.readyState===WebSocket.OPEN&&c.current.close(1e3,"reconnect"),s("connecting");let r=new WebSocket(t);c.current=r,r.onopen=()=>{s("connected"),es(!1),e2(),e1(),tr(),eL("info","ws_open",{url:t}),l({id:lg(),role:"system",speaker:"SYSTEM",text:"WebSocket connected.",ts:Date.now()})},r.onclose=e=>{s("disconnected"),es(!1),e2(),tt(),eL("warn","ws_close",{code:"number"==typeof e?.code?e.code:null,reason:e?.reason?String(e.reason):""}),l({id:lg(),role:"system",speaker:"SYSTEM",text:"WebSocket disconnected.",ts:Date.now()})},r.onerror=()=>{s("disconnected"),es(!1),e2(),tt(),eL("error","ws_error"),l({id:lg(),role:"error",speaker:"ERROR",text:"WebSocket error.",ts:Date.now()})},r.onmessage=t=>{let r=null;try{r=JSON.parse(t.data)}catch{eL("warn","ws_message_parse_error");return}if(!r||!r.type)return;let i=String(r.type),s=r.data&&"object"==typeof r.data?r.data:null;if("audio_out"!==i&&eL("info","ws_message",{type:i,event:String(r.event||"")}),"audio_out"===i)return void e5(String(r.audio||""),Number(r.sample_rate||24e3));if("transcript"===i&&r.finalized){let e=String(r.language||"").trim(),t=String(r.language_source||"").trim(),i=e?` [${e}${t?`/${t}`:""}]`:"";l({id:lg(),role:"player",speaker:String(r.user_id||"PLAYER")+i,text:String(r.text||""),ts:Date.now()}),eJ(r.user_id,"transcript");return}if("user-transcription"===i&&s){if(!(null==s.final||s.final))return;l({id:lg(),role:"player",speaker:String(s.user_id||"PLAYER"),text:String(s.text||""),ts:Date.now()}),eJ(s.user_id,"user-transcription");return}if("text"===i)return void l({id:lg(),role:"gm",speaker:"GM",text:String(r.text||""),ts:Date.now()});if("bot-started-speaking"===i){es(!0),eL("info","gm_speaking",{state:!0});return}if("bot-stopped-speaking"===i){es(!1),eL("info","gm_speaking",{state:!1,tts_audio_frames:D.current,tts_audio_bytes:O.current});return}if("bot-tts-started"===i&&(D.current=0,O.current=0),"bot-output"===i&&s)return void eL("info","rtvi_bot_output",s);if("bot-tts-text"===i||"bot-llm-text"===i)return void eL("info","rtvi_text_stream",s??r);if("debug"===i)return void eL("info","server_debug",r);if("turn_debug"===i)return void eL("info","turn_debug",r.debug??r);if("error"===i){let e=s&&"object"==typeof s?String(s.error||s.message||s.reason||""):"",t=String(r.error||e||"unknown error");eL("error","server_error",{error:t}),l({id:lg(),role:"error",speaker:"ERROR",text:t,ts:Date.now()});return}if("speaker_map"===i){l({id:lg(),role:"system",speaker:"SYSTEM",text:`Speaker mapped: ${String(r.speaker_raw_id||"?")} -> ${String(r.player_id||"?")}`,ts:Date.now()}),eJ(r.player_id,"speaker_map");return}if("settings"===i&&r.settings){let t=lf(lm(r.settings));U(t),$(!1),e.setQueryData(["settings"],t)}}},[eL,l,eJ,e2,e1,e5,e,s,tr,tt,n]),ts=m.useCallback(()=>{c.current&&(c.current.close(1e3,"manual"),c.current=null),tt(),es(!1),e2(),s("disconnected"),eL("info","ws_disconnect_manual")},[eL,e2,s,tt]),tn=m.useCallback(()=>{let e=Q.trim(),t=c.current;if(!e)return;if(!t||t.readyState!==WebSocket.OPEN){aT.toast.error("WebSocket is not connected"),eL("warn","manual_send_without_ws");return}let r=B?.voice.active_player_id||B?.voice.player_id||"player";t.send(JSON.stringify({type:"manual_transcript",text:e,finalized:!0,user_id:r})),eL("info","manual_transcript_sent",{user_id:r,chars:e.length}),K("")},[eL,B?.voice.active_player_id,B?.voice.player_id,Q]);m.useEffect(()=>{"ptt"===W&&v.current&&e7()},[W,e7]),m.useEffect(()=>{let e=()=>e7(),t=()=>{document.hidden&&e7()};return window.addEventListener("blur",e),document.addEventListener("visibilitychange",t),()=>{window.removeEventListener("blur",e),document.removeEventListener("visibilitychange",t)}},[e7]),m.useEffect(()=>()=>{tt(),e2(),c.current&&c.current.close(1e3,"unmount"),d.current&&(d.current.close(),d.current=null)},[e2,tt]);let ta=ep.find(e=>e.id===ef),to=eD.data?.secrets||{},tl=eO.data||[],tu=B?.knowledge.active_doc_ids||[],tc=m.useMemo(()=>eu.map(e=>{let t=new Date(e.ts).toISOString(),r=ly(e.data);return`${t} [${e.level.toUpperCase()}] ${e.msg}${r?` ${r}`:""}`}).join("\n"),[eu]);return(0,p.jsxs)("main",{className:"relative min-h-screen overflow-x-hidden px-4 py-6 md:px-8 md:py-8",children:[(0,p.jsx)("div",{className:"pointer-events-none absolute -top-24 left-1/2 h-80 w-[44rem] -translate-x-1/2 rounded-full bg-[radial-gradient(circle_at_center,rgba(20,184,166,0.22),rgba(15,98,254,0.10),transparent_72%)]"}),(0,p.jsx)("div",{className:"pointer-events-none absolute -bottom-24 right-0 h-64 w-64 rounded-full bg-[radial-gradient(circle_at_center,rgba(14,165,233,0.24),transparent_70%)]"}),(0,p.jsxs)("div",{className:"mx-auto max-w-[1280px] space-y-4",children:[(0,p.jsx)(nQ.section,{initial:{opacity:0,y:14},animate:{opacity:1,y:0},transition:{duration:.35},className:"rounded-3xl border border-slate-200/90 bg-white/75 p-5 shadow-[0_18px_45px_rgba(15,23,42,0.10)] backdrop-blur",children:(0,p.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h1",{className:"text-2xl font-semibold tracking-tight text-slate-900 md:text-3xl",children:"Game Master Studio 2.0"}),(0,p.jsx)("p",{className:"mt-1 max-w-3xl text-sm text-slate-600",children:"Premium control surface for tabletop campaigns: setup, rulebook ingestion, diarized players, live GM turns, and persistent campaign memory."})]}),(0,p.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,p.jsxs)(o2,{className:oX(eR.data?.openai_api_key_present?"border-emerald-300 text-emerald-700":"border-amber-300 text-amber-700"),children:[(0,p.jsx)(au,{className:"mr-1 size-3"})," OpenAI ",eR.data?.openai_api_key_present?"ready":"missing"]}),(0,p.jsx)(o2,{className:oX(eR.data?.deepgram_api_key_present?"border-emerald-300 text-emerald-700":""),children:"Deepgram"}),(0,p.jsx)(o2,{className:oX(eR.data?.elevenlabs_api_key_present?"border-emerald-300 text-emerald-700":""),children:"ElevenLabs"}),(0,p.jsxs)(o2,{className:oX(eR.data?.codex_chatgpt_available?"border-emerald-300 text-emerald-700":""),children:["ChatGPT Auth ",eR.data?.codex_chatgpt_available?"ready":"off"]}),(0,p.jsxs)(o2,{className:oX(B?.knowledge.enabled?"border-emerald-300 text-emerald-700":""),children:[(0,p.jsx)(ak,{className:"mr-1 size-3"})," Knowledge ",B?.knowledge.enabled?"enabled":"off"]})]})]})}),(0,p.jsx)("section",{className:"flex flex-wrap gap-2",children:Object.keys(ld).map(e=>(0,p.jsx)(lr,{variant:t===e?"default":"secondary",onClick:()=>r(e),className:oX("min-w-28",t===e&&"shadow-[0_8px_22px_rgba(15,98,254,0.25)]"),children:ld[e]},e))}),(0,p.jsx)(N,{mode:"wait",children:(0,p.jsx)(nQ.section,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.22},children:(()=>{if(!B)return(0,p.jsx)(li,{children:(0,p.jsxs)(lo,{className:"py-16 text-center",children:[(0,p.jsx)(ag,{className:"mx-auto mb-3 size-6 animate-spin text-sky-600"}),(0,p.jsx)("div",{className:"text-sm text-slate-600",children:"Loading settings..."})]})});if("setup"===t){var e;let t;return(0,p.jsxs)("div",{className:"grid gap-4 lg:grid-cols-2",children:[(0,p.jsxs)(li,{children:[(0,p.jsxs)(ls,{children:[(0,p.jsxs)(ln,{className:"flex items-center gap-2",children:[(0,p.jsx)(aS,{className:"size-4 text-sky-600"}),"One-Step Game Setup"]}),(0,p.jsx)(la,{children:"Select system + rulebook + voice settings in one place, then save. No websocket connect required."})]}),(0,p.jsxs)(lo,{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"Game System Search"}),(0,p.jsxs)("div",{className:"flex gap-2",children:[(0,p.jsx)(ll,{value:ed,onChange:e=>eh(e.target.value),placeholder:"Numenera, Vagabond, Blades in the Dark..."}),(0,p.jsxs)(lr,{variant:"secondary",onClick:()=>eB.mutate(ed),disabled:!ed.trim()||eB.isPending,children:[eB.isPending?(0,p.jsx)(ag,{className:"size-4 animate-spin"}):(0,p.jsx)(aw,{className:"size-4"}),"Search"]})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"Hints"}),(0,p.jsxs)(lc,{value:ef,onChange:e=>eg(e.target.value),children:[0===ep.length&&(0,p.jsx)("option",{value:"",children:"No hint loaded"}),ep.map(e=>(0,p.jsx)("option",{value:e.id,children:e.name},e.id))]}),ta?(0,p.jsx)("p",{className:"mt-2 text-xs text-slate-600",children:ta.beginner_hint||ta.summary||"No extra hint."}):null,(0,p.jsx)("div",{className:"mt-2",children:(0,p.jsx)(lr,{variant:"secondary",onClick:e0,disabled:!ta,children:"Apply Hint"})})]}),(0,p.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"Rulebook Source"}),(0,p.jsxs)(lc,{value:B.knowledge.primary_rulebook_source,onChange:e=>eX(t=>{t.knowledge.primary_rulebook_source=e.target.value}),children:[(0,p.jsx)("option",{value:"doc",children:"Uploaded / Dropdown"}),(0,p.jsx)("option",{value:"path",children:"Server Path"})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"Ruleset Tag"}),(0,p.jsx)(ll,{value:B.knowledge.primary_rulebook_ruleset,onChange:e=>eX(t=>{t.knowledge.primary_rulebook_ruleset=e.target.value}),placeholder:"numenera / dnd5e / custom"})]})]}),"doc"===B.knowledge.primary_rulebook_source?(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"Uploaded Rulebook"}),(0,p.jsxs)(lc,{value:B.knowledge.primary_rulebook_doc_choice||"",onChange:e=>eX(t=>{t.knowledge.primary_rulebook_doc_choice=e.target.value,t.knowledge.primary_rulebook_doc_id=e.target.value}),children:[!tl.length&&(0,p.jsx)("option",{value:"",children:"No uploaded documents yet"}),tl.map(e=>(0,p.jsxs)("option",{value:e.doc_id,children:[e.doc_id," (",e.status||"uploaded",")"]},e.doc_id))]})]}):(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"Rulebook Path"}),(0,p.jsx)(ll,{value:B.knowledge.primary_rulebook_path,onChange:e=>eX(t=>{t.knowledge.primary_rulebook_path=e.target.value}),placeholder:"Numenera.pdf"})]}),(0,p.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"Auto Ingest"}),(0,p.jsxs)(lc,{value:String(B.knowledge.primary_rulebook_auto_ingest),onChange:e=>eX(t=>{t.knowledge.primary_rulebook_auto_ingest="true"===e.target.value}),children:[(0,p.jsx)("option",{value:"true",children:"Yes"}),(0,p.jsx)("option",{value:"false",children:"No"})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"Auto Activate"}),(0,p.jsxs)(lc,{value:String(B.knowledge.primary_rulebook_auto_activate),onChange:e=>eX(t=>{t.knowledge.primary_rulebook_auto_activate="true"===e.target.value}),children:[(0,p.jsx)("option",{value:"true",children:"Yes"}),(0,p.jsx)("option",{value:"false",children:"No"})]})]})]}),(0,p.jsxs)("div",{className:"space-y-2 rounded-xl border border-slate-200 bg-slate-50/70 p-3",children:[(0,p.jsx)(lu,{children:"Upload New PDF"}),(0,p.jsx)(ll,{type:"file",accept:"application/pdf",onChange:e=>ev(e.target.files?.[0]||null)}),(0,p.jsxs)("div",{className:"flex gap-2",children:[(0,p.jsxs)(lr,{variant:"secondary",disabled:!ey||eU.isPending,onClick:()=>{ey&&eU.mutate(ey)},children:[eU.isPending?(0,p.jsx)(ag,{className:"size-4 animate-spin"}):(0,p.jsx)(ap,{className:"size-4"}),"Upload + Select"]}),(0,p.jsxs)(lr,{variant:"secondary",disabled:eq.isPending,onClick:()=>eq.mutate(),children:[eq.isPending?(0,p.jsx)(ag,{className:"size-4 animate-spin"}):(0,p.jsx)(ab,{className:"size-4"}),"Sync Rulebook"]})]}),(eU.isPending||eb>0)&&(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-200",children:(0,p.jsx)("div",{className:"h-full bg-[linear-gradient(90deg,#14b8a6,#0f62fe)] transition-all",style:{width:`${eb}%`}})}),(0,p.jsxs)("div",{className:"mt-1 text-xs text-slate-600",children:["Upload ",eb,"%"]})]})]}),(0,p.jsxs)("div",{className:"flex flex-wrap gap-2 pt-2",children:[(0,p.jsxs)(lr,{onClick:eZ,disabled:eF.isPending||!q,children:[eF.isPending?(0,p.jsx)(ag,{className:"size-4 animate-spin"}):(0,p.jsx)(ax,{className:"size-4"}),"Save Setup"]}),(0,p.jsx)(lr,{variant:"secondary",onClick:()=>{eA.data&&(U(lf(lm(eA.data))),$(!1))},disabled:!q||!eA.data,children:"Revert"})]})]})]}),(0,p.jsxs)(li,{children:[(0,p.jsxs)(ls,{children:[(0,p.jsxs)(ln,{className:"flex items-center gap-2",children:[(0,p.jsx)(av,{className:"size-4 text-sky-600"}),"Voice + Players"]}),(0,p.jsx)(la,{children:"Assign providers, language behavior, and up to 8 player identities (with optional voiceprint labels)."})]}),(0,p.jsxs)(lo,{className:"space-y-4",children:[(0,p.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"Campaign ID"}),(0,p.jsx)(ll,{value:B.voice.campaign_id,onChange:e=>eX(t=>{t.voice.campaign_id=e.target.value})})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"Locale"}),(0,p.jsx)(ll,{value:B.voice.locale,onChange:e=>eX(t=>{t.voice.locale=e.target.value}),placeholder:"en-US"})]})]}),(0,p.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"Response Language"}),(0,p.jsxs)(lc,{value:B.prompts.response_language_mode,onChange:e=>eX(t=>{t.prompts.response_language_mode=e.target.value}),children:[(0,p.jsx)("option",{value:"player",children:"Auto (follow speaking player)"}),(0,p.jsx)("option",{value:"locale",children:"Always use locale"})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"Active Player"}),(0,p.jsx)(lc,{value:B.voice.active_player_id,onChange:e=>eX(t=>{t.voice.active_player_id=e.target.value,t.voice.player_id=e.target.value}),children:B.voice.player_profiles.map(e=>(0,p.jsxs)("option",{value:e.player_id,children:[e.display_name," (",e.player_id,")"]},e.player_id))})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"Active Speaker Selection"}),(0,p.jsxs)(lc,{value:B.voice.auto_select_active_speaker?"auto":"manual",onChange:e=>eX(t=>{t.voice.auto_select_active_speaker="auto"===e.target.value}),children:[(0,p.jsx)("option",{value:"auto",children:"Auto (from diarized voice)"}),(0,p.jsx)("option",{value:"manual",children:"Manual only"})]})]}),(0,p.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"STT Provider"}),(0,p.jsx)(lc,{value:B.openai.stt_provider,onChange:e=>eX(t=>{t.openai.stt_provider=e.target.value}),children:B.openai.stt_provider_options.map(e=>(0,p.jsx)("option",{value:e,children:e},e))})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"TTS Provider"}),(0,p.jsx)(lc,{value:B.openai.tts_provider,onChange:e=>eX(t=>{t.openai.tts_provider=e.target.value}),children:B.openai.tts_provider_options.map(e=>(0,p.jsx)("option",{value:e,children:e},e))})]})]}),(0,p.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"STT Model"}),(0,p.jsx)(ll,{value:B.openai.stt_model,onChange:e=>eX(t=>{t.openai.stt_model=e.target.value}),list:"stt-models"}),(0,p.jsx)("datalist",{id:"stt-models",children:B.openai.stt_model_options.map(e=>(0,p.jsx)("option",{value:e},e))})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"TTS Model"}),(0,p.jsx)(ll,{value:B.openai.tts_model,onChange:e=>eX(t=>{t.openai.tts_model=e.target.value}),list:"tts-models"}),(0,p.jsx)("datalist",{id:"tts-models",children:B.openai.tts_model_options.map(e=>(0,p.jsx)("option",{value:e},e))})]})]}),"deepgram"===B.openai.stt_provider?(0,p.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"Deepgram STT Feature"}),(0,p.jsx)(lc,{value:B.openai.deepgram_feature_profile||"speaker_diarization",onChange:e=>eX(t=>{t.openai.deepgram_feature_profile=e.target.value,t.openai.stt_model="nova-3-general"}),children:(B.openai.deepgram_feature_profile_options?.length?B.openai.deepgram_feature_profile_options:lp.map(e=>e.id)).map(e=>{let t;return(0,p.jsx)("option",{value:e,children:(t=lp.find(t=>t.id===e))?t.label:e},e)})})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"Preset Mapping"}),(0,p.jsx)(ll,{value:(e=B.openai.deepgram_feature_profile||"speaker_diarization",(t=lp.find(t=>t.id===e))?t.summary:"Nova-3 preset"),readOnly:!0})]})]}):null,(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"TTS Voice / Voice ID"}),(0,p.jsx)(ll,{value:B.openai.tts_voice,onChange:e=>eX(t=>{t.openai.tts_voice=e.target.value}),placeholder:"Paste ElevenLabs voice_id or OpenAI preset"})]}),"elevenlabs"===B.openai.tts_provider?(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"ElevenLabs Voice Dropdown"}),(0,p.jsxs)("div",{className:"flex gap-2",children:[(0,p.jsxs)(lc,{value:(eI.data||[]).some(e=>e.voice_id===B.openai.tts_voice)?B.openai.tts_voice:"",onChange:e=>eX(t=>{t.openai.tts_voice=e.target.value}),children:[(0,p.jsx)("option",{value:"",children:"Select voice id (optional)"}),(eI.data||[]).map(e=>(0,p.jsxs)("option",{value:e.voice_id,children:[e.name," (",e.voice_id,")"]},e.voice_id))]}),(0,p.jsx)(lr,{variant:"secondary",onClick:()=>eI.refetch(),children:"Refresh"})]})]}):null,(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"Player Profiles (up to 8)"}),(0,p.jsxs)("div",{className:"space-y-2 rounded-xl border border-slate-200 bg-slate-50/70 p-3",children:[B.voice.player_profiles.map((e,t)=>(0,p.jsxs)("div",{className:"grid gap-2 sm:grid-cols-[1fr_1fr_auto]",children:[(0,p.jsx)(ll,{value:e.display_name,onChange:e=>eX(r=>{r.voice.player_profiles[t].display_name=e.target.value}),placeholder:"Display name"}),(0,p.jsx)(ll,{value:e.player_id,onChange:e=>eX(r=>{r.voice.player_profiles[t].player_id=oJ(e.target.value,`player${t+1}`)}),placeholder:"player id"}),(0,p.jsx)(lr,{variant:"ghost",disabled:B.voice.player_profiles.length<=1,onClick:()=>eX(e=>{e.voice.player_profiles.splice(t,1)}),children:"Remove"})]},`${e.player_id}_${t}`)),(0,p.jsx)(lr,{variant:"secondary",disabled:B.voice.player_profiles.length>=8,onClick:()=>eX(e=>{let t=e.voice.player_profiles.length+1;e.voice.player_profiles.push({player_id:`player${t}`,display_name:`Player ${t}`,voice_profile:""})}),children:"Add Player"})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"LLM Provider"}),(0,p.jsx)(lc,{value:B.openai.llm_provider||"openai",onChange:e=>eX(t=>{t.openai.llm_provider=e.target.value}),children:(B.openai.llm_provider_options?.length?B.openai.llm_provider_options:["openai","codex_chatgpt"]).map(e=>(0,p.jsx)("option",{value:e,children:e},e))}),"codex_chatgpt"===String(B.openai.llm_provider||"openai")?(0,p.jsxs)("p",{className:"mt-1 text-xs text-slate-500",children:["Uses local ",(0,p.jsx)("code",{children:"codex login"})," session (ChatGPT account). STT/TTS providers still require their own credentials."]}):null]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"LLM Model"}),(0,p.jsx)(ll,{value:B.openai.llm_model,onChange:e=>eX(t=>{t.openai.llm_model=e.target.value}),list:"llm-models"}),(0,p.jsx)("datalist",{id:"llm-models",children:B.openai.llm_model_options.map(e=>(0,p.jsx)("option",{value:e},e))})]}),(0,p.jsxs)(lr,{onClick:eZ,disabled:eF.isPending||!q,children:[eF.isPending?(0,p.jsx)(ag,{className:"size-4 animate-spin"}):(0,p.jsx)(ax,{className:"size-4"}),"Save Voice + Players"]})]})]}),(0,p.jsxs)(li,{className:"lg:col-span-2",children:[(0,p.jsxs)(ls,{children:[(0,p.jsxs)(ln,{className:"flex items-center gap-2",children:[(0,p.jsx)(af,{className:"size-4 text-sky-600"}),"API Keys (Editable Without Connect)"]}),(0,p.jsxs)(la,{children:["Changes are written to ",(0,p.jsx)("code",{children:".env"})," and process environment immediately. Some live STT/TTS sessions may still require restart."]})]}),(0,p.jsxs)(lo,{className:"grid gap-4 lg:grid-cols-2",children:[lh.map(e=>{let t=to[e.key],r=eE[e.key]||"keep";return(0,p.jsxs)("div",{className:"space-y-2 rounded-xl border border-slate-200 bg-slate-50/70 p-3",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)(lu,{className:"mb-0",children:e.label}),(0,p.jsx)(o2,{className:oX(t?.present?"border-emerald-300 text-emerald-700":""),children:t?.present?t.masked||"set":"not set"})]}),(0,p.jsxs)(lc,{value:r,onChange:t=>eP(r=>({...r,[e.key]:t.target.value})),children:[(0,p.jsx)("option",{value:"keep",children:"Keep current"}),(0,p.jsx)("option",{value:"set",children:"Set / update"}),(0,p.jsx)("option",{value:"clear",children:"Clear value"})]}),"set"===r?(0,p.jsx)(ll,{type:e.key.includes("KEY")?"password":"text",value:eC[e.key]||"",onChange:t=>eM(r=>({...r,[e.key]:t.target.value})),placeholder:e.key.includes("KEY")?"paste secret":"https://api.openai.com/v1"}):null]},e.key)}),(0,p.jsx)("div",{className:"lg:col-span-2",children:(0,p.jsxs)(lr,{onClick:()=>{let e={},t=[];for(let r of lh){let i=eE[r.key]||"keep";if("set"===i){let t=(eC[r.key]||"").trim();t&&(e[r.key]=t)}"clear"===i&&t.push(r.key)}Object.keys(e).length||t.length?ez.mutate({updates:Object.keys(e).length?e:void 0,clear_keys:t.length?t:void 0}):aT.toast.message("No secret changes to save.")},disabled:ez.isPending,children:[ez.isPending?(0,p.jsx)(ag,{className:"size-4 animate-spin"}):(0,p.jsx)(ax,{className:"size-4"}),"Save API Keys"]})})]})]})]})}return"play"===t?(0,p.jsxs)("div",{className:"grid gap-4 lg:grid-cols-[320px_1fr]",children:[(0,p.jsxs)(li,{children:[(0,p.jsxs)(ls,{children:[(0,p.jsxs)(ln,{className:"flex items-center gap-2",children:[(0,p.jsx)(a_,{className:"size-4 text-sky-600"}),"Realtime Control"]}),(0,p.jsx)(la,{children:"Use websocket for live turns. Manual text input works even without microphone."})]}),(0,p.jsxs)(lo,{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"WebSocket URL"}),(0,p.jsx)(ll,{value:n,onChange:e=>a(e.target.value)})]}),(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,p.jsxs)(lr,{onClick:ti,disabled:"connecting"===i||"connected"===i,children:["connecting"===i?(0,p.jsx)(ag,{className:"size-4 animate-spin"}):(0,p.jsx)(al,{className:"size-4"}),"Connect"]}),(0,p.jsx)(lr,{variant:"secondary",onClick:ts,disabled:"disconnected"===i,children:"Disconnect"})]}),(0,p.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[(0,p.jsx)("span",{className:oX("inline-block size-2 rounded-full","connected"===i?"bg-emerald-500":"connecting"===i?"bg-amber-500":"bg-slate-400")}),i]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"Active Speaker"}),(0,p.jsx)(lc,{value:B.voice.active_player_id,onChange:e=>eX(t=>{t.voice.active_player_id=e.target.value,t.voice.player_id=e.target.value}),children:B.voice.player_profiles.map(e=>(0,p.jsxs)("option",{value:e.player_id,children:[e.display_name," (",e.player_id,")"]},e.player_id))})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"Speaker Selection Mode"}),(0,p.jsxs)(lc,{value:B.voice.auto_select_active_speaker?"auto":"manual",onChange:e=>eX(t=>{t.voice.auto_select_active_speaker="auto"===e.target.value}),children:[(0,p.jsx)("option",{value:"auto",children:"Auto (from diarized voice)"}),(0,p.jsx)("option",{value:"manual",children:"Manual only"})]})]}),(0,p.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"Voice Mode"}),(0,p.jsxs)(lc,{value:W,onChange:e=>Y(e.target.value),children:[(0,p.jsx)("option",{value:"ptt",children:"Push-To-Talk"}),(0,p.jsx)("option",{value:"auto",children:"Auto VAD"})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"Mic Status"}),(0,p.jsxs)("div",{className:"flex h-10 items-center gap-2 rounded-xl border border-slate-200 bg-white px-3 text-sm text-slate-700",children:[(0,p.jsx)("span",{className:oX("inline-block size-2 rounded-full","ready"===en?"bg-emerald-500":"error"===en?"bg-rose-500":"bg-slate-400")}),en]})]})]}),(0,p.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50/80 p-3",children:[(0,p.jsxs)("div",{className:"mb-3 grid gap-3 sm:grid-cols-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{className:"text-xs",children:"Interrupt Sensitivity"}),(0,p.jsxs)(lc,{value:X,onChange:e=>J(e.target.value),children:[(0,p.jsx)("option",{value:"balanced",children:"Balanced"}),(0,p.jsx)("option",{value:"high",children:"High"}),(0,p.jsx)("option",{value:"max",children:"Maximum"})]})]}),(0,p.jsxs)("div",{className:"pt-5 text-xs text-slate-600",children:["Barge-in status: ",(0,p.jsx)("span",{className:ei?"text-emerald-700 font-semibold":"text-slate-500",children:ei?"GM speaking":"idle"})]})]}),(0,p.jsxs)("div",{className:"mb-1 flex items-center justify-between text-xs text-slate-600",children:[(0,p.jsx)("span",{children:"VAD Threshold"}),(0,p.jsx)("span",{children:H.toFixed(3)})]}),(0,p.jsx)("input",{type:"range",min:.005,max:.08,step:.001,value:H,onChange:e=>G(Number(e.target.value)),className:"w-full"}),(0,p.jsxs)("div",{className:"mt-3 mb-1 flex items-center justify-between text-xs text-slate-600",children:[(0,p.jsx)("span",{children:"VAD Level"}),(0,p.jsx)("span",{children:Z.toFixed(3)})]}),(0,p.jsx)("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-200",children:(0,p.jsx)("div",{className:oX("h-full transition-all",et?"bg-[linear-gradient(90deg,#22c55e,#0ea5e9)]":"bg-[linear-gradient(90deg,#0ea5e9,#2563eb)]"),style:{width:`${Math.max(2,Math.min(100,1200*Z))}%`}})})]}),(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,p.jsx)(lr,{variant:et?"danger":"secondary",disabled:"connected"!==i||"ptt"!==W,onPointerDown:e=>{"ptt"===W&&(e.preventDefault(),e9())},onPointerUp:e=>{"ptt"===W&&(e.preventDefault(),e7())},onPointerCancel:()=>{"ptt"===W&&e7()},onPointerLeave:e=>{"ptt"===W&&et&&0===e.buttons&&e7()},onKeyDown:e=>{"ptt"===W&&(" "!==e.key&&"Enter"!==e.key||e.repeat||(e.preventDefault(),e9()))},onKeyUp:e=>{"ptt"===W&&(" "===e.key||"Enter"===e.key)&&(e.preventDefault(),e7())},children:et?"Talking... release":"Hold To Talk"}),(0,p.jsx)(lr,{variant:"secondary",onClick:()=>{tt(),"connected"===i&&tr()},children:"Restart Mic"})]}),(0,p.jsx)("div",{className:"rounded-xl border border-slate-200 bg-slate-50/80 p-3 text-xs text-slate-600",children:"auto"===W?"Auto VAD is enabled. Speak naturally and the app will send start/stop turns automatically.":"Push-To-Talk mode is enabled. Hold the talk button while speaking."}),(0,p.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50/80 p-3 text-xs text-slate-600",children:["Need the original full console too?",(0,p.jsx)("a",{className:"ml-1 font-semibold text-sky-700 underline",href:"/legacy/index.html",target:"_blank",rel:"noreferrer",children:"/legacy/index.html"})]}),(0,p.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50/80 p-3",children:[(0,p.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-slate-700",children:[(0,p.jsx)(ad,{className:"size-3.5 text-sky-600"}),"Voice Trace"]}),(0,p.jsxs)("label",{className:"flex items-center gap-2 text-xs text-slate-700",children:[(0,p.jsx)("input",{type:"checkbox",checked:eo,onChange:e=>el(e.target.checked)}),"enabled"]})]}),(0,p.jsxs)("div",{className:"mb-2 flex gap-2",children:[(0,p.jsx)(lr,{size:"sm",variant:"secondary",onClick:()=>ec([]),children:"Clear"}),(0,p.jsx)(lr,{size:"sm",variant:"secondary",onClick:async()=>{try{await navigator.clipboard.writeText(tc||"(empty trace)"),aT.toast.success("Trace copied")}catch(e){aT.toast.error(e instanceof Error?e.message:String(e))}},children:"Copy"})]}),(0,p.jsx)("div",{className:"max-h-40 overflow-y-auto rounded-lg border border-slate-200 bg-white p-2 font-mono text-[11px] text-slate-700",children:0===eu.length?(0,p.jsx)("div",{className:"text-slate-500",children:"No trace entries yet."}):(0,p.jsx)("div",{className:"space-y-1",children:eu.map(e=>(0,p.jsxs)("div",{className:oX("rounded px-1.5 py-1","error"===e.level&&"bg-rose-50 text-rose-700","warn"===e.level&&"bg-amber-50 text-amber-700","info"===e.level&&"bg-slate-50 text-slate-700"),children:[new Date(e.ts).toLocaleTimeString()," [",e.level,"] ",e.msg,null!=e.data?` ${ly(e.data)}`:""]},e.id))})})]})]})]}),(0,p.jsxs)(li,{children:[(0,p.jsxs)(ls,{children:[(0,p.jsxs)(ln,{className:"flex items-center gap-2",children:[(0,p.jsx)(ay,{className:"size-4 text-sky-600"}),"GM Conversation"]}),(0,p.jsx)(la,{children:"Manual transcript input is the fastest way to validate rulebook retrieval and GM behavior."})]}),(0,p.jsxs)(lo,{className:"space-y-4",children:[(0,p.jsx)("div",{className:"h-[460px] overflow-y-auto rounded-xl border border-slate-200 bg-slate-50 p-3",children:0===o.length?(0,p.jsx)("div",{className:"text-sm text-slate-500",children:"No messages yet."}):(0,p.jsx)("div",{className:"space-y-2",children:o.map(e=>(0,p.jsxs)("div",{className:oX("rounded-xl border px-3 py-2 text-sm","gm"===e.role&&"border-emerald-200 bg-emerald-50","player"===e.role&&"border-sky-200 bg-sky-50","system"===e.role&&"border-slate-200 bg-white","error"===e.role&&"border-rose-200 bg-rose-50"),children:[(0,p.jsx)("div",{className:"mb-0.5 text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:e.speaker}),(0,p.jsx)("div",{children:e.text})]},e.id))})}),(0,p.jsxs)("div",{className:"flex gap-2",children:[(0,p.jsx)(ll,{value:Q,onChange:e=>K(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),tn())},placeholder:"Type player action or dialogue..."}),(0,p.jsx)(lr,{onClick:tn,disabled:!Q.trim()||"connected"!==i,children:"Send"}),(0,p.jsx)(lr,{variant:"ghost",onClick:u,children:"Clear"})]})]})]})]}):(0,p.jsxs)("div",{className:"grid gap-4 lg:grid-cols-2",children:[(0,p.jsxs)(li,{children:[(0,p.jsxs)(ls,{children:[(0,p.jsxs)(ln,{className:"flex items-center gap-2",children:[(0,p.jsx)(ac,{className:"size-4 text-sky-600"}),"Knowledge (Qdrant / PDF)"]}),(0,p.jsx)(la,{children:"Advanced controls for retrieval backend, active docs, ingest/delete, and direct searches."})]}),(0,p.jsxs)(lo,{className:"space-y-4",children:[(0,p.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"Knowledge Enabled"}),(0,p.jsxs)(lc,{value:String(B.knowledge.enabled),onChange:e=>eX(t=>{t.knowledge.enabled="true"===e.target.value}),children:[(0,p.jsx)("option",{value:"true",children:"Yes"}),(0,p.jsx)("option",{value:"false",children:"No"})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"Backend"}),(0,p.jsxs)(lc,{value:B.knowledge.backend,onChange:e=>eX(t=>{t.knowledge.backend=e.target.value}),children:[(0,p.jsx)("option",{value:"local",children:"local"}),(0,p.jsx)("option",{value:"remote",children:"remote"})]})]})]}),(0,p.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"Top K"}),(0,p.jsx)(ll,{type:"number",min:1,max:20,value:B.knowledge.top_k,onChange:e=>eX(t=>{t.knowledge.top_k=Math.max(1,Math.min(20,Number(e.target.value||5)))})})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"Local Path"}),(0,p.jsx)(ll,{value:B.knowledge.local_path,onChange:e=>eX(t=>{t.knowledge.local_path=e.target.value})})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(lu,{children:"Qdrant URL"}),(0,p.jsx)(ll,{value:B.knowledge.qdrant_url,onChange:e=>eX(t=>{t.knowledge.qdrant_url=e.target.value})})]}),(0,p.jsxs)("div",{className:"rounded-xl border border-slate-200",children:[(0,p.jsxs)("div",{className:"grid grid-cols-[1fr_auto_auto_auto] gap-2 border-b border-slate-200 bg-slate-50 px-3 py-2 text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:[(0,p.jsx)("div",{children:"Document"}),(0,p.jsx)("div",{children:"Status"}),(0,p.jsx)("div",{children:"Use"}),(0,p.jsx)("div",{children:"Actions"})]}),(0,p.jsx)("div",{className:"max-h-72 overflow-y-auto",children:0===tl.length?(0,p.jsx)("div",{className:"px-3 py-4 text-sm text-slate-500",children:"No docs uploaded yet."}):tl.map(e=>{let t=tu.includes(e.doc_id);return(0,p.jsxs)("div",{className:"grid grid-cols-[1fr_auto_auto_auto] items-center gap-2 border-b border-slate-100 px-3 py-2 text-xs",children:[(0,p.jsxs)("div",{className:"min-w-0",children:[(0,p.jsx)("div",{className:"truncate font-semibold text-slate-800",children:e.doc_id}),(0,p.jsx)("div",{className:"truncate text-slate-500",children:e.filename||e.path||""})]}),(0,p.jsx)(o2,{children:e.status||"uploaded"}),(0,p.jsx)("input",{type:"checkbox",checked:t,onChange:t=>eX(r=>{let i=new Set(r.knowledge.active_doc_ids||[]);t.target.checked?i.add(e.doc_id):i.delete(e.doc_id),r.knowledge.active_doc_ids=Array.from(i)})}),(0,p.jsxs)("div",{className:"flex gap-1",children:[(0,p.jsx)(lr,{size:"sm",variant:"ghost",onClick:()=>e$.mutate(e.doc_id),disabled:e$.isPending,children:"Ingest"}),(0,p.jsx)(lr,{size:"sm",variant:"ghost",onClick:()=>eQ.mutate(e.doc_id),disabled:eQ.isPending,children:(0,p.jsx)(aj,{className:"size-3.5"})})]})]},e.doc_id)})})]}),(0,p.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,p.jsxs)(lr,{onClick:eZ,disabled:eF.isPending||!q,children:[eF.isPending?(0,p.jsx)(ag,{className:"size-4 animate-spin"}):(0,p.jsx)(ax,{className:"size-4"}),"Save Advanced Settings"]}),(0,p.jsxs)(lr,{variant:"secondary",onClick:()=>eq.mutate(),disabled:eq.isPending,children:[eq.isPending?(0,p.jsx)(ag,{className:"size-4 animate-spin"}):(0,p.jsx)(ab,{className:"size-4"}),"Sync Rulebook Now"]})]})]})]}),(0,p.jsxs)(li,{children:[(0,p.jsxs)(ls,{children:[(0,p.jsxs)(ln,{className:"flex items-center gap-2",children:[(0,p.jsx)(aw,{className:"size-4 text-sky-600"}),"Retrieval + Memory"]}),(0,p.jsx)(la,{children:"Confirm your game is actually using PDFs and campaign memory."})]}),(0,p.jsxs)(lo,{className:"space-y-4",children:[(0,p.jsxs)("div",{className:"space-y-2 rounded-xl border border-slate-200 bg-slate-50/70 p-3",children:[(0,p.jsx)(lu,{children:"Knowledge Search"}),(0,p.jsxs)("div",{className:"flex gap-2",children:[(0,p.jsx)(ll,{value:ew,onChange:e=>ek(e.target.value),placeholder:"Ask a rules question..."}),(0,p.jsxs)(lr,{variant:"secondary",disabled:!ew.trim()||eK.isPending,onClick:()=>eK.mutate(ew),children:[eK.isPending?(0,p.jsx)(ag,{className:"size-4 animate-spin"}):(0,p.jsx)(aw,{className:"size-4"}),"Run"]})]}),(0,p.jsx)("div",{className:"max-h-48 space-y-2 overflow-y-auto",children:0===eS.length?(0,p.jsx)("div",{className:"text-xs text-slate-500",children:"No search results yet."}):eS.map((e,t)=>(0,p.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white p-2 text-xs",children:[(0,p.jsxs)("div",{className:"mb-1 font-semibold text-slate-700",children:["score: ",(e.score||0).toFixed?.(3)||e.score]}),(0,p.jsx)("div",{className:"line-clamp-4 text-slate-600",children:String(e.text||"")})]},`${t}_${String(e.score||0)}`))})]}),(0,p.jsxs)("div",{className:"space-y-2 rounded-xl border border-slate-200 bg-slate-50/70 p-3",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)(lu,{className:"mb-0",children:"Memory"}),(0,p.jsxs)(lc,{value:e_,onChange:e=>eT(e.target.value),className:"w-40",children:[(0,p.jsx)("option",{value:"campaign",children:"Campaign"}),(0,p.jsx)("option",{value:"session",children:"Session"}),(0,p.jsx)("option",{value:"player",children:"Player"})]})]}),(0,p.jsx)("div",{className:"max-h-56 space-y-2 overflow-y-auto",children:eV.isLoading?(0,p.jsx)("div",{className:"text-xs text-slate-500",children:"Loading memory..."}):0===(eV.data||[]).length?(0,p.jsx)("div",{className:"text-xs text-slate-500",children:"No memory rows."}):(eV.data||[]).map((e,t)=>(0,p.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white p-2 text-xs",children:[(0,p.jsx)("div",{className:"mb-1 text-slate-500",children:e.ts||"timestamp unknown"}),(0,p.jsxs)("div",{className:"text-slate-700",children:[(0,p.jsxs)("span",{className:"font-semibold",children:[e.player_id||"player",":"]})," ",e.player_text||""]}),(0,p.jsxs)("div",{className:"text-slate-700",children:[(0,p.jsx)("span",{className:"font-semibold",children:"GM:"})," ",e.gm_text||""]})]},`${t}_${e.ts||""}`))}),(0,p.jsxs)("div",{className:"flex gap-2",children:[(0,p.jsx)(lr,{variant:"secondary",onClick:()=>eV.refetch(),children:"Refresh"}),(0,p.jsx)(lr,{variant:"danger",onClick:()=>eW.mutate(),disabled:eW.isPending,children:"Clear Memory"})]})]}),(0,p.jsxs)("div",{className:"space-y-2 rounded-xl border border-slate-200 bg-slate-50/70 p-3",children:[(0,p.jsx)(lu,{children:"Campaign Controls"}),(0,p.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,p.jsx)(lr,{variant:"secondary",onClick:()=>eY.mutate(),disabled:eY.isPending,children:"New Campaign"}),(0,p.jsx)(lr,{variant:"secondary",onClick:()=>eH.mutate(),disabled:eH.isPending,children:"Resume Latest"}),(0,p.jsx)(lr,{variant:"danger",onClick:()=>eG.mutate(),disabled:eG.isPending,children:"Reset Campaign"})]})]})]})]})]})})()},t)}),(0,p.jsxs)("section",{className:"grid gap-3 rounded-2xl border border-slate-200 bg-white/70 p-4 text-xs text-slate-600 md:grid-cols-3",children:[(0,p.jsxs)("div",{className:"flex items-start gap-2",children:[(0,p.jsx)(am,{className:"mt-0.5 size-4 text-sky-600"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"font-semibold text-slate-800",children:"Language routing"}),"GM responses follow speaker language when ",(0,p.jsx)("code",{children:"response_language_mode=player"}),"."]})]}),(0,p.jsxs)("div",{className:"flex items-start gap-2",children:[(0,p.jsx)(ac,{className:"mt-0.5 size-4 text-sky-600"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"font-semibold text-slate-800",children:"Rulebook + Qdrant"}),"Retrieval uses active docs only. Use Advanced tab search to verify citations and scoring."]})]}),(0,p.jsxs)("div",{className:"flex items-start gap-2",children:[(0,p.jsx)(ah,{className:"mt-0.5 size-4 text-sky-600"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"font-semibold text-slate-800",children:"Save without connect"}),"Settings, API keys, uploads, and memory controls all work via HTTP APIs, no websocket connect required."]})]})]})]})]})}e.s(["GameMasterStudio",()=>lv],19127)},21429,e=>{"use strict";var t=e.i(60631),r=e.i(10925),i=e.i(70154),s=e.i(44243),n=e.i(93184),a=e.i(19184),o=class extends a.Subscribable{constructor(e={}){super(),this.config=e,this.#q=new Map}#q;build(e,t,r){let n=t.queryKey,a=t.queryHash??(0,i.hashQueryKeyByOptions)(n,t),o=this.get(a);return o||(o=new s.Query({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){this.#q.has(e.queryHash)||(this.#q.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#q.get(e.queryHash);t&&(e.destroy(),t===e&&this.#q.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){n.notifyManager.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#q.get(e)}getAll(){return[...this.#q.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,i.matchQuery)(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>(0,i.matchQuery)(e,t)):t}notify(e){n.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){n.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){n.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},l=e.i(39087),u=a,c=class extends u.Subscribable{constructor(e={}){super(),this.config=e,this.#$=new Set,this.#Q=new Map,this.#K=0}#$;#Q;#K;build(e,t,r){let i=new l.Mutation({client:e,mutationCache:this,mutationId:++this.#K,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){this.#$.add(e);let t=d(e);if("string"==typeof t){let r=this.#Q.get(t);r?r.push(e):this.#Q.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#$.delete(e)){let t=d(e);if("string"==typeof t){let r=this.#Q.get(t);if(r)if(r.length>1){let t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&this.#Q.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){let t=d(e);if("string"!=typeof t)return!0;{let r=this.#Q.get(t),i=r?.find(e=>"pending"===e.state.status);return!i||i===e}}runNext(e){let t=d(e);if("string"!=typeof t)return Promise.resolve();{let r=this.#Q.get(t)?.find(t=>t!==e&&t.state.isPaused);return r?.continue()??Promise.resolve()}}clear(){n.notifyManager.batch(()=>{this.#$.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#$.clear(),this.#Q.clear()})}getAll(){return Array.from(this.#$)}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,i.matchMutation)(t,e))}findAll(e={}){return this.getAll().filter(t=>(0,i.matchMutation)(e,t))}notify(e){n.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return n.notifyManager.batch(()=>Promise.all(e.map(e=>e.continue().catch(i.noop))))}};function d(e){return e.options.scope?.id}var h=e.i(31305),p=e.i(74352);function m(e){return{onFetch:(t,r)=>{let s=t.options,n=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],o=t.state.data?.pageParams||[],l={pages:[],pageParams:[]},u=0,c=async()=>{let r=!1,c=(0,i.ensureQueryFn)(t.options,t.fetchOptions),d=async(e,s,n)=>{let a;if(r)return Promise.reject();if(null==s&&e.pages.length)return Promise.resolve(e);let o=(a={client:t.client,queryKey:t.queryKey,pageParam:s,direction:n?"backward":"forward",meta:t.options.meta},(0,i.addConsumeAwareSignal)(a,()=>t.signal,()=>r=!0),a),l=await c(o),{maxPages:u}=t.options,d=n?i.addToStart:i.addToEnd;return{pages:d(e.pages,l,u),pageParams:d(e.pageParams,s,u)}};if(n&&a.length){let e="backward"===n,t={pages:a,pageParams:o},r=(e?function(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}:f)(s,t);l=await d(t,r,e)}else{let t=e??a.length;do{let e=0===u?o[0]??s.initialPageParam:f(s,l);if(u>0&&null==e)break;l=await d(l,e),u++}while(u<t)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=c}}}function f(e,{pages:t,pageParams:r}){let i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,r[i],r):void 0}var g=class{#W;#g;#h;#Y;#H;#G;#X;#J;constructor(e={}){this.#W=e.queryCache||new o,this.#g=e.mutationCache||new c,this.#h=e.defaultOptions||{},this.#Y=new Map,this.#H=new Map,this.#G=0}mount(){this.#G++,1===this.#G&&(this.#X=h.focusManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#W.onFocus())}),this.#J=p.onlineManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#W.onOnline())}))}unmount(){this.#G--,0===this.#G&&(this.#X?.(),this.#X=void 0,this.#J?.(),this.#J=void 0)}isFetching(e){return this.#W.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#g.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#W.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),r=this.#W.build(this,t),s=r.state.data;return void 0===s?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime((0,i.resolveStaleTime)(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return this.#W.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){let s=this.defaultQueryOptions({queryKey:e}),n=this.#W.get(s.queryHash),a=n?.state.data,o=(0,i.functionalUpdate)(t,a);if(void 0!==o)return this.#W.build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return n.notifyManager.batch(()=>this.#W.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#W.get(t.queryHash)?.state}removeQueries(e){let t=this.#W;n.notifyManager.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let r=this.#W;return n.notifyManager.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){let r={revert:!0,...t};return Promise.all(n.notifyManager.batch(()=>this.#W.findAll(e).map(e=>e.cancel(r)))).then(i.noop).catch(i.noop)}invalidateQueries(e,t={}){return n.notifyManager.batch(()=>(this.#W.findAll(e).forEach(e=>{e.invalidate()}),e?.refetchType==="none")?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))}refetchQueries(e,t={}){let r={...t,cancelRefetch:t.cancelRefetch??!0};return Promise.all(n.notifyManager.batch(()=>this.#W.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(i.noop)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(i.noop)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let r=this.#W.build(this,t);return r.isStaleByTime((0,i.resolveStaleTime)(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(i.noop).catch(i.noop)}fetchInfiniteQuery(e){return e.behavior=m(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(i.noop).catch(i.noop)}ensureInfiniteQueryData(e){return e.behavior=m(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return p.onlineManager.isOnline()?this.#g.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#W}getMutationCache(){return this.#g}getDefaultOptions(){return this.#h}setDefaultOptions(e){this.#h=e}setQueryDefaults(e,t){this.#Y.set((0,i.hashKey)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#Y.values()],r={};return t.forEach(t=>{(0,i.partialMatchKey)(e,t.queryKey)&&Object.assign(r,t.defaultOptions)}),r}setMutationDefaults(e,t){this.#H.set((0,i.hashKey)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#H.values()],r={};return t.forEach(t=>{(0,i.partialMatchKey)(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#h.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,i.hashQueryKeyByOptions)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===i.skipToken&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#h.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#W.clear(),this.#g.clear()}},y=e.i(89101),v=e.i(28841);function b({children:e}){let[i]=r.useState(()=>new g({defaultOptions:{queries:{staleTime:8e3,retry:1,refetchOnWindowFocus:!1}}}));return(0,t.jsxs)(y.QueryClientProvider,{client:i,children:[e,(0,t.jsx)(v.Toaster,{richColors:!0,position:"top-right"})]})}e.s(["AppProviders",()=>b],21429)}]);