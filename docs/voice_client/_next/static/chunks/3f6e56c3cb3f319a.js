(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70154,96143,93184,19184,31305,74352,10197,44243,39087,89101,28841,e=>{"use strict";let t,s,i,r,n,a;e.i(54477);var o={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},l=new class{#e=o;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}};function u(e){setTimeout(e,0)}e.s(["systemSetTimeoutZero",()=>u,"timeoutManager",()=>l],96143);var d="u"<typeof window||"Deno"in globalThis;function c(){}function h(e,t){return"function"==typeof e?e(t):e}function p(e){return"number"==typeof e&&e>=0&&e!==1/0}function m(e,t){return Math.max(e+(t||0)-Date.now(),0)}function f(e,t){return"function"==typeof e?e(t):e}function g(e,t){return"function"==typeof e?e(t):e}function y(e,t){let{type:s="all",exact:i,fetchStatus:r,predicate:n,queryKey:a,stale:o}=e;if(a){if(i){if(t.queryHash!==b(a,t.options))return!1}else if(!w(t.queryKey,a))return!1}if("all"!==s){let e=t.isActive();if("active"===s&&!e||"inactive"===s&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&(!r||r===t.state.fetchStatus)&&(!n||!!n(t))}function v(e,t){let{exact:s,status:i,predicate:r,mutationKey:n}=e;if(n){if(!t.options.mutationKey)return!1;if(s){if(x(t.options.mutationKey)!==x(n))return!1}else if(!w(t.options.mutationKey,n))return!1}return(!i||t.state.status===i)&&(!r||!!r(t))}function b(e,t){return(t?.queryKeyHashFn||x)(e)}function x(e){return JSON.stringify(e,(e,t)=>E(t)?Object.keys(t).sort().reduce((e,s)=>(e[s]=t[s],e),{}):t)}function w(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&Object.keys(t).every(s=>w(e[s],t[s]))}var k=Object.prototype.hasOwnProperty;function S(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let s in e)if(e[s]!==t[s])return!1;return!0}function j(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function E(e){if(!T(e))return!1;let t=e.constructor;if(void 0===t)return!0;let s=t.prototype;return!!T(s)&&!!s.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype}function T(e){return"[object Object]"===Object.prototype.toString.call(e)}function P(e){return new Promise(t=>{l.setTimeout(t,e)})}function C(e,t,s){return"function"==typeof s.structuralSharing?s.structuralSharing(e,t):!1!==s.structuralSharing?function e(t,s,i=0){if(t===s)return t;if(i>500)return s;let r=j(t)&&j(s);if(!r&&!(E(t)&&E(s)))return s;let n=(r?t:Object.keys(t)).length,a=r?s:Object.keys(s),o=a.length,l=r?Array(o):{},u=0;for(let d=0;d<o;d++){let o=r?d:a[d],c=t[o],h=s[o];if(c===h){l[o]=c,(r?d<n:k.call(t,o))&&u++;continue}if(null===c||null===h||"object"!=typeof c||"object"!=typeof h){l[o]=h;continue}let p=e(c,h,i+1);l[o]=p,p===c&&u++}return n===o&&u===n?t:l}(e,t):t}function M(e,t,s=0){let i=[...e,t];return s&&i.length>s?i.slice(1):i}function A(e,t,s=0){let i=[t,...e];return s&&i.length>s?i.slice(0,-1):i}var R=Symbol();function _(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==R?e.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${e.queryHash}'`))}function N(e,t){return"function"==typeof e?e(...t):!!e}function O(e,t,s){let i,r=!1;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??=t(),r||(r=!0,i.aborted?s():i.addEventListener("abort",s,{once:!0})),i)}),e}e.s(["addConsumeAwareSignal",()=>O,"addToEnd",()=>M,"addToStart",()=>A,"ensureQueryFn",()=>_,"functionalUpdate",()=>h,"hashKey",()=>x,"hashQueryKeyByOptions",()=>b,"isServer",()=>d,"isValidTimeout",()=>p,"matchMutation",()=>v,"matchQuery",()=>y,"noop",()=>c,"partialMatchKey",()=>w,"replaceData",()=>C,"resolveEnabled",()=>g,"resolveStaleTime",()=>f,"shallowEqualObjects",()=>S,"shouldThrowError",()=>N,"skipToken",()=>R,"sleep",()=>P,"timeUntilStale",()=>m],70154);var D=(t=[],s=0,i=e=>{e()},r=e=>{e()},n=u,{batch:e=>{let a;s++;try{a=e()}finally{let e;--s||(e=t,t=[],e.length&&n(()=>{r(()=>{e.forEach(e=>{i(e)})})}))}return a},batchCalls:e=>(...t)=>{a(()=>{e(...t)})},schedule:a=e=>{s?t.push(e):n(()=>{i(e)})},setNotifyFunction:e=>{i=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{n=e}});e.s(["notifyManager",()=>D],93184);var V=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}};e.s(["Subscribable",()=>V],19184);var I=new class extends V{#s;#i;#r;constructor(){super(),this.#r=e=>{if(!d&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#i||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#i?.(),this.#i=void 0)}setEventListener(e){this.#r=e,this.#i?.(),this.#i=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#s!==e&&(this.#s=e,this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#s?this.#s:globalThis.document?.visibilityState!=="hidden"}};e.s(["focusManager",()=>I],31305);var L=new class extends V{#n=!0;#i;#r;constructor(){super(),this.#r=e=>{if(!d&&window.addEventListener){let t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#i||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#i?.(),this.#i=void 0)}setEventListener(e){this.#r=e,this.#i?.(),this.#i=e(this.setOnline.bind(this))}setOnline(e){this.#n!==e&&(this.#n=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#n}};function F(){let e,t,s=new Promise((s,i)=>{e=s,t=i});function i(e){Object.assign(s,e),delete s.resolve,delete s.reject}return s.status="pending",s.catch(()=>{}),s.resolve=t=>{i({status:"fulfilled",value:t}),e(t)},s.reject=e=>{i({status:"rejected",reason:e}),t(e)},s}function B(e){return Math.min(1e3*2**e,3e4)}function z(e){return(e??"online")!=="online"||L.isOnline()}e.s(["onlineManager",()=>L],74352),e.s(["pendingThenable",()=>F],10197);var U=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function q(e){let t,s=!1,i=0,r=F(),n=()=>I.isFocused()&&("always"===e.networkMode||L.isOnline())&&e.canRun(),a=()=>z(e.networkMode)&&e.canRun(),o=e=>{"pending"===r.status&&(t?.(),r.resolve(e))},l=e=>{"pending"===r.status&&(t?.(),r.reject(e))},u=()=>new Promise(s=>{t=e=>{("pending"!==r.status||n())&&s(e)},e.onPause?.()}).then(()=>{t=void 0,"pending"===r.status&&e.onContinue?.()}),c=()=>{let t;if("pending"!==r.status)return;let a=0===i?e.initialPromise:void 0;try{t=a??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(o).catch(t=>{if("pending"!==r.status)return;let a=e.retry??3*!d,o=e.retryDelay??B,h="function"==typeof o?o(i,t):o,p=!0===a||"number"==typeof a&&i<a||"function"==typeof a&&a(i,t);s||!p?l(t):(i++,e.onFail?.(i,t),P(h).then(()=>n()?void 0:u()).then(()=>{s?l(t):c()}))})};return{promise:r,status:()=>r.status,cancel:t=>{if("pending"===r.status){let s=new U(t);l(s),e.onCancel?.(s)}},continue:()=>(t?.(),r),cancelRetry:()=>{s=!0},continueRetry:()=>{s=!1},canStart:a,start:()=>(a()?c():u().then(c),r)}}var $=class{#a;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),p(this.gcTime)&&(this.#a=l.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(d?1/0:3e5))}clearGcTimeout(){this.#a&&(l.clearTimeout(this.#a),this.#a=void 0)}},Q=class extends ${#o;#l;#u;#d;#c;#h;#p;constructor(e){super(),this.#p=!1,this.#h=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#d=e.client,this.#u=this.#d.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#o=Y(this.options),this.state=e.state??this.#o,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#c?.promise}setOptions(e){if(this.options={...this.#h,...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){let e=Y(this.options);void 0!==e.data&&(this.setState(W(e.data,e.dataUpdatedAt)),this.#o=e)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#u.remove(this)}setData(e,t){let s=C(this.state.data,e,this.options);return this.#m({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#m({type:"setState",state:e,setStateOptions:t})}cancel(e){let t=this.#c?.promise;return this.#c?.cancel(e),t?t.then(c).catch(c):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#o)}isActive(){return this.observers.some(e=>!1!==g(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===R||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===f(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!m(this.state.dataUpdatedAt,e))}onFocus(){let e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#c?.continue()}onOnline(){let e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#c?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#u.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#c&&(this.#p?this.#c.cancel({revert:!0}):this.#c.cancelRetry()),this.scheduleGc()),this.#u.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#m({type:"invalidate"})}async fetch(e,t){let s;if("idle"!==this.state.fetchStatus&&this.#c?.status()!=="rejected"){if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#c)return this.#c.continueRetry(),this.#c.promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}let i=new AbortController,r=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#p=!0,i.signal)})},n=()=>{let e,s=_(this.options,t),i=(r(e={client:this.#d,queryKey:this.queryKey,meta:this.meta}),e);return(this.#p=!1,this.options.persister)?this.options.persister(s,i,this):s(i)},a=(r(s={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#d,state:this.state,fetchFn:n}),s);this.options.behavior?.onFetch(a,this),this.#l=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#m({type:"fetch",meta:a.fetchOptions?.meta}),this.#c=q({initialPromise:t?.initialPromise,fn:a.fetchFn,onCancel:e=>{e instanceof U&&e.revert&&this.setState({...this.#l,fetchStatus:"idle"}),i.abort()},onFail:(e,t)=>{this.#m({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#m({type:"pause"})},onContinue:()=>{this.#m({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{let e=await this.#c.start();if(void 0===e)throw Error(`${this.queryHash} data is undefined`);return this.setData(e),this.#u.config.onSuccess?.(e,this),this.#u.config.onSettled?.(e,this.state.error,this),e}catch(e){if(e instanceof U){if(e.silent)return this.#c.promise;else if(e.revert){if(void 0===this.state.data)throw e;return this.state.data}}throw this.#m({type:"error",error:e}),this.#u.config.onError?.(e,this),this.#u.config.onSettled?.(this.state.data,e,this),e}finally{this.scheduleGc()}}#m(e){let t=t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...K(t.data,this.options),fetchMeta:e.meta??null};case"success":let s={...t,...W(e.data,e.dataUpdatedAt),dataUpdateCount:t.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#l=e.manual?s:void 0,s;case"error":let i=e.error;return{...t,error:i,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}};this.state=t(this.state),D.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#u.notify({query:this,type:"updated",action:e})})}};function K(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:z(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}function W(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Y(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,s=void 0!==t,i=s?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}e.s(["Query",()=>Q,"fetchState",()=>K],44243);var H=class extends ${#d;#f;#g;#c;constructor(e){super(),this.#d=e.client,this.mutationId=e.mutationId,this.#g=e.mutationCache,this.#f=[],this.state=e.state||G(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#f.includes(e)||(this.#f.push(e),this.clearGcTimeout(),this.#g.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#f=this.#f.filter(t=>t!==e),this.scheduleGc(),this.#g.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#f.length||("pending"===this.state.status?this.scheduleGc():this.#g.remove(this))}continue(){return this.#c?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#m({type:"continue"})},s={client:this.#d,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#c=q({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#m({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#m({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#g.canRun(this)});let i="pending"===this.state.status,r=!this.#c.canStart();try{if(i)t();else{this.#m({type:"pending",variables:e,isPaused:r}),this.#g.config.onMutate&&await this.#g.config.onMutate(e,this,s);let t=await this.options.onMutate?.(e,s);t!==this.state.context&&this.#m({type:"pending",context:t,variables:e,isPaused:r})}let n=await this.#c.start();return await this.#g.config.onSuccess?.(n,e,this.state.context,this,s),await this.options.onSuccess?.(n,e,this.state.context,s),await this.#g.config.onSettled?.(n,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(n,null,e,this.state.context,s),this.#m({type:"success",data:n}),n}catch(t){try{await this.#g.config.onError?.(t,e,this.state.context,this,s)}catch(e){Promise.reject(e)}try{await this.options.onError?.(t,e,this.state.context,s)}catch(e){Promise.reject(e)}try{await this.#g.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this,s)}catch(e){Promise.reject(e)}try{await this.options.onSettled?.(void 0,t,e,this.state.context,s)}catch(e){Promise.reject(e)}throw this.#m({type:"error",error:t}),t}finally{this.#g.runNext(this)}}#m(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),D.batch(()=>{this.#f.forEach(t=>{t.onMutationUpdate(e)}),this.#g.notify({mutation:this,type:"updated",action:e})})}};function G(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}e.s(["Mutation",()=>H,"getDefaultState",()=>G],39087);var X=e.i(10925),J=e.i(60631),Z=X.createContext(void 0),ee=e=>{let t=X.useContext(Z);if(e)return e;if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},et=({client:e,children:t})=>(X.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),(0,J.jsx)(Z.Provider,{value:e,children:t}));e.s(["QueryClientProvider",()=>et,"useQueryClient",()=>ee],89101);var es=e.i(48844);let ei=Array(12).fill(0),er=({visible:e,className:t})=>X.default.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},X.default.createElement("div",{className:"sonner-spinner"},ei.map((e,t)=>X.default.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),en=X.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.default.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ea=X.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},X.default.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),eo=X.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.default.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),el=X.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.default.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),eu=X.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},X.default.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),X.default.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),ed=1,ec=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:s,...i}=e,r="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:ed++,n=this.toasts.find(e=>e.id===r),a=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),n?this.toasts=this.toasts.map(t=>t.id===r?(this.publish({...t,...e,id:r,title:s}),{...t,...e,id:r,dismissible:a,title:s}):t):this.addToast({title:s,...i,dismissible:a,id:r}),r},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{let s,i;if(!t)return;void 0!==t.loading&&(i=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let r=Promise.resolve(e instanceof Function?e():e),n=void 0!==i,a=r.then(async e=>{if(s=["resolve",e],X.default.isValidElement(e))n=!1,this.create({id:i,type:"default",message:e});else if(eh(e)&&!e.ok){n=!1;let s="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,r="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description,a="object"!=typeof s||X.default.isValidElement(s)?{message:s}:s;this.create({id:i,type:"error",description:r,...a})}else if(e instanceof Error){n=!1;let s="function"==typeof t.error?await t.error(e):t.error,r="function"==typeof t.description?await t.description(e):t.description,a="object"!=typeof s||X.default.isValidElement(s)?{message:s}:s;this.create({id:i,type:"error",description:r,...a})}else if(void 0!==t.success){n=!1;let s="function"==typeof t.success?await t.success(e):t.success,r="function"==typeof t.description?await t.description(e):t.description,a="object"!=typeof s||X.default.isValidElement(s)?{message:s}:s;this.create({id:i,type:"success",description:r,...a})}}).catch(async e=>{if(s=["reject",e],void 0!==t.error){n=!1;let s="function"==typeof t.error?await t.error(e):t.error,r="function"==typeof t.description?await t.description(e):t.description,a="object"!=typeof s||X.default.isValidElement(s)?{message:s}:s;this.create({id:i,type:"error",description:r,...a})}}).finally(()=>{n&&(this.dismiss(i),i=void 0),null==t.finally||t.finally.call(t)}),o=()=>new Promise((e,t)=>a.then(()=>"reject"===s[0]?t(s[1]):e(s[1])).catch(t));return"string"!=typeof i&&"number"!=typeof i?{unwrap:o}:Object.assign(i,{unwrap:o})},this.custom=(e,t)=>{let s=(null==t?void 0:t.id)||ed++;return this.create({jsx:e(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},eh=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,ep=Object.assign((e,t)=>{let s=(null==t?void 0:t.id)||ed++;return ec.addToast({title:e,...t,id:s}),s},{success:ec.success,info:ec.info,warning:ec.warning,error:ec.error,custom:ec.custom,message:ec.message,promise:ec.promise,dismiss:ec.dismiss,loading:ec.loading},{getHistory:()=>ec.toasts,getToasts:()=>ec.getActiveToasts()});function em(e){return void 0!==e.label}function ef(...e){return e.filter(Boolean).join(" ")}!function(e){if(!e||"u"<typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");let eg=e=>{var t,s,i,r,n,a,o,l,u,d,c,h,p;let{invert:m,toast:f,unstyled:g,interacting:y,setHeights:v,visibleToasts:b,heights:x,index:w,toasts:k,expanded:S,removeToast:j,defaultRichColors:E,closeButton:T,style:P,cancelButtonStyle:C,actionButtonStyle:M,className:A="",descriptionClassName:R="",duration:_,position:N,gap:O,expandByDefault:D,classNames:V,icons:I,closeButtonAriaLabel:L="Close toast"}=e,[F,B]=X.default.useState(null),[z,U]=X.default.useState(null),[q,$]=X.default.useState(!1),[Q,K]=X.default.useState(!1),[W,Y]=X.default.useState(!1),[H,G]=X.default.useState(!1),[J,Z]=X.default.useState(!1),[ee,et]=X.default.useState(0),[es,ei]=X.default.useState(0),ed=X.default.useRef(f.duration||_||4e3),ec=X.default.useRef(null),eh=X.default.useRef(null),ep=0===w,eg=w+1<=b,ey=f.type,ev=!1!==f.dismissible,eb=f.className||"",ex=f.descriptionClassName||"",ew=X.default.useMemo(()=>x.findIndex(e=>e.toastId===f.id)||0,[x,f.id]),ek=X.default.useMemo(()=>{var e;return null!=(e=f.closeButton)?e:T},[f.closeButton,T]),eS=X.default.useMemo(()=>f.duration||_||4e3,[f.duration,_]),ej=X.default.useRef(0),eE=X.default.useRef(0),eT=X.default.useRef(0),eP=X.default.useRef(null),[eC,eM]=N.split("-"),eA=X.default.useMemo(()=>x.reduce((e,t,s)=>s>=ew?e:e+t.height,0),[x,ew]),eR=(()=>{let[e,t]=X.default.useState(document.hidden);return X.default.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),e_=f.invert||m,eN="loading"===ey;eE.current=X.default.useMemo(()=>ew*O+eA,[ew,eA]),X.default.useEffect(()=>{ed.current=eS},[eS]),X.default.useEffect(()=>{$(!0)},[]),X.default.useEffect(()=>{let e=eh.current;if(e){let t=e.getBoundingClientRect().height;return ei(t),v(e=>[{toastId:f.id,height:t,position:f.position},...e]),()=>v(e=>e.filter(e=>e.toastId!==f.id))}},[v,f.id]),X.default.useLayoutEffect(()=>{if(!q)return;let e=eh.current,t=e.style.height;e.style.height="auto";let s=e.getBoundingClientRect().height;e.style.height=t,ei(s),v(e=>e.find(e=>e.toastId===f.id)?e.map(e=>e.toastId===f.id?{...e,height:s}:e):[{toastId:f.id,height:s,position:f.position},...e])},[q,f.title,f.description,v,f.id,f.jsx,f.action,f.cancel]);let eO=X.default.useCallback(()=>{K(!0),et(eE.current),v(e=>e.filter(e=>e.toastId!==f.id)),setTimeout(()=>{j(f)},200)},[f,j,v,eE]);X.default.useEffect(()=>{let e;if((!f.promise||"loading"!==ey)&&f.duration!==1/0&&"loading"!==f.type){if(S||y||eR){if(eT.current<ej.current){let e=new Date().getTime()-ej.current;ed.current=ed.current-e}eT.current=new Date().getTime()}else ed.current!==1/0&&(ej.current=new Date().getTime(),e=setTimeout(()=>{null==f.onAutoClose||f.onAutoClose.call(f,f),eO()},ed.current));return()=>clearTimeout(e)}},[S,y,f,ey,eR,eO]),X.default.useEffect(()=>{f.delete&&(eO(),null==f.onDismiss||f.onDismiss.call(f,f))},[eO,f.delete]);let eD=f.icon||(null==I?void 0:I[ey])||(e=>{switch(e){case"success":return en;case"info":return eo;case"warning":return ea;case"error":return el;default:return null}})(ey);return X.default.createElement("li",{tabIndex:0,ref:eh,className:ef(A,eb,null==V?void 0:V.toast,null==f||null==(t=f.classNames)?void 0:t.toast,null==V?void 0:V.default,null==V?void 0:V[ey],null==f||null==(s=f.classNames)?void 0:s[ey]),"data-sonner-toast":"","data-rich-colors":null!=(d=f.richColors)?d:E,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":q,"data-promise":!!f.promise,"data-swiped":J,"data-removed":Q,"data-visible":eg,"data-y-position":eC,"data-x-position":eM,"data-index":w,"data-front":ep,"data-swiping":W,"data-dismissible":ev,"data-type":ey,"data-invert":e_,"data-swipe-out":H,"data-swipe-direction":z,"data-expanded":!!(S||D&&q),"data-testid":f.testId,style:{"--index":w,"--toasts-before":w,"--z-index":k.length-w,"--offset":`${Q?ee:eE.current}px`,"--initial-height":D?"auto":`${es}px`,...P,...f.style},onDragEnd:()=>{Y(!1),B(null),eP.current=null},onPointerDown:e=>{2===e.button||eN||!ev||(ec.current=new Date,et(eE.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(Y(!0),eP.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,s,i,r;if(H||!ev)return;eP.current=null;let n=Number((null==(e=eh.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),a=Number((null==(t=eh.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),o=new Date().getTime()-(null==(s=ec.current)?void 0:s.getTime()),l="x"===F?n:a,u=Math.abs(l)/o;if(Math.abs(l)>=45||u>.11){et(eE.current),null==f.onDismiss||f.onDismiss.call(f,f),"x"===F?U(n>0?"right":"left"):U(a>0?"down":"up"),eO(),G(!0);return}null==(i=eh.current)||i.style.setProperty("--swipe-amount-x","0px"),null==(r=eh.current)||r.style.setProperty("--swipe-amount-y","0px"),Z(!1),Y(!1),B(null)},onPointerMove:t=>{var s,i,r,n;if(!eP.current||!ev||(null==(s=window.getSelection())?void 0:s.toString().length)>0)return;let a=t.clientY-eP.current.y,o=t.clientX-eP.current.x,l=null!=(n=e.swipeDirections)?n:function(e){let[t,s]=e.split("-"),i=[];return t&&i.push(t),s&&i.push(s),i}(N);!F&&(Math.abs(o)>1||Math.abs(a)>1)&&B(Math.abs(o)>Math.abs(a)?"x":"y");let u={x:0,y:0},d=e=>1/(1.5+Math.abs(e)/20);if("y"===F){if(l.includes("top")||l.includes("bottom"))if(l.includes("top")&&a<0||l.includes("bottom")&&a>0)u.y=a;else{let e=a*d(a);u.y=Math.abs(e)<Math.abs(a)?e:a}}else if("x"===F&&(l.includes("left")||l.includes("right")))if(l.includes("left")&&o<0||l.includes("right")&&o>0)u.x=o;else{let e=o*d(o);u.x=Math.abs(e)<Math.abs(o)?e:o}(Math.abs(u.x)>0||Math.abs(u.y)>0)&&Z(!0),null==(i=eh.current)||i.style.setProperty("--swipe-amount-x",`${u.x}px`),null==(r=eh.current)||r.style.setProperty("--swipe-amount-y",`${u.y}px`)}},ek&&!f.jsx&&"loading"!==ey?X.default.createElement("button",{"aria-label":L,"data-disabled":eN,"data-close-button":!0,onClick:eN||!ev?()=>{}:()=>{eO(),null==f.onDismiss||f.onDismiss.call(f,f)},className:ef(null==V?void 0:V.closeButton,null==f||null==(i=f.classNames)?void 0:i.closeButton)},null!=(c=null==I?void 0:I.close)?c:eu):null,(ey||f.icon||f.promise)&&null!==f.icon&&((null==I?void 0:I[ey])!==null||f.icon)?X.default.createElement("div",{"data-icon":"",className:ef(null==V?void 0:V.icon,null==f||null==(r=f.classNames)?void 0:r.icon)},f.promise||"loading"===f.type&&!f.icon?f.icon||((null==I?void 0:I.loading)?X.default.createElement("div",{className:ef(null==V?void 0:V.loader,null==f||null==(p=f.classNames)?void 0:p.loader,"sonner-loader"),"data-visible":"loading"===ey},I.loading):X.default.createElement(er,{className:ef(null==V?void 0:V.loader,null==f||null==(h=f.classNames)?void 0:h.loader),visible:"loading"===ey})):null,"loading"!==f.type?eD:null):null,X.default.createElement("div",{"data-content":"",className:ef(null==V?void 0:V.content,null==f||null==(n=f.classNames)?void 0:n.content)},X.default.createElement("div",{"data-title":"",className:ef(null==V?void 0:V.title,null==f||null==(a=f.classNames)?void 0:a.title)},f.jsx?f.jsx:"function"==typeof f.title?f.title():f.title),f.description?X.default.createElement("div",{"data-description":"",className:ef(R,ex,null==V?void 0:V.description,null==f||null==(o=f.classNames)?void 0:o.description)},"function"==typeof f.description?f.description():f.description):null),X.default.isValidElement(f.cancel)?f.cancel:f.cancel&&em(f.cancel)?X.default.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||C,onClick:e=>{!em(f.cancel)||ev&&(null==f.cancel.onClick||f.cancel.onClick.call(f.cancel,e),eO())},className:ef(null==V?void 0:V.cancelButton,null==f||null==(l=f.classNames)?void 0:l.cancelButton)},f.cancel.label):null,X.default.isValidElement(f.action)?f.action:f.action&&em(f.action)?X.default.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||M,onClick:e=>{!em(f.action)||(null==f.action.onClick||f.action.onClick.call(f.action,e),e.defaultPrevented||eO())},className:ef(null==V?void 0:V.actionButton,null==f||null==(u=f.classNames)?void 0:u.actionButton)},f.action.label):null)};function ey(){if("u"<typeof window||"u"<typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}let ev=X.default.forwardRef(function(e,t){let{id:s,invert:i,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:u,mobileOffset:d,theme:c="light",richColors:h,duration:p,style:m,visibleToasts:f=3,toastOptions:g,dir:y=ey(),gap:v=14,icons:b,containerAriaLabel:x="Notifications"}=e,[w,k]=X.default.useState([]),S=X.default.useMemo(()=>s?w.filter(e=>e.toasterId===s):w.filter(e=>!e.toasterId),[w,s]),j=X.default.useMemo(()=>Array.from(new Set([r].concat(S.filter(e=>e.position).map(e=>e.position)))),[S,r]),[E,T]=X.default.useState([]),[P,C]=X.default.useState(!1),[M,A]=X.default.useState(!1),[R,_]=X.default.useState("system"!==c?c:"u">typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),N=X.default.useRef(null),O=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=X.default.useRef(null),V=X.default.useRef(!1),I=X.default.useCallback(e=>{k(t=>{var s;return(null==(s=t.find(t=>t.id===e.id))?void 0:s.delete)||ec.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return X.default.useEffect(()=>ec.subscribe(e=>{e.dismiss?requestAnimationFrame(()=>{k(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t))}):setTimeout(()=>{es.default.flushSync(()=>{k(t=>{let s=t.findIndex(t=>t.id===e.id);return -1!==s?[...t.slice(0,s),{...t[s],...e},...t.slice(s+1)]:[e,...t]})})})}),[w]),X.default.useEffect(()=>{if("system"!==c)return void _(c);if("system"===c&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?_("dark"):_("light")),"u"<typeof window)return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{e?_("dark"):_("light")})}catch(t){e.addListener(({matches:e})=>{try{e?_("dark"):_("light")}catch(e){console.error(e)}})}},[c]),X.default.useEffect(()=>{w.length<=1&&C(!1)},[w]),X.default.useEffect(()=>{let e=e=>{var t,s;n.every(t=>e[t]||e.code===t)&&(C(!0),null==(s=N.current)||s.focus()),"Escape"===e.code&&(document.activeElement===N.current||(null==(t=N.current)?void 0:t.contains(document.activeElement)))&&C(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n]),X.default.useEffect(()=>{if(N.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,V.current=!1)}},[N.current]),X.default.createElement("section",{ref:t,"aria-label":`${x} ${O}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((t,s)=>{var r;let n,[c,x]=t.split("-");return S.length?X.default.createElement("ol",{key:t,dir:"auto"===y?ey():y,tabIndex:-1,ref:N,className:l,"data-sonner-toaster":!0,"data-sonner-theme":R,"data-y-position":c,"data-x-position":x,style:{"--front-toast-height":`${(null==(r=E[0])?void 0:r.height)||0}px`,"--width":"356px","--gap":`${v}px`,...m,...(n={},[u,d].forEach((e,t)=>{let s=1===t,i=s?"--mobile-offset":"--offset",r=s?"16px":"24px";function a(e){["top","right","bottom","left"].forEach(t=>{n[`${i}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?a(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?n[`${i}-${t}`]=r:n[`${i}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):a(r)}),n)},onBlur:e=>{V.current&&!e.currentTarget.contains(e.relatedTarget)&&(V.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:e=>{!(e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible)&&(V.current||(V.current=!0,D.current=e.relatedTarget))},onMouseEnter:()=>C(!0),onMouseMove:()=>C(!0),onMouseLeave:()=>{M||C(!1)},onDragEnd:()=>C(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||A(!0)},onPointerUp:()=>A(!1)},S.filter(e=>!e.position&&0===s||e.position===t).map((s,r)=>{var n,l;return X.default.createElement(eg,{key:s.id,icons:b,index:r,toast:s,defaultRichColors:h,duration:null!=(n=null==g?void 0:g.duration)?n:p,className:null==g?void 0:g.className,descriptionClassName:null==g?void 0:g.descriptionClassName,invert:i,visibleToasts:f,closeButton:null!=(l=null==g?void 0:g.closeButton)?l:o,interacting:M,position:t,style:null==g?void 0:g.style,unstyled:null==g?void 0:g.unstyled,classNames:null==g?void 0:g.classNames,cancelButtonStyle:null==g?void 0:g.cancelButtonStyle,actionButtonStyle:null==g?void 0:g.actionButtonStyle,closeButtonAriaLabel:null==g?void 0:g.closeButtonAriaLabel,removeToast:I,toasts:S.filter(e=>e.position==s.position),heights:E.filter(e=>e.position==s.position),setHeights:T,expandByDefault:a,gap:v,expanded:P,swipeDirections:e.swipeDirections})})):null}))});e.s(["Toaster",()=>ev,"toast",()=>ep],28841)},19127,e=>{"use strict";let t,s,i,r,n,a,o,l,u,d,c;var h,p=e.i(60631),m=e.i(10925),f=e.i(54477);let g=(0,m.createContext)({});function y(e){let t=(0,m.useRef)(null);return null===t.current&&(t.current=e()),t.current}let v="u">typeof window,b=v?m.useLayoutEffect:m.useEffect,x=(0,m.createContext)(null);function w(e){return"object"==typeof e&&null!==e}function k(e){return w(e)&&"offsetHeight"in e}var S=m;let j=(0,m.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function E(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class T extends S.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&!1!==this.props.pop){let e=t.offsetParent,s=k(e)&&e.offsetWidth||0,i=k(e)&&e.offsetHeight||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=s-r.width-r.left,r.bottom=i-r.height-r.top}return null}componentDidUpdate(){}render(){return this.props.children}}function P({children:e,isPresent:t,anchorX:s,anchorY:i,root:r,pop:n}){let a=(0,S.useId)(),o=(0,S.useRef)(null),l=(0,S.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:u}=(0,S.useContext)(j),d=function(...e){return m.useCallback(function(...e){return t=>{let s=!1,i=e.map(e=>{let i=E(e,t);return s||"function"!=typeof i||(s=!0),i});if(s)return()=>{for(let t=0;t<i.length;t++){let s=i[t];"function"==typeof s?s():E(e[t],null)}}}}(...e),e)}(o,e.props?.ref??e?.ref);return(0,S.useInsertionEffect)(()=>{let{width:e,height:d,top:c,left:h,right:p,bottom:m}=l.current;if(t||!1===n||!o.current||!e||!d)return;let f="left"===s?`left: ${h}`:`right: ${p}`,g="bottom"===i?`bottom: ${m}`:`top: ${c}`;o.current.dataset.motionPopId=a;let y=document.createElement("style");u&&(y.nonce=u);let v=r??document.head;return v.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${d}px !important;
            ${f}px !important;
            ${g}px !important;
          }
        `),()=>{v.contains(y)&&v.removeChild(y)}},[t]),(0,p.jsx)(T,{isPresent:t,childRef:o,sizeRef:l,pop:n,children:!1===n?e:S.cloneElement(e,{ref:d})})}let C=({children:e,initial:t,isPresent:s,onExitComplete:i,custom:r,presenceAffectsLayout:n,mode:a,anchorX:o,anchorY:l,root:u})=>{let d=y(M),c=(0,m.useId)(),h=!0,f=(0,m.useMemo)(()=>(h=!1,{id:c,initial:t,isPresent:s,custom:r,onExitComplete:e=>{for(let t of(d.set(e,!0),d.values()))if(!t)return;i&&i()},register:e=>(d.set(e,!1),()=>d.delete(e))}),[s,d,i]);return n&&h&&(f={...f}),(0,m.useMemo)(()=>{d.forEach((e,t)=>d.set(t,!1))},[s]),m.useEffect(()=>{s||d.size||!i||i()},[s]),e=(0,p.jsx)(P,{pop:"popLayout"===a,isPresent:s,anchorX:o,anchorY:l,root:u,children:e}),(0,p.jsx)(x.Provider,{value:f,children:e})};function M(){return new Map}function A(e=!0){let t=(0,m.useContext)(x);if(null===t)return[!0,null];let{isPresent:s,onExitComplete:i,register:r}=t,n=(0,m.useId)();(0,m.useEffect)(()=>{if(e)return r(n)},[e]);let a=(0,m.useCallback)(()=>e&&i&&i(n),[n,i,e]);return!s&&i?[!1,a]:[!0]}let R=e=>e.key||"";function _(e){let t=[];return m.Children.forEach(e,e=>{(0,m.isValidElement)(e)&&t.push(e)}),t}let N=({children:e,custom:t,initial:s=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:n="sync",propagate:a=!1,anchorX:o="left",anchorY:l="top",root:u})=>{let[d,c]=A(a),h=(0,m.useMemo)(()=>_(e),[e]),f=a&&!d?[]:h.map(R),v=(0,m.useRef)(!0),x=(0,m.useRef)(h),w=y(()=>new Map),k=(0,m.useRef)(new Set),[S,j]=(0,m.useState)(h),[E,T]=(0,m.useState)(h);b(()=>{v.current=!1,x.current=h;for(let e=0;e<E.length;e++){let t=R(E[e]);f.includes(t)?(w.delete(t),k.current.delete(t)):!0!==w.get(t)&&w.set(t,!1)}},[E,f.length,f.join("-")]);let P=[];if(h!==S){let e=[...h];for(let t=0;t<E.length;t++){let s=E[t],i=R(s);f.includes(i)||(e.splice(t,0,s),P.push(s))}return"wait"===n&&P.length&&(e=P),T(_(e)),j(h),null}let{forceRender:M}=(0,m.useContext)(g);return(0,p.jsx)(p.Fragment,{children:E.map(e=>{let m=R(e),g=(!a||!!d)&&(h===E||f.includes(m));return(0,p.jsx)(C,{isPresent:g,initial:(!v.current||!!s)&&void 0,custom:t,presenceAffectsLayout:r,mode:n,root:u,onExitComplete:g?void 0:()=>{if(k.current.has(m)||(k.current.add(m),!w.has(m)))return;w.set(m,!0);let e=!0;w.forEach(t=>{t||(e=!1)}),e&&(M?.(),T(x.current),a&&c?.(),i&&i())},anchorX:o,anchorY:l,children:e},m)})})},O=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],D=new Set(O),V=(e,t,s)=>s>t?t:s<e?e:s,I={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},L={...I,transform:e=>V(0,1,e)},F={...I,default:1},B=e=>Math.round(1e5*e)/1e5,z=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,U=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,q=(e,t)=>s=>!!("string"==typeof s&&U.test(s)&&s.startsWith(e)||t&&null!=s&&Object.prototype.hasOwnProperty.call(s,t)),$=(e,t,s)=>i=>{if("string"!=typeof i)return i;let[r,n,a,o]=i.match(z);return{[e]:parseFloat(r),[t]:parseFloat(n),[s]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},Q={...I,transform:e=>Math.round(V(0,255,e))},K={test:q("rgb","red"),parse:$("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:i=1})=>"rgba("+Q.transform(e)+", "+Q.transform(t)+", "+Q.transform(s)+", "+B(L.transform(i))+")"},W={test:q("#"),parse:function(e){let t="",s="",i="",r="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,s+=s,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}},transform:K.transform},Y=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),H=Y("deg"),G=Y("%"),X=Y("px"),J=Y("vh"),Z=Y("vw"),ee={...G,parse:e=>G.parse(e)/100,transform:e=>G.transform(100*e)},et={test:q("hsl","hue"),parse:$("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:i=1})=>"hsla("+Math.round(e)+", "+G.transform(B(t))+", "+G.transform(B(s))+", "+B(L.transform(i))+")"},es={test:e=>K.test(e)||W.test(e)||et.test(e),parse:e=>K.test(e)?K.parse(e):et.test(e)?et.parse(e):W.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?K.transform(e):et.transform(e),getAnimatableNone:e=>{let t=es.parse(e);return t.alpha=0,es.transform(t)}},ei=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,er="number",en="color",ea=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eo(e){let t=e.toString(),s=[],i={color:[],number:[],var:[]},r=[],n=0,a=t.replace(ea,e=>(es.test(e)?(i.color.push(n),r.push(en),s.push(es.parse(e))):e.startsWith("var(")?(i.var.push(n),r.push("var"),s.push(e)):(i.number.push(n),r.push(er),s.push(parseFloat(e))),++n,"${}")).split("${}");return{values:s,split:a,indexes:i,types:r}}function el(e){return eo(e).values}function eu(e){let{split:t,types:s}=eo(e),i=t.length;return e=>{let r="";for(let n=0;n<i;n++)if(r+=t[n],void 0!==e[n]){let t=s[n];t===er?r+=B(e[n]):t===en?r+=es.transform(e[n]):r+=e[n]}return r}}let ed=e=>"number"==typeof e?0:es.test(e)?es.getAnimatableNone(e):e,ec={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(z)?.length||0)+(e.match(ei)?.length||0)>0},parse:el,createTransformer:eu,getAnimatableNone:function(e){let t=el(e);return eu(e)(t.map(ed))}},eh=new Set(["brightness","contrast","saturate","opacity"]);function ep(e){let[t,s]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[i]=s.match(z)||[];if(!i)return e;let r=s.replace(i,""),n=+!!eh.has(t);return i!==s&&(n*=100),t+"("+n+r+")"}let em=/\b([a-z-]*)\(.*?\)/gu,ef={...ec,getAnimatableNone:e=>{let t=e.match(em);return t?t.map(ep).join(" "):e}},eg={...ec,getAnimatableNone:e=>{let t=ec.parse(e);return ec.createTransformer(e)(t.map(e=>"number"==typeof e?0:"object"==typeof e?{...e,alpha:1}:e))}},ey={...I,transform:Math.round},ev={borderWidth:X,borderTopWidth:X,borderRightWidth:X,borderBottomWidth:X,borderLeftWidth:X,borderRadius:X,borderTopLeftRadius:X,borderTopRightRadius:X,borderBottomRightRadius:X,borderBottomLeftRadius:X,width:X,maxWidth:X,height:X,maxHeight:X,top:X,right:X,bottom:X,left:X,inset:X,insetBlock:X,insetBlockStart:X,insetBlockEnd:X,insetInline:X,insetInlineStart:X,insetInlineEnd:X,padding:X,paddingTop:X,paddingRight:X,paddingBottom:X,paddingLeft:X,paddingBlock:X,paddingBlockStart:X,paddingBlockEnd:X,paddingInline:X,paddingInlineStart:X,paddingInlineEnd:X,margin:X,marginTop:X,marginRight:X,marginBottom:X,marginLeft:X,marginBlock:X,marginBlockStart:X,marginBlockEnd:X,marginInline:X,marginInlineStart:X,marginInlineEnd:X,fontSize:X,backgroundPositionX:X,backgroundPositionY:X,rotate:H,rotateX:H,rotateY:H,rotateZ:H,scale:F,scaleX:F,scaleY:F,scaleZ:F,skew:H,skewX:H,skewY:H,distance:X,translateX:X,translateY:X,translateZ:X,x:X,y:X,z:X,perspective:X,transformPerspective:X,opacity:L,originX:ee,originY:ee,originZ:X,zIndex:ey,fillOpacity:L,strokeOpacity:L,numOctaves:ey},eb={...ev,color:es,backgroundColor:es,outlineColor:es,fill:es,stroke:es,borderColor:es,borderTopColor:es,borderRightColor:es,borderBottomColor:es,borderLeftColor:es,filter:ef,WebkitFilter:ef,mask:eg,WebkitMask:eg},ex=e=>eb[e],ew=()=>({translate:0,scale:1,origin:0,originPoint:0}),ek=()=>({x:ew(),y:ew()}),eS=()=>({min:0,max:0}),ej=()=>({x:eS(),y:eS()}),eE=e=>!!(e&&e.getVelocity),eT=new Set(["width","height","top","left","right","bottom",...O]),eP=e=>t=>t.test(e),eC=[I,X,G,H,Z,J,{test:e=>"auto"===e,parse:e=>e}],eM=e=>eC.find(eP(e)),eA=()=>{},eR=()=>{};f.default;let e_=e=>t=>"string"==typeof t&&t.startsWith(e),eN=e_("--"),eO=e_("var(--"),eD=e=>!!eO(e)&&eV.test(e.split("/*")[0].trim()),eV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function eI(e){return"string"==typeof e&&e.split("/*")[0].includes("var(--")}let eL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,eF=e=>180*e/Math.PI,eB=e=>eU(eF(Math.atan2(e[1],e[0]))),ez={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:eB,rotateZ:eB,skewX:e=>eF(Math.atan(e[1])),skewY:e=>eF(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},eU=e=>((e%=360)<0&&(e+=360),e),eq=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),e$=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),eQ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eq,scaleY:e$,scale:e=>(eq(e)+e$(e))/2,rotateX:e=>eU(eF(Math.atan2(e[6],e[5]))),rotateY:e=>eU(eF(Math.atan2(-e[2],e[0]))),rotateZ:eB,rotate:eB,skewX:e=>eF(Math.atan(e[4])),skewY:e=>eF(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function eK(e){return+!!e.includes("scale")}function eW(e,t){let s,i;if(!e||"none"===e)return eK(t);let r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(r)s=eQ,i=r;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=ez,i=t}if(!i)return eK(t);let n=s[t],a=i[1].split(",").map(eY);return"function"==typeof n?n(a):a[n]}function eY(e){return parseFloat(e.trim())}let eH=e=>e===I||e===X,eG=new Set(["x","y","z"]),eX=O.filter(e=>!eG.has(e)),eJ={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>eW(t,"x"),y:(e,{transform:t})=>eW(t,"y")};eJ.translateX=eJ.x,eJ.translateY=eJ.y;let eZ=e=>e,e0={},e1=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function e2(e,t){let s=!1,i=!0,r={delta:0,timestamp:0,isProcessing:!1},n=()=>s=!0,a=e1.reduce((e,s)=>(e[s]=function(e,t){let s=new Set,i=new Set,r=!1,n=!1,a=new WeakSet,o={delta:0,timestamp:0,isProcessing:!1},l=0;function u(t){a.has(t)&&(d.schedule(t),e()),l++,t(o)}let d={schedule:(e,t=!1,n=!1)=>{let o=n&&r?s:i;return t&&a.add(e),o.has(e)||o.add(e),e},cancel:e=>{i.delete(e),a.delete(e)},process:e=>{if(o=e,r){n=!0;return}r=!0,[s,i]=[i,s],s.forEach(u),t,l=0,s.clear(),r=!1,n&&(n=!1,d.process(e))}};return d}(n,t?s:void 0),e),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:d,update:c,preRender:h,render:p,postRender:m}=a,f=()=>{let n=e0.useManualTiming?r.timestamp:performance.now();s=!1,e0.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(n-r.timestamp,40),1)),r.timestamp=n,r.isProcessing=!0,o.process(r),l.process(r),u.process(r),d.process(r),c.process(r),h.process(r),p.process(r),m.process(r),r.isProcessing=!1,s&&t&&(i=!1,e(f))};return{schedule:e1.reduce((t,n)=>{let o=a[n];return t[n]=(t,n=!1,a=!1)=>(!s&&(s=!0,i=!0,r.isProcessing||e(f)),o.schedule(t,n,a)),t},{}),cancel:e=>{for(let t=0;t<e1.length;t++)a[e1[t]].cancel(e)},state:r,steps:a}}let{schedule:e5,cancel:e4,state:e3,steps:e6}=e2("u">typeof requestAnimationFrame?requestAnimationFrame:eZ,!0),e8=new Set,e9=!1,e7=!1,te=!1;function tt(){if(e7){let e=Array.from(e8).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),s=new Map;t.forEach(e=>{let t,i=(t=[],eX.forEach(s=>{let i=e.getValue(s);void 0!==i&&(t.push([s,i.get()]),i.set(+!!s.startsWith("scale")))}),t);i.length&&(s.set(e,i),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=s.get(e);t&&t.forEach(([t,s])=>{e.getValue(t)?.set(s)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}e7=!1,e9=!1,e8.forEach(e=>e.complete(te)),e8.clear()}function ts(){e8.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(e7=!0)})}class ti{constructor(e,t,s,i,r,n=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=i,this.element=r,this.isAsync=n}scheduleResolve(){this.state="scheduled",this.isAsync?(e8.add(this),e9||(e9=!0,e5.read(ts),e5.resolveKeyframes(tt))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:s,motionValue:i}=this;if(null===e[0]){let r=i?.get(),n=e[e.length-1];if(void 0!==r)e[0]=r;else if(s&&t){let i=s.readValue(t,n);null!=i&&(e[0]=i)}void 0===e[0]&&(e[0]=n),i&&void 0===r&&i.set(e[0])}for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),e8.delete(this)}cancel(){"scheduled"===this.state&&(e8.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}let tr=new Set([ef,eg]);function tn(e,t){let s=ex(e);return tr.has(s)||(s=ec),s.getAnimatableNone?s.getAnimatableNone(t):void 0}let ta=new Set(["auto","none","0"]);class to extends ti{constructor(e,t,s,i,r){super(e,t,s,i,r,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let s=0;s<e.length;s++){let i=e[s];if("string"==typeof i&&eD(i=i.trim())){let r=function e(t,s,i=1){eR(i<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`,"max-css-var-depth");let[r,n]=function(e){let t=eL.exec(e);if(!t)return[,];let[,s,i,r]=t;return[`--${s??i}`,r]}(t);if(!r)return;let a=window.getComputedStyle(s).getPropertyValue(r);if(a){let e=a.trim();return/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e)?parseFloat(e):e}return eD(n)?e(n,s,i+1):n}(i,t.current);void 0!==r&&(e[s]=r),s===e.length-1&&(this.finalKeyframe=i)}}if(this.resolveNoneKeyframes(),!eT.has(s)||2!==e.length)return;let[i,r]=e,n=eM(i),a=eM(r);if(eI(i)!==eI(r)&&eJ[s]){this.needsMeasurement=!0;return}if(n!==a)if(eH(n)&&eH(a))for(let t=0;t<e.length;t++){let s=e[t];"string"==typeof s&&(e[t]=parseFloat(s))}else eJ[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,s=[];for(let t=0;t<e.length;t++)(null===e[t]||function(e){if("number"==typeof e)return 0===e;if(null===e)return!0;return"none"===e||"0"===e||/^0[^.\s]+$/u.test(e)}(e[t]))&&s.push(t);s.length&&function(e,t,s){let i,r=0;for(;r<e.length&&!i;){let t=e[r];"string"==typeof t&&!ta.has(t)&&eo(t).values.length&&(i=e[r]),r++}if(i&&s)for(let r of t)e[r]=tn(s,i)}(e,s,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;"height"===s&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=eJ[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let i=t[t.length-1];void 0!==i&&e.getValue(s,i).jump(i,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:s}=this;if(!e||!e.current)return;let i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);let r=s.length-1,n=s[r];s[r]=eJ[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==n&&void 0===this.finalKeyframe&&(this.finalKeyframe=n),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,s])=>{e.getValue(t).set(s)}),this.resolveNoneKeyframes()}}let tl=e=>1e3*e;function tu(e,t){-1===e.indexOf(t)&&e.push(t)}function td(e,t){let s=e.indexOf(t);s>-1&&e.splice(s,1)}class tc{constructor(){this.subscriptions=[]}add(e){return tu(this.subscriptions,e),()=>td(this.subscriptions,e)}notify(e,t,s){let i=this.subscriptions.length;if(i)if(1===i)this.subscriptions[0](e,t,s);else for(let r=0;r<i;r++){let i=this.subscriptions[r];i&&i(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function th(e){let t;return()=>(void 0===t&&(t=e()),t)}let tp={};function tm(e,t){let s=th(e);return()=>tp[t]??s()}let tf=tm(()=>void 0!==window.ScrollTimeline,"scrollTimeline"),tg=e=>null!==e;function ty(e,{repeat:t,repeatType:s="loop"},i,r=1){let n=e.filter(tg),a=r<0||t&&"loop"!==s&&t%2==1?0:n.length-1;return a&&void 0!==i?i:n[a]}class tv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}let tb={layout:0,mainThread:0,waapi:0},tx=e=>Array.isArray(e)&&"number"==typeof e[0],tw=tm(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),tk=(e,t,s=10)=>{let i="",r=Math.max(Math.round(t/s),2);for(let t=0;t<r;t++)i+=Math.round(1e4*e(t/(r-1)))/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},tS=([e,t,s,i])=>`cubic-bezier(${e}, ${t}, ${s}, ${i})`,tj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tS([0,.65,.55,1]),circOut:tS([.55,0,1,.45]),backIn:tS([.31,.01,.66,-.59]),backOut:tS([.33,1.53,.69,.99])};function tE(e){return"function"==typeof e&&"applyToOptions"in e}class tT extends tv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:s,keyframes:i,pseudoElement:r,allowFlatten:n=!1,finalKeyframe:a,onComplete:o}=e;this.isPseudoElement=!!r,this.allowFlatten=n,this.options=e,eR("string"!=typeof e.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");const l=function({type:e,...t}){return tE(e)&&tw()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=function(e,t,s,{delay:i=0,duration:r=300,repeat:n=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u){let d={[t]:s};l&&(d.offset=l);let c=function e(t,s){if(t)return"function"==typeof t?tw()?tk(t,s):"ease-out":tx(t)?tS(t):Array.isArray(t)?t.map(t=>e(t,s)||tj.easeOut):tj[t]}(o,r);Array.isArray(c)&&(d.easing=c);let h={delay:i,duration:r,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:n+1,direction:"reverse"===a?"alternate":"normal"};u&&(h.pseudoElement=u);let p=e.animate(d,h);return p}(t,s,i,l,r),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){let e=ty(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):s.startsWith("--")?t.style.setProperty(s,e):t.style[s]=e,this.animation.cancel()}o?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){let e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){return Number(this.animation.effect?.getComputedTiming?.().duration||0)/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return(Number(this.animation.currentTime)||0)/1e3}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=tl(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return(this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&tf())?(this.animation.timeline=e,eZ):t(this)}}let tP=new Set(["opacity","clipPath","filter","transform"]),{schedule:tC}=e2(queueMicrotask,!1);function tM(){t=void 0}let tA={now:()=>(void 0===t&&tA.set(e3.isProcessing||e0.useManualTiming?e3.timestamp:performance.now()),t),set:e=>{t=e,queueMicrotask(tM)}};class tR{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{let t=tA.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=tA.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=!isNaN(parseFloat(this.current)))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new tc);let s=this.events[e].add(t);return"change"===e?()=>{s(),e5.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return d&&d.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var e;let t=tA.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;let s=Math.min(this.updatedAt-this.prevUpdatedAt,30);return e=parseFloat(this.current)-parseFloat(this.prevFrameValue),s?1e3/s*e:0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function t_(e,t){return new tR(e,t)}let tN=[...eC,es,ec],tO=new WeakMap;function tD(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function tV(e){return"string"==typeof e||Array.isArray(e)}let tI=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tL=["initial",...tI];function tF(e){return tD(e.animate)||tL.some(t=>tV(e[t]))}function tB(e){return!!(tF(e)||e.variants)}let tz={current:null},tU={current:!1},tq="u">typeof window;function t$(e){let t=[{},{}];return e?.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function tQ(e,t,s,i){if("function"==typeof t){let[r,n]=t$(i);t=t(void 0!==s?s:e.custom,r,n)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[r,n]=t$(i);t=t(void 0!==s?s:e.custom,r,n)}return t}let tK=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],tW={};class tY{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:i,skipAnimations:r,blockInitialAnimation:n,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=ti,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=tA.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,e5.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=r,this.options=o,this.blockInitialAnimation=!!n,this.isControllingVariants=tF(t),this.isVariantNode=tB(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...c}=this.scrapeMotionValuesFromProps(t,{},this);for(const e in c){const t=c[e];void 0!==l[e]&&eE(t)&&t.set(l[e])}}mount(e){if(this.hasBeenMounted)for(let e in this.initialValues)this.values.get(e)?.jump(this.initialValues[e]),this.latestValues[e]=this.initialValues[e];this.current=e,tO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),"never"===this.reducedMotionConfig?this.shouldReduceMotion=!1:"always"===this.reducedMotionConfig?this.shouldReduceMotion=!0:(tU.current||function(){if(tU.current=!0,tq)if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>tz.current=e.matches;e.addEventListener("change",t),t()}else tz.current=!1}(),this.shouldReduceMotion=tz.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){for(let e in this.projection&&this.projection.unmount(),e4(this.notifyUpdate),e4(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){let s;if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),t.accelerate&&tP.has(e)&&this.current instanceof HTMLElement){let{factory:s,keyframes:i,times:r,ease:n,duration:a}=t.accelerate,o=new tT({element:this.current,name:e,keyframes:i,times:r,ease:n,duration:tl(a)}),l=s(o);this.valueSubscriptions.set(e,()=>{l(),o.cancel()});return}let i=D.has(e);i&&this.onBindTransform&&this.onBindTransform();let r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&e5.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});"u">typeof window&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in tW){let t=tW[e];if(!t)continue;let{isEnabled:s,Feature:i}=t;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ej()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<tK.length;t++){let s=tK[t];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);let i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=function(e,t,s){for(let i in t){let r=t[i],n=s[i];if(eE(r))e.addValue(i,r);else if(eE(n))e.addValue(i,t_(r,{owner:e}));else if(n!==r)if(e.hasValue(i)){let t=e.getValue(i);!0===t.liveStyle?t.jump(r):t.hasAnimated||t.set(r)}else{let t=e.getStaticValue(i);e.addValue(i,t_(void 0!==t?t:r,{owner:e}))}}for(let i in s)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return void 0===s&&void 0!==t&&(s=t_(null===t?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){let s=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];if(null!=s){let i,r;if("string"==typeof s&&(i=s,/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i)||(r=s,/^0[^.\s]+$/u.test(r))))s=parseFloat(s);else{let i;i=s,!tN.find(eP(i))&&ec.test(t)&&(s=tn(e,t))}this.setBaseTarget(e,eE(s)?s.get():s)}return eE(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let t,{initial:s}=this.props;if("string"==typeof s||"object"==typeof s){let i=tQ(this.props,s,this.presenceContext?.custom);i&&(t=i[e])}if(s&&void 0!==t)return t;let i=this.getBaseTargetFromProps(this.props,e);return void 0===i||eE(i)?void 0!==this.initialValues[e]&&void 0===t?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new tc),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){tC.render(this.render)}}class tH extends tY{constructor(){super(...arguments),this.KeyframeResolver=to}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){let s=e.style;return s?s[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;eE(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function tG(e){return e.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}let tX=(e,t)=>t&&"number"==typeof e?t.transform(e):e,tJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tZ=O.length;function t0(e,t,s){let{style:i,vars:r,transformOrigin:n}=e,a=!1,o=!1;for(let e in t){let s=t[e];if(D.has(e)){a=!0;continue}if(eN(e)){r[e]=s;continue}{let t=tX(s,ev[e]);e.startsWith("origin")?(o=!0,n[e]=t):i[e]=t}}if(!t.transform&&(a||s?i.transform=function(e,t,s){let i="",r=!0;for(let n=0;n<tZ;n++){let a=O[n],o=e[a];if(void 0===o)continue;let l=!0;if("number"==typeof o)l=o===+!!a.startsWith("scale");else{let e=parseFloat(o);l=a.startsWith("scale")?1===e:0===e}if(!l||s){let e=tX(o,ev[a]);if(!l){r=!1;let t=tJ[a]||a;i+=`${t}(${e}) `}s&&(t[a]=e)}}return i=i.trim(),s?i=s(t,r?"":i):r&&(i="none"),i}(t,e.transform,s):i.transform&&(i.transform="none")),o){let{originX:e="50%",originY:t="50%",originZ:s=0}=n;i.transformOrigin=`${e} ${t} ${s}`}}let t1={offset:"stroke-dashoffset",array:"stroke-dasharray"},t2={offset:"strokeDashoffset",array:"strokeDasharray"},t5=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function t4(e,{attrX:t,attrY:s,attrScale:i,pathLength:r,pathSpacing:n=1,pathOffset:a=0,...o},l,u,d){if(t0(e,o,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:c,style:h}=e;for(let e of(c.transform&&(h.transform=c.transform,delete c.transform),(h.transform||c.transformOrigin)&&(h.transformOrigin=c.transformOrigin??"50% 50%",delete c.transformOrigin),h.transform&&(h.transformBox=d?.transformBox??"fill-box",delete c.transformBox),t5))void 0!==c[e]&&(h[e]=c[e],delete c[e]);void 0!==t&&(c.x=t),void 0!==s&&(c.y=s),void 0!==i&&(c.scale=i),void 0!==r&&function(e,t,s=1,i=0,r=!0){e.pathLength=1;let n=r?t1:t2;e[n.offset]=`${-i}`,e[n.array]=`${t} ${s}`}(c,r,n,a,!1)}let t3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),t6=e=>"string"==typeof e&&"svg"===e.toLowerCase();function t8(e,{style:t,vars:s},i,r){let n,a=e.style;for(n in t)a[n]=t[n];for(n in r?.applyProjectionStyles(a,i),s)a.setProperty(n,s[n])}function t9(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let t7={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e)if(!X.test(e))return e;else e=parseFloat(e);let s=t9(e,t.target.x),i=t9(e,t.target.y);return`${s}% ${i}%`}},se=(e,t,s)=>e+(t-e)*s,st={borderRadius:{...t7,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:t7,borderTopRightRadius:t7,borderBottomLeftRadius:t7,borderBottomRightRadius:t7,boxShadow:{correct:(e,{treeScale:t,projectionDelta:s})=>{let i=ec.parse(e);if(i.length>5)return e;let r=ec.createTransformer(e),n=+("number"!=typeof i[0]),a=s.x.scale*t.x,o=s.y.scale*t.y;i[0+n]/=a,i[1+n]/=o;let l=se(a,o,.5);return"number"==typeof i[2+n]&&(i[2+n]/=l),"number"==typeof i[3+n]&&(i[3+n]/=l),r(i)}}};function ss(e,{layout:t,layoutId:s}){return D.has(e)||e.startsWith("origin")||(t||void 0!==s)&&(!!st[e]||"opacity"===e)}function si(e,t,s){let i=e.style,r=t?.style,n={};if(!i)return n;for(let t in i)(eE(i[t])||r&&eE(r[t])||ss(t,e)||s?.getValue(t)?.liveStyle!==void 0)&&(n[t]=i[t]);return n}function sr(e,t,s){let i=si(e,t,s);for(let s in e)(eE(e[s])||eE(t[s]))&&(i[-1!==O.indexOf(s)?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s]=e[s]);return i}class sn extends tH{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ej}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(D.has(t)){let e=ex(t);return e&&e.default||0}return t=t3.has(t)?t:tG(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return sr(e,t,s)}build(e,t,s){t4(e,t,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,t,s,i){for(let s in t8(e,t,void 0,i),t.attrs)e.setAttribute(t3.has(s)?s:tG(s),t.attrs[s])}mount(e){this.isSVGTag=t6(e.tagName),super.mount(e)}}function sa({top:e,left:t,right:s,bottom:i}){return{x:{min:t,max:s},y:{min:e,max:i}}}function so(e){return void 0===e||1===e}function sl({scale:e,scaleX:t,scaleY:s}){return!so(e)||!so(t)||!so(s)}function su(e){return sl(e)||sd(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function sd(e){var t,s;return(t=e.x)&&"0%"!==t||(s=e.y)&&"0%"!==s}function sc(e,t,s,i,r){return void 0!==r&&(e=i+r*(e-i)),i+s*(e-i)+t}function sh(e,t=0,s=1,i,r){e.min=sc(e.min,t,s,i,r),e.max=sc(e.max,t,s,i,r)}function sp(e,{x:t,y:s}){sh(e.x,t.translate,t.scale,t.originPoint),sh(e.y,s.translate,s.scale,s.originPoint)}function sm(e,t){e.min=e.min+t,e.max=e.max+t}function sf(e,t,s,i,r=.5){let n=se(e.min,e.max,r);sh(e,t,s,n,i)}function sg(e,t){sf(e.x,t.x,t.scaleX,t.scale,t.originX),sf(e.y,t.y,t.scaleY,t.scale,t.originY)}function sy(e,t){return sa(function(e,t){if(!t)return e;let s=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:i.y,right:i.x}}(e.getBoundingClientRect(),t))}class sv extends tH{constructor(){super(...arguments),this.type="html",this.renderInstance=t8}readValueFromInstance(e,t){if(D.has(t))return this.projection?.isProjecting?eK(t):((e,t)=>{let{transform:s="none"}=getComputedStyle(e);return eW(s,t)})(e,t);{let s=window.getComputedStyle(e),i=(eN(t)?s.getPropertyValue(t):s[t])||0;return"string"==typeof i?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return sy(e,t)}build(e,t,s){t0(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return si(e,t,s)}}let sb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sx(e){if("string"!=typeof e||e.includes("-"));else if(sb.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}let sw=(0,m.createContext)({strict:!1}),sk=(0,m.createContext)({});function sS(e){return Array.isArray(e)?e.join(" "):e}let sj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sE(e,t,s){for(let i in t)eE(t[i])||ss(i,s)||(e[i]=t[i])}let sT=()=>({...sj(),attrs:{}}),sP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function sC(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||sP.has(e)}let sM=e=>!sC(e);try{h=(()=>{let e=Error("Cannot find module '@emotion/is-prop-valid'");throw e.code="MODULE_NOT_FOUND",e})().default,"function"==typeof h&&(sM=e=>e.startsWith("on")?!sC(e):h(e))}catch{}function sA(e){return eE(e)?e.get():e}let sR=e=>(t,s)=>{let i=(0,m.useContext)(sk),r=(0,m.useContext)(x),n=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t},s,i,r){return{latestValues:function(e,t,s,i){let r={},n=i(e,{});for(let e in n)r[e]=sA(n[e]);let{initial:a,animate:o}=e,l=tF(e),u=tB(e);t&&u&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let d=!!s&&!1===s.initial,c=(d=d||!1===a)?o:a;if(c&&"boolean"!=typeof c&&!tD(c)){let t=Array.isArray(c)?c:[c];for(let s=0;s<t.length;s++){let i=tQ(e,t[s]);if(i){let{transitionEnd:e,transition:t,...s}=i;for(let e in s){let t=s[e];if(Array.isArray(t)){let e=d?t.length-1:0;t=t[e]}null!==t&&(r[e]=t)}for(let t in e)r[t]=e[t]}}}return r}(s,i,r,e),renderState:t()}})(e,t,i,r);return s?n():y(n)},s_=sR({scrapeMotionValuesFromProps:si,createRenderState:sj}),sN=sR({scrapeMotionValuesFromProps:sr,createRenderState:sT}),sO={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sD=!1;function sV(){return!function(){if(sD)return;let e={};for(let t in sO)e[t]={isEnabled:e=>sO[t].some(t=>!!e[t])};tW=e,sD=!0}(),tW}let sI=Symbol.for("motionComponentSymbol"),sL="data-"+tG("framerAppearId"),sF=(0,m.createContext)({});function sB(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function sz(e,{forwardMotionProps:t=!1,type:s}={},i,r){i&&function(e){let t=sV();for(let s in e)t[s]={...t[s],...e[s]};tW=t}(i);let n=s?"svg"===s:sx(e),a=n?sN:s_;function o(s,i){var o;let l,u,d,c={...(0,m.useContext)(j),...s,layoutId:function({layoutId:e}){let t=(0,m.useContext)(g).id;return t&&void 0!==e?t+"-"+e:e}(s)},{isStatic:h}=c,f=function(e){let{initial:t,animate:s}=function(e,t){if(tF(e)){let{initial:t,animate:s}=e;return{initial:!1===t||tV(t)?t:void 0,animate:tV(s)?s:void 0}}return!1!==e.inherit?t:{}}(e,(0,m.useContext)(sk));return(0,m.useMemo)(()=>({initial:t,animate:s}),[sS(t),sS(s)])}(s),y=a(s,h);if(!h&&v){(0,m.useContext)(sw).strict;let t=function(e){let{drag:t,layout:s}=sV();if(!t&&!s)return{};let i={...t,...s};return{MeasureLayout:t?.isEnabled(e)||s?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}(c);l=t.MeasureLayout,f.visualElement=function(e,t,s,i,r,n){let{visualElement:a}=(0,m.useContext)(sk),o=(0,m.useContext)(sw),l=(0,m.useContext)(x),u=(0,m.useContext)(j),d=u.reducedMotion,c=u.skipAnimations,h=(0,m.useRef)(null),p=(0,m.useRef)(!1);i=i||o.renderer,!h.current&&i&&(h.current=i(e,{visualState:t,parent:a,props:s,presenceContext:l,blockInitialAnimation:!!l&&!1===l.initial,reducedMotionConfig:d,skipAnimations:c,isSVG:n}),p.current&&h.current&&(h.current.manuallyAnimateOnMount=!0));let f=h.current,g=(0,m.useContext)(sF);f&&!f.projection&&r&&("html"===f.type||"svg"===f.type)&&function(e,t,s,i){let{layoutId:r,layout:n,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:r,layout:n,alwaysMeasureLayout:!!a||o&&sB(o),visualElement:e,animationType:"string"==typeof n?n:"both",initialPromotionConfig:i,crossfade:d,layoutScroll:l,layoutRoot:u})}(h.current,s,r,g);let y=(0,m.useRef)(!1);(0,m.useInsertionEffect)(()=>{f&&y.current&&f.update(s,l)});let v=s[sL],w=(0,m.useRef)(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return b(()=>{p.current=!0,f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),w.current&&f.animationState&&f.animationState.animateChanges())}),(0,m.useEffect)(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),w.current=!1),f.enteringChildren=void 0)}),f}(e,y,c,r,t.ProjectionNode,n)}return(0,p.jsxs)(sk.Provider,{value:f,children:[l&&f.visualElement?(0,p.jsx)(l,{visualElement:f.visualElement,...c}):null,function(e,t,s,{latestValues:i},r,n=!1,a){let o=(a??sx(e)?function(e,t,s,i){let r=(0,m.useMemo)(()=>{let s=sT();return t4(s,t,t6(i),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){let t={};sE(t,e.style,e),r.style={...t,...r.style}}return r}:function(e,t){let s,i,r={},n=(s=e.style||{},sE(i={},s,e),Object.assign(i,function({transformTemplate:e},t){return(0,m.useMemo)(()=>{let s=sj();return t0(s,t,e),Object.assign({},s.vars,s.style)},[t])}(e,t)),i);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r})(t,i,r,e),l=function(e,t,s){let i={};for(let r in e)("values"!==r||"object"!=typeof e.values)&&(sM(r)||!0===s&&sC(r)||!t&&!sC(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}(t,"string"==typeof e,n),u=e!==m.Fragment?{...l,...o,ref:s}:{},{children:d}=t,c=(0,m.useMemo)(()=>eE(d)?d.get():d,[d]);return(0,m.createElement)(e,{...u,children:c})}(e,s,(o=f.visualElement,u=(0,m.useRef)(i),(0,m.useInsertionEffect)(()=>{u.current=i}),d=(0,m.useRef)(null),(0,m.useCallback)(e=>{e&&y.onMount?.(e),o&&(e?o.mount(e):o.unmount());let t=u.current;if("function"==typeof t)if(e){let s=t(e);"function"==typeof s&&(d.current=s)}else d.current?(d.current(),d.current=null):t(e);else t&&(t.current=e)},[o])),y,h,t,n)]})}o.displayName=`motion.${"string"==typeof e?e:`create(${e.displayName??e.name??""})`}`;let l=(0,m.forwardRef)(o);return l[sI]=e,l}class sU{constructor(e){this.isMounted=!1,this.node=e}update(){}}function sq(e,t,s){let i=e.getProps();return tQ(i,t,void 0!==s?s:i.custom,e)}function s$(e,t){if(e?.inherit&&t){let{inherit:s,...i}=e;return{...t,...i}}return e}function sQ(e,t){let s=e?.[t]??e?.default??e;return s!==e?s$(s,e):s}let sK=e=>Array.isArray(e);function sW(e,t){let s=e.getValue("willChange");if(eE(s)&&s.add)return s.add(t);if(!s&&e0.WillChange){let s=new e0.WillChange("auto");e.addValue("willChange",s),s.add(t)}}let sY=(e,t)=>s=>t(e(s)),sH=(...e)=>e.reduce(sY);function sG(e,t,s){return(s<0&&(s+=1),s>1&&(s-=1),s<1/6)?e+(t-e)*6*s:s<.5?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function sX(e,t){return s=>s>0?t:e}let sJ=(e,t,s)=>{let i=e*e,r=s*(t*t-i)+i;return r<0?0:Math.sqrt(r)},sZ=[W,K,et];function s0(e){let t=sZ.find(t=>t.test(e));if(eA(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let s=t.parse(e);return t===et&&(s=function({hue:e,saturation:t,lightness:s,alpha:i}){e/=360,s/=100;let r=0,n=0,a=0;if(t/=100){let i=s<.5?s*(1+t):s+t-s*t,o=2*s-i;r=sG(o,i,e+1/3),n=sG(o,i,e),a=sG(o,i,e-1/3)}else r=n=a=s;return{red:Math.round(255*r),green:Math.round(255*n),blue:Math.round(255*a),alpha:i}}(s)),s}let s1=(e,t)=>{let s=s0(e),i=s0(t);if(!s||!i)return sX(e,t);let r={...s};return e=>(r.red=sJ(s.red,i.red,e),r.green=sJ(s.green,i.green,e),r.blue=sJ(s.blue,i.blue,e),r.alpha=se(s.alpha,i.alpha,e),K.transform(r))},s2=new Set(["none","hidden"]);function s5(e,t){return s=>se(e,t,s)}function s4(e){return"number"==typeof e?s5:"string"==typeof e?eD(e)?sX:es.test(e)?s1:s8:Array.isArray(e)?s3:"object"==typeof e?es.test(e)?s1:s6:sX}function s3(e,t){let s=[...e],i=s.length,r=e.map((e,s)=>s4(e)(e,t[s]));return e=>{for(let t=0;t<i;t++)s[t]=r[t](e);return s}}function s6(e,t){let s={...e,...t},i={};for(let r in s)void 0!==e[r]&&void 0!==t[r]&&(i[r]=s4(e[r])(e[r],t[r]));return e=>{for(let t in i)s[t]=i[t](e);return s}}let s8=(e,t)=>{let s=ec.createTransformer(t),i=eo(e),r=eo(t);if(!(i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length))return eA(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),sX(e,t);if(s2.has(e)&&!r.values.length||s2.has(t)&&!i.values.length)return s2.has(e)?s=>s<=0?e:t:s=>s>=1?t:e;return sH(s3(function(e,t){let s=[],i={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){let n=t.types[r],a=e.indexes[n][i[n]],o=e.values[a]??0;s[r]=o,i[n]++}return s}(i,r),r.values),s)};function s9(e,t,s){return"number"==typeof e&&"number"==typeof t&&"number"==typeof s?se(e,t,s):s4(e)(e,t)}let s7=e=>{let t=({timestamp:t})=>e(t);return{start:(e=!0)=>e5.update(t,e),stop:()=>e4(t),now:()=>e3.isProcessing?e3.timestamp:tA.now()}};function ie(e){let t=0,s=e.next(t);for(;!s.done&&t<2e4;)t+=50,s=e.next(t);return t>=2e4?1/0:t}function it(e,t,s){var i,r;let n=Math.max(t-5,0);return i=s-e(n),(r=t-n)?1e3/r*i:0}let is=.01,ii=2,ir=.005,ia=.5;function io(e,t){return e*Math.sqrt(1-t*t)}let il=["duration","bounce"],iu=["stiffness","damping","mass"];function id(e,t){return t.some(t=>void 0!==e[t])}function ic(e=.3,t=.3){let s,i="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:r,restDelta:n}=i,a=i.keyframes[0],o=i.keyframes[i.keyframes.length-1],l={done:!1,value:a},{stiffness:u,damping:d,mass:c,duration:h,velocity:p,isResolvedFromDuration:m}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!id(e,iu)&&id(e,il))if(t.velocity=0,e.visualDuration){let s=2*Math.PI/(1.2*e.visualDuration),i=s*s,r=2*V(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:1,stiffness:i,damping:r}}else{let s=function({duration:e=800,bounce:t=.3,velocity:s=0,mass:i=1}){let r,n;eA(e<=tl(10),"Spring duration must be 10 seconds or less","spring-duration-limit");let a=1-t;a=V(.05,1,a),e=V(.01,10,e/1e3),a<1?(r=t=>{let i=t*a,r=i*e;return .001-(i-s)/io(t,a)*Math.exp(-r)},n=t=>{let i=t*a*e,n=Math.pow(a,2)*Math.pow(t,2)*e,o=Math.exp(-i),l=io(Math.pow(t,2),a);return(i*s+s-n)*o*(-r(t)+.001>0?-1:1)/l}):(r=t=>-.001+Math.exp(-t*e)*((t-s)*e+1),n=t=>e*e*(s-t)*Math.exp(-t*e));let o=function(e,t,s){let i=s;for(let s=1;s<12;s++)i-=e(i)/t(i);return i}(r,n,5/e);if(e=tl(e),isNaN(o))return{stiffness:100,damping:10,duration:e};{let t=Math.pow(o,2)*i;return{stiffness:t,damping:2*a*Math.sqrt(i*t),duration:e}}}({...e,velocity:0});(t={...t,...s,mass:1}).isResolvedFromDuration=!0}return t}({...i,velocity:-((i.velocity||0)/1e3)}),f=p||0,g=d/(2*Math.sqrt(u*c)),y=o-a,v=Math.sqrt(u/c)/1e3,b=5>Math.abs(y);if(r||(r=b?is:ii),n||(n=b?ir:ia),g<1){let e=io(v,g);s=t=>o-Math.exp(-g*v*t)*((f+g*v*y)/e*Math.sin(e*t)+y*Math.cos(e*t))}else if(1===g)s=e=>o-Math.exp(-v*e)*(y+(f+v*y)*e);else{let e=v*Math.sqrt(g*g-1);s=t=>{let s=Math.exp(-g*v*t),i=Math.min(e*t,300);return o-s*((f+g*v*y)*Math.sinh(i)+e*y*Math.cosh(i))/e}}let x={calculatedDuration:m&&h||null,next:e=>{let t=s(e);if(m)l.done=e>=h;else{let i=0===e?f:0;g<1&&(i=0===e?tl(f):it(s,e,t));let a=Math.abs(o-t)<=n;l.done=Math.abs(i)<=r&&a}return l.value=l.done?o:t,l},toString:()=>{let e=Math.min(ie(x),2e4),t=tk(t=>x.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return x}function ih({keyframes:e,velocity:t=0,power:s=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:n=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:d}){let c,h,p=e[0],m={done:!1,value:p},f=s*t,g=p+f,y=void 0===a?g:a(g);y!==g&&(f=y-p);let v=e=>-f*Math.exp(-e/i),b=e=>y+v(e),x=e=>{let t=v(e),s=b(e);m.done=Math.abs(t)<=u,m.value=m.done?y:s},w=e=>{let t;if(t=m.value,void 0!==o&&t<o||void 0!==l&&t>l){var s;c=e,h=ic({keyframes:[m.value,(s=m.value,void 0===o?l:void 0===l||Math.abs(o-s)<Math.abs(l-s)?o:l)],velocity:it(b,e,m.value),damping:r,stiffness:n,restDelta:u,restSpeed:d})}};return w(0),{calculatedDuration:null,next:e=>{let t=!1;return(h||void 0!==c||(t=!0,x(e),w(e)),void 0!==c&&e>=c)?h.next(e-c):(t||x(e),m)}}}ic.applyToOptions=e=>{let t=function(e,t=100,s){let i=s({...e,keyframes:[0,t]}),r=Math.min(ie(i),2e4);return{type:"keyframes",ease:e=>i.next(r*e).value/t,duration:r/1e3}}(e,100,ic);return e.ease=t.ease,e.duration=tl(t.duration),e.type="keyframes",e};let ip=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e;function im(e,t,s,i){return e===t&&s===i?eZ:r=>0===r||1===r?r:ip(function(e,t,s,i,r){let n,a,o=0;do(n=ip(a=t+(s-t)/2,i,r)-e)>0?s=a:t=a;while(Math.abs(n)>1e-7&&++o<12)return a}(r,0,1,e,s),t,i)}let ig=im(.42,0,1,1),iy=im(0,0,.58,1),iv=im(.42,0,.58,1),ib=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ix=e=>t=>1-e(1-t),iw=im(.33,1.53,.69,.99),ik=ix(iw),iS=ib(ik),ij=e=>(e*=2)<1?.5*ik(e):.5*(2-Math.pow(2,-10*(e-1))),iE=e=>1-Math.sin(Math.acos(e)),iT=ix(iE),iP=ib(iE),iC={linear:eZ,easeIn:ig,easeInOut:iv,easeOut:iy,circIn:iE,circInOut:iP,circOut:iT,backIn:ik,backInOut:iS,backOut:iw,anticipate:ij},iM=e=>{if(tx(e)){eR(4===e.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");let[t,s,i,r]=e;return im(t,s,i,r)}return"string"==typeof e?(eR(void 0!==iC[e],`Invalid easing type '${e}'`,"invalid-easing-type"),iC[e]):e},iA=(e,t,s)=>{let i=t-e;return 0===i?1:(s-e)/i};function iR({duration:e=300,keyframes:t,times:s,ease:i="easeInOut"}){var r;let n,a=Array.isArray(i)&&"number"!=typeof i[0]?i.map(iM):iM(i),o={done:!1,value:t[0]},l=function(e,t,{clamp:s=!0,ease:i,mixer:r}={}){let n=e.length;if(eR(n===t.length,"Both input and output ranges must be the same length","range-length"),1===n)return()=>t[0];if(2===n&&t[0]===t[1])return()=>t[1];let a=e[0]===e[1];e[0]>e[n-1]&&(e=[...e].reverse(),t=[...t].reverse());let o=function(e,t,s){let i=[],r=s||e0.mix||s9,n=e.length-1;for(let s=0;s<n;s++){let n=r(e[s],e[s+1]);t&&(n=sH(Array.isArray(t)?t[s]||eZ:t,n)),i.push(n)}return i}(t,i,r),l=o.length,u=s=>{if(a&&s<e[0])return t[0];let i=0;if(l>1)for(;i<e.length-2&&!(s<e[i+1]);i++);let r=iA(e[i],e[i+1],s);return o[i](r)};return s?t=>u(V(e[0],e[n-1],t)):u}((r=s&&s.length===t.length?s:(!function(e,t){let s=e[e.length-1];for(let i=1;i<=t;i++){let r=iA(0,t,i);e.push(se(s,1,r))}}(n=[0],t.length-1),n),r.map(t=>t*e)),t,{ease:Array.isArray(a)?a:t.map(()=>a||iv).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(o.value=l(t),o.done=t>=e,o)}}let i_={decay:ih,inertia:ih,tween:iR,keyframes:iR,spring:ic};function iN(e){"string"==typeof e.type&&(e.type=i_[e.type])}let iO=e=>e/100;class iD extends tv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;e&&e.updatedAt!==tA.now()&&this.tick(tA.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},tb.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){let{options:e}=this;iN(e);let{type:t=iR,repeat:s=0,repeatDelay:i=0,repeatType:r,velocity:n=0}=e,{keyframes:a}=e,o=t||iR;o!==iR&&"number"!=typeof a[0]&&(this.mixKeyframes=sH(iO,s9(a[0],a[1])),a=[0,100]);let l=o({...e,keyframes:a});"mirror"===r&&(this.mirroredGenerator=o({...e,keyframes:[...a].reverse(),velocity:-n})),null===l.calculatedDuration&&(l.calculatedDuration=ie(l));let{calculatedDuration:u}=l;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=l}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){let{generator:s,totalDuration:i,mixKeyframes:r,mirroredGenerator:n,resolvedDuration:a,calculatedDuration:o}=this;if(null===this.startTime)return s.next(0);let{delay:l=0,keyframes:u,repeat:d,repeatType:c,repeatDelay:h,type:p,onUpdate:m,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=i);let v=this.currentTime,b=s;if(d){let e=Math.min(this.currentTime,i)/a,t=Math.floor(e),s=e%1;!s&&e>=1&&(s=1),1===s&&t--,(t=Math.min(t,d+1))%2&&("reverse"===c?(s=1-s,h&&(s-=h/a)):"mirror"===c&&(b=n)),v=V(0,1,s)*a}let x=y?{done:!1,value:u[0]}:b.next(v);r&&(x.value=r(x.value));let{done:w}=x;y||null===o||(w=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);let k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return k&&p!==ih&&(x.value=ty(u,this.options,f,this.speed)),m&&m(x.value),k&&this.finish(),x}then(e,t){return this.finished.then(e,t)}get duration(){return this.calculatedDuration/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return this.currentTime/1e3}set time(e){e=tl(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(tA.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=this.currentTime/1e3)}play(){if(this.isStopped)return;let{driver:e=s7,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();let s=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=s):null!==this.holdTime?this.startTime=s-this.holdTime:this.startTime||(this.startTime=t??s),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(tA.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,tb.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}let iV={anticipate:ij,backInOut:iS,circInOut:iP};class iI extends tT{constructor(e){!function(e){"string"==typeof e.ease&&e.ease in iV&&(e.ease=iV[e.ease])}(e),iN(e),super(e),void 0!==e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:s,onComplete:i,element:r,...n}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);let a=new iD({...n,autoplay:!1}),o=Math.max(10,tA.now()-this.startTime),l=V(0,10,o-10);t.setWithVelocity(a.sample(Math.max(0,o-l)).value,a.sample(o).value,l),a.stop()}}let iL=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(ec.test(e)||"0"===e)&&!e.startsWith("url("));function iF(e){e.duration=0,e.type="keyframes"}let iB=new Set(["opacity","clipPath","filter","transform"]),iz=th(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class iU extends tv{constructor({autoplay:e=!0,delay:t=0,type:s="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:n="loop",keyframes:a,name:o,motionValue:l,element:u,...d}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=tA.now();const c={autoplay:e,delay:t,type:s,repeat:i,repeatDelay:r,repeatType:n,name:o,motionValue:l,element:u,...d},h=u?.KeyframeResolver||ti;this.keyframeResolver=new h(a,(e,t,s)=>this.onKeyframesResolved(e,t,c,!s),o,l,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,s,i){this.keyframeResolver=void 0;let{name:r,type:n,velocity:a,delay:o,isHandoff:l,onUpdate:u}=s;this.resolvedAt=tA.now(),!function(e,t,s,i){let r=e[0];if(null===r)return!1;if("display"===t||"visibility"===t)return!0;let n=e[e.length-1],a=iL(r,t),o=iL(n,t);return eA(a===o,`You are trying to animate ${t} from "${r}" to "${n}". "${a?n:r}" is not an animatable value.`,"value-not-animatable"),!!a&&!!o&&(function(e){let t=e[0];if(1===e.length)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}(e)||("spring"===s||tE(s))&&i)}(e,r,n,a)&&((e0.instantAnimations||!o)&&u?.(ty(e,s,t)),e[0]=e[e.length-1],iF(s),s.repeat=0);let d={startTime:i?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...s,keyframes:e},c=!l&&function(e){let{motionValue:t,name:s,repeatDelay:i,repeatType:r,damping:n,type:a}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:o,transformTemplate:l}=t.owner.getProps();return iz()&&s&&iB.has(s)&&("transform"!==s||!l)&&!o&&!i&&"mirror"!==r&&0!==n&&"inertia"!==a}(d),h=d.motionValue?.owner?.current,p=c?new iI({...d,element:h}):new iD(d);p.finished.then(()=>{this.notifyFinished()}).catch(eZ),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),te=!0,ts(),tt(),te=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}let iq={type:"spring",stiffness:500,damping:25,restSpeed:10},i$={type:"keyframes",duration:.8},iQ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iK=e=>null!==e,iW=(e,t,s,i={},r,n)=>a=>{let o=sQ(i,e)||{},l=o.delay||i.delay||0,{elapsed:u=0}=i;u-=tl(l);let d={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:n?void 0:r};!function({when:e,delay:t,delayChildren:s,staggerChildren:i,staggerDirection:r,repeat:n,repeatType:a,repeatDelay:o,from:l,elapsed:u,...d}){return!!Object.keys(d).length}(o)&&Object.assign(d,((e,{keyframes:t})=>t.length>2?i$:D.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:iq:iQ)(e,d)),d.duration&&(d.duration=tl(d.duration)),d.repeatDelay&&(d.repeatDelay=tl(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let c=!1;if(!1!==d.type&&(0!==d.duration||d.repeatDelay)||(iF(d),0===d.delay&&(c=!0)),(e0.instantAnimations||e0.skipAnimations||r?.shouldSkipAnimations)&&(c=!0,iF(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,c&&!n&&void 0!==t.get()){let e=function(e,{repeat:t,repeatType:s="loop"},i){let r=e.filter(iK),n=t&&"loop"!==s&&t%2==1?0:r.length-1;return r[n]}(d.keyframes,o);if(void 0!==e)return void e5.update(()=>{d.onUpdate(e),d.onComplete()})}return o.isSync?new iD(d):new iU(d)};function iY(e,t,{delay:s=0,transitionOverride:i,type:r}={}){let{transition:n,transitionEnd:a,...o}=t,l=e.getDefaultTransition();n=n?s$(n,l):l;let u=n?.reduceMotion;i&&(n=i);let d=[],c=r&&e.animationState&&e.animationState.getState()[r];for(let t in o){let i=e.getValue(t,e.latestValues[t]??null),r=o[t];if(void 0===r||c&&function({protectedKeys:e,needsAnimating:t},s){let i=e.hasOwnProperty(s)&&!0!==t[s];return t[s]=!1,i}(c,t))continue;let a={delay:s,...sQ(n||{},t)},l=i.get();if(void 0!==l&&!i.isAnimating&&!Array.isArray(r)&&r===l&&!a.velocity)continue;let h=!1;if(window.MotionHandoffAnimation){let s=e.props[sL];if(s){let e=window.MotionHandoffAnimation(s,t,e5);null!==e&&(a.startTime=e,h=!0)}}sW(e,t);let p=u??e.shouldReduceMotion;i.start(iW(t,i,r,p&&eT.has(t)?{type:!1}:a,e,h));let m=i.animation;m&&d.push(m)}if(a){let t=()=>e5.update(()=>{a&&function(e,t){let{transitionEnd:s={},transition:i={},...r}=sq(e,t)||{};for(let t in r={...r,...s}){var n;let s=sK(n=r[t])?n[n.length-1]||0:n;e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,t_(s))}}(e,a)});d.length?Promise.all(d).then(t):t()}return d}function iH(e,t,s,i=0,r=1){let n=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),a=e.size,o=(a-1)*i;return"function"==typeof s?s(n,a):1===r?n*i:o-n*i}function iG(e,t,s={}){let i=sq(e,t,"exit"===s.type?e.presenceContext?.custom:void 0),{transition:r=e.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(r=s.transitionOverride);let n=i?()=>Promise.all(iY(e,i,s)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(i=0)=>{let{delayChildren:n=0,staggerChildren:a,staggerDirection:o}=r;return function(e,t,s=0,i=0,r=0,n=1,a){let o=[];for(let l of e.variantChildren)l.notify("AnimationStart",t),o.push(iG(l,t,{...a,delay:s+("function"==typeof i?0:i)+iH(e.variantChildren,l,i,r,n)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,i,n,a,o,s)}:()=>Promise.resolve(),{when:o}=r;if(!o)return Promise.all([n(),a(s.delay)]);{let[e,t]="beforeChildren"===o?[n,a]:[a,n];return e().then(()=>t())}}let iX=tL.length;function iJ(e,t){if(!Array.isArray(t))return!1;let s=t.length;if(s!==e.length)return!1;for(let i=0;i<s;i++)if(t[i]!==e[i])return!1;return!0}let iZ=[...tI].reverse(),i0=tI.length;function i1(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function i2(){return{animate:i1(!0),whileInView:i1(),whileHover:i1(),whileTap:i1(),whileDrag:i1(),whileFocus:i1(),exit:i1()}}let i5=0;function i4(e){return[e("x"),e("y")]}let i3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),i6=new Set(["INPUT","SELECT","TEXTAREA"]);function i8(e,t,s,i={passive:!0}){return e.addEventListener(t,s,i),()=>e.removeEventListener(t,s)}let i9={x:!1,y:!1};function i7(e){return e.max-e.min}function re(e,t,s,i=.5){e.origin=i,e.originPoint=se(t.min,t.max,e.origin),e.scale=i7(s)/i7(t),e.translate=se(s.min,s.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function rt(e,t,s,i){re(e.x,t.x,s.x,i?i.originX:void 0),re(e.y,t.y,s.y,i?i.originY:void 0)}function rs(e,t,s){e.min=s.min+t.min,e.max=e.min+i7(t)}function ri(e,t,s){e.min=t.min-s.min,e.max=e.min+i7(t)}function rr(e,t,s){ri(e.x,t.x,s.x),ri(e.y,t.y,s.y)}function rn(e){return w(e)&&"ownerSVGElement"in e}function ra(e,t,s){if(null==e)return[];if(e instanceof EventTarget)return[e];if("string"==typeof e){let i=document;t&&(i=t.current);let r=s?.[e]??i.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e).filter(e=>null!=e)}let ro=new WeakMap,rl=(e,t,s)=>(i,r)=>r&&r[0]?r[0][e+"Size"]:rn(i)&&"getBBox"in i?i.getBBox()[t]:i[s],ru=rl("inline","width","offsetWidth"),rd=rl("block","height","offsetHeight");function rc({target:e,borderBoxSize:t}){ro.get(e)?.forEach(s=>{s(e,{get width(){return ru(e,t)},get height(){return rd(e,t)}})})}function rh(e){e.forEach(rc)}let rp=new Set;function rm(e,t){let r;return"function"==typeof e?(rp.add(e),i||(i=()=>{let e={get width(){return window.innerWidth},get height(){return window.innerHeight}};rp.forEach(t=>t(e))},window.addEventListener("resize",i)),()=>{rp.delete(e),rp.size||"function"!=typeof i||(window.removeEventListener("resize",i),i=void 0)}):(!s&&"u">typeof ResizeObserver&&(s=new ResizeObserver(rh)),(r=ra(e)).forEach(e=>{let i=ro.get(e);i||(i=new Set,ro.set(e,i)),i.add(t),s?.observe(e)}),()=>{r.forEach(e=>{let i=ro.get(e);i?.delete(t),i?.size||s?.unobserve(e)})})}let rf=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function rg(e){return{point:{x:e.pageX,y:e.pageY}}}function ry(e,t,s,i){return i8(e,t,e=>rf(e)&&s(e,rg(e)),i)}let rv=({current:e})=>e?e.ownerDocument.defaultView:null,rb=(e,t)=>Math.abs(e-t),rx=new Set(["auto","scroll"]);class rw{constructor(e,t,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:r=!1,distanceThreshold:n=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=e=>{this.handleScroll(e.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{var e,t;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let s=rj(this.lastMoveEventInfo,this.history),i=null!==this.startEvent,r=(e=s.offset,t={x:0,y:0},Math.sqrt(rb(e.x,t.x)**2+rb(e.y,t.y)**2)>=this.distanceThreshold);if(!i&&!r)return;let{point:n}=s,{timestamp:a}=e3;this.history.push({...n,timestamp:a});let{onStart:o,onMove:l}=this.handlers;i||(o&&o(this.lastMoveEvent,s),this.startEvent=this.lastMoveEvent),l&&l(this.lastMoveEvent,s)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=rk(t,this.transformPagePoint),e5.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:s,onSessionEnd:i,resumeAnimation:r}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&r&&r(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let n=rj("pointercancel"===e.type?this.lastMoveEventInfo:rk(t,this.transformPagePoint),this.history);this.startEvent&&s&&s(e,n),i&&i(e,n)},!rf(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=s,this.distanceThreshold=n,this.contextWindow=i||window;const o=rk(rg(e),this.transformPagePoint),{point:l}=o,{timestamp:u}=e3;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=t;d&&d(e,rj(o,this.history)),this.removeListeners=sH(ry(this.contextWindow,"pointermove",this.handlePointerMove),ry(this.contextWindow,"pointerup",this.handlePointerUp),ry(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(e){let t=e.parentElement;for(;t;){let e=getComputedStyle(t);(rx.has(e.overflowX)||rx.has(e.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){let t=this.scrollPositions.get(e);if(!t)return;let s=e===window,i=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},r={x:i.x-t.x,y:i.y-t.y};(0!==r.x||0!==r.y)&&(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=r.x,this.lastMoveEventInfo.point.y+=r.y):this.history.length>0&&(this.history[0].x-=r.x,this.history[0].y-=r.y),this.scrollPositions.set(e,i),e5.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),e4(this.updatePoint)}}function rk(e,t){return t?{point:t(e.point)}:e}function rS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function rj({point:e},t){return{point:e,delta:rS(e,rE(t)),offset:rS(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,i=null,r=rE(e);for(;s>=0&&(i=e[s],!(r.timestamp-i.timestamp>tl(.1)));)s--;if(!i)return{x:0,y:0};i===e[0]&&e.length>2&&r.timestamp-i.timestamp>2*tl(.1)&&(i=e[1]);let n=(r.timestamp-i.timestamp)/1e3;if(0===n)return{x:0,y:0};let a={x:(r.x-i.x)/n,y:(r.y-i.y)/n};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}(t,.1)}}function rE(e){return e[e.length-1]}function rT(e,t,s){return{min:void 0!==t?e.min+t:void 0,max:void 0!==s?e.max+s-(e.max-e.min):void 0}}function rP(e,t){let s=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,i]=[i,s]),{min:s,max:i}}function rC(e,t,s){return{min:rM(e,t),max:rM(e,s)}}function rM(e,t){return"number"==typeof e?e:e[t]||0}let rA=new WeakMap;class rR{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ej(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:s}={}){let{presenceContext:i}=this.visualElement;if(i&&!1===i.isPresent)return;let r=e=>{t&&this.snapToCursor(rg(e).point),this.stopAnimation()},n=(e,t)=>{let{drag:s,dragPropagation:i,onDragStart:r}=this.getProps();if(s&&!i&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(e){if("x"===e||"y"===e)if(i9[e])return null;else return i9[e]=!0,()=>{i9[e]=!1};return i9.x||i9.y?null:(i9.x=i9.y=!0,()=>{i9.x=i9.y=!1})}(s),!this.openDragLock))return;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),i4(e=>{let t=this.getAxisMotionValue(e).get()||0;if(G.test(t)){let{projection:s}=this.visualElement;if(s&&s.layout){let i=s.layout.layoutBox[e];i&&(t=i7(i)*(parseFloat(t)/100))}}this.originPoint[e]=t}),r&&e5.update(()=>r(e,t),!1,!0),sW(this.visualElement,"transform");let{animationState:n}=this.visualElement;n&&n.setActive("whileDrag",!0)},a=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;let{dragPropagation:s,dragDirectionLock:i,onDirectionLock:r,onDrag:n}=this.getProps();if(!s&&!this.openDragLock)return;let{offset:a}=t;if(i&&null===this.currentDirection){this.currentDirection=function(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}(a),null!==this.currentDirection&&r&&r(this.currentDirection);return}this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),n&&e5.update(()=>n(e,t),!1,!0)},o=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>{let{dragSnapToOrigin:e}=this.getProps();(e||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:u}=this.getProps();this.panSession=new rw(e,{onSessionStart:r,onStart:n,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:s,contextWindow:rv(this.visualElement),element:this.visualElement.current})}stop(e,t){let s=e||this.latestPointerEvent,i=t||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!i||!s)return;let{velocity:n}=i;this.startAnimation(n);let{onDragEnd:a}=this.getProps();a&&e5.postRender(()=>a(s,i))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();let{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,s){let{drag:i}=this.getProps();if(!s||!rN(e,i,this.currentDirection))return;let r=this.getAxisMotionValue(e),n=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(n=function(e,{min:t,max:s},i){return void 0!==t&&e<t?e=i?se(t,e,i.min):Math.max(e,t):void 0!==s&&e>s&&(e=i?se(s,e,i.max):Math.min(e,s)),e}(n,this.constraints[e],this.elastic[e])),r.set(n)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&sB(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=function(e,{top:t,left:s,bottom:i,right:r}){return{x:rT(e.x,s,r),y:rT(e.y,t,i)}}(s.layoutBox,e):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:rC(e,"left","right"),y:rC(e,"top","bottom")}}(t),i!==this.constraints&&!sB(e)&&s&&this.constraints&&!this.hasMutatedConstraints&&i4(e=>{var t,i;let r;!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=(t=s.layoutBox[e],i=this.constraints[e],r={},void 0!==i.min&&(r.min=i.min-t.min),void 0!==i.max&&(r.max=i.max-t.min),r))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!sB(t))return!1;let i=t.current;eR(null!==i,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");let{projection:r}=this.visualElement;if(!r||!r.layout)return!1;let n=function(e,t,s){let i=sy(e,s),{scroll:r}=t;return r&&(sm(i.x,r.offset.x),sm(i.y,r.offset.y)),i}(i,r.root,this.visualElement.getTransformPagePoint()),a=(e=r.layout.layoutBox,{x:rP(e.x,n.x),y:rP(e.y,n.y)});if(s){let e=s(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=sa(e))}return a}startAnimation(e){let{drag:t,dragMomentum:s,dragElastic:i,dragTransition:r,dragSnapToOrigin:n,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{};return Promise.all(i4(a=>{if(!rN(a,t,this.currentDirection))return;let l=o&&o[a]||{};n&&(l={min:0,max:0});let u={type:"inertia",velocity:s?e[a]:0,bounceStiffness:i?200:1e6,bounceDamping:i?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...r,...l};return this.startAxisValueAnimation(a,u)})).then(a)}startAxisValueAnimation(e,t){let s=this.getAxisMotionValue(e);return sW(this.visualElement,e),s.start(iW(e,s,0,t,this.visualElement,!1))}stopAnimation(){i4(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps();return s[t]||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){i4(t=>{let{drag:s}=this.getProps();if(!rN(t,s,this.currentDirection))return;let{projection:i}=this.visualElement,r=this.getAxisMotionValue(t);if(i&&i.layout){let{min:s,max:n}=i.layout.layoutBox[t],a=r.get()||0;r.set(e[t]-se(s,n,.5)+a)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!sB(t)||!s||!this.constraints)return;this.stopAnimation();let i={x:0,y:0};i4(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){var s,r;let n,a,o,l=t.get();i[e]=(s={min:l,max:l},r=this.constraints[e],n=.5,a=i7(s),(o=i7(r))>a?n=iA(r.min,r.max-a,s.min):a>o&&(n=iA(s.min,s.max-o,r.min)),V(0,1,n))}});let{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),i4(t=>{if(!rN(t,e,null))return;let s=this.getAxisMotionValue(t),{min:r,max:n}=this.constraints[t];s.set(se(r,n,i[t]))}),this.visualElement.render()}addListeners(){let e;if(!this.visualElement.current)return;rA.set(this.visualElement,this);let t=this.visualElement.current,s=ry(t,"pointerdown",e=>{let{drag:s,dragListener:i=!0}=this.getProps(),r=e.target,n=r!==t&&(i6.has(r.tagName)||!0===r.isContentEditable);s&&i&&!n&&this.start(e)}),i=()=>{var s,i,r;let n,a,{dragConstraints:o}=this.getProps();sB(o)&&o.current&&(this.constraints=this.resolveRefConstraints(),e||(s=t,i=o.current,n=rm(s,r_(r=()=>this.scalePositionWithinConstraints())),a=rm(i,r_(r)),e=()=>{n(),a()}))},{projection:r}=this.visualElement,n=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),e5.read(i);let a=i8(window,"resize",()=>this.scalePositionWithinConstraints()),o=r.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(i4(t=>{let s=this.getAxisMotionValue(t);s&&(this.originPoint[t]+=e[t].translate,s.set(s.get()+e[t].translate))}),this.visualElement.render())});return()=>{a(),s(),n(),o&&o(),e&&e()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:n=.35,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:i,dragConstraints:r,dragElastic:n,dragMomentum:a}}}function r_(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function rN(e,t,s){return(!0===t||t===e)&&(null===s||s===e)}let rO=e=>(t,s)=>{e&&e5.update(()=>e(t,s),!1,!0)},rD={hasAnimatedSinceResize:!0,hasEverUpdated:!1};var rV=m;let rI=!1;class rL extends rV.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:i}=this.props,{projection:r}=e;r&&(t.group&&t.group.add(r),s&&s.register&&i&&s.register(r),rI&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),rD.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:s,drag:i,isPresent:r}=this.props,{projection:n}=s;return n&&(n.isPresent=r,e.layoutDependency!==t&&n.setOptions({...n.options,layoutDependency:t}),rI=!0,i||e.layoutDependency!==t||void 0===t||e.isPresent!==r?n.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?n.promote():n.relegate()||e5.postRender(()=>{let e=n.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),tC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:i}=e;rI=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rF(e){let[t,s]=A(),i=(0,rV.useContext)(g);return(0,p.jsx)(rL,{...e,layoutGroup:i,switchLayoutGroup:(0,rV.useContext)(sF),isPresent:t,safeToRemove:s})}let rB=["TopLeft","TopRight","BottomLeft","BottomRight"],rz=rB.length,rU=e=>"string"==typeof e?parseFloat(e):e,rq=e=>"number"==typeof e||X.test(e);function r$(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let rQ=rW(0,.5,iT),rK=rW(.5,.95,eZ);function rW(e,t,s){return i=>i<e?0:i>t?1:s(iA(e,t,i))}function rY(e,t){e.min=t.min,e.max=t.max}function rH(e,t){rY(e.x,t.x),rY(e.y,t.y)}function rG(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function rX(e,t,s,i,r){return e-=t,e=i+1/s*(e-i),void 0!==r&&(e=i+1/r*(e-i)),e}function rJ(e,t,[s,i,r],n,a){!function(e,t=0,s=1,i=.5,r,n=e,a=e){if(G.test(t)&&(t=parseFloat(t),t=se(a.min,a.max,t/100)-a.min),"number"!=typeof t)return;let o=se(n.min,n.max,i);e===n&&(o-=t),e.min=rX(e.min,t,s,o,r),e.max=rX(e.max,t,s,o,r)}(e,t[s],t[i],t[r],t.scale,n,a)}let rZ=["x","scaleX","originX"],r0=["y","scaleY","originY"];function r1(e,t,s,i){rJ(e.x,t,rZ,s?s.x:void 0,i?i.x:void 0),rJ(e.y,t,r0,s?s.y:void 0,i?i.y:void 0)}function r2(e){return 0===e.translate&&1===e.scale}function r5(e){return r2(e.x)&&r2(e.y)}function r4(e,t){return e.min===t.min&&e.max===t.max}function r3(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function r6(e,t){return r3(e.x,t.x)&&r3(e.y,t.y)}function r8(e){return i7(e.x)/i7(e.y)}function r9(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class r7{constructor(){this.members=[]}add(e){tu(this.members,e);for(let t=this.members.length-1;t>=0;t--){let s=this.members[t];if(s===e||s===this.lead||s===this.prevLead)continue;let i=s.instance;i&&!1===i.isConnected&&!1!==s.isPresent&&!s.snapshot&&td(this.members,s)}e.scheduleRender()}remove(e){if(td(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t,s=this.members.findIndex(t=>e===t);if(0===s)return!1;for(let e=s;e>=0;e--){let s=this.members[e],i=s.instance;if(!1!==s.isPresent&&(!i||!1!==i.isConnected)){t=s;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender();let i=s.options.layoutDependency,r=e.options.layoutDependency;if(void 0===i||void 0===r||i!==r){let i=s.instance;!(i&&!1===i.isConnected&&!s.snapshot)&&(e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}let{crossfade:n}=e.options;!1===n&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let ne=(e,t)=>e.depth-t.depth;class nt{constructor(){this.children=[],this.isDirty=!1}add(e){tu(this.children,e),this.isDirty=!0}remove(e){td(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ne),this.isDirty=!1,this.children.forEach(e)}}let ns=["","X","Y","Z"],ni=0;function nr(e,t,s,i){let{latestValues:r}=t;r[e]&&(s[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function nn({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(e={},s=t?.()){this.id=ni++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(nl),this.nodes.forEach(nf),this.nodes.forEach(ng),this.nodes.forEach(nu)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new nt)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new tc),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let s=this.eventHandlers.get(e);s&&s.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=rn(t)&&!(rn(t)&&"svg"===t.tagName),this.instance=t;let{layoutId:s,layout:i,visualElement:r}=this.options;if(r&&!r.current&&r.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||s)&&(this.isLayoutDirty=!0),e){let s,i=0,r=()=>this.root.updateBlockedByResize=!1;e5.read(()=>{i=window.innerWidth}),e(t,()=>{let e=window.innerWidth;if(e!==i){let t,n;i=e,this.root.updateBlockedByResize=!0,s&&s(),t=tA.now(),n=({timestamp:e})=>{let s=e-t;s>=250&&(e4(n),r(s-250))},e5.setup(n,!0),s=()=>e4(n),rD.hasAnimatedSinceResize&&(rD.hasAnimatedSinceResize=!1,this.nodes.forEach(nm))}})}s&&this.root.registerSharedNode(s,this),!1!==this.options.animate&&r&&(s||i)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:s,layout:i})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let n=this.options.transition||r.getDefaultTransition()||nk,{onLayoutAnimationStart:a,onLayoutAnimationComplete:o}=r.getProps(),l=!this.targetLayout||!r6(this.targetLayout,i),u=!t&&s;if(this.options.layoutRoot||this.resumeFrom||u||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let t={...sQ(n,"layout"),onPlay:a,onComplete:o};(r.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,u)}else t||nm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),e4(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ny),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:s}=t.options;if(!s)return;let i=s.props[sL];if(window.MotionHasOptimisedAnimation(i,"transform")){let{layout:e,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",e5,!(e||s))}let{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&e(r)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:s}=this.options;if(void 0===t&&!s)return;let i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nc);return}if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(nh);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(np),this.nodes.forEach(na),this.nodes.forEach(no)):this.nodes.forEach(nh),this.clearAllSnapshots();let e=tA.now();e3.delta=V(0,1e3/60,e-e3.timestamp),e3.timestamp=e,e3.isProcessing=!0,e6.update.process(e3),e6.preRender.process(e3),e6.render.process(e3),e3.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nd),this.sharedNodes.forEach(nv)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,e5.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){e5.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||i7(this.snapshot.measuredBox.x)||i7(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ej(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!r)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!r5(this.projectionDelta),s=this.getTransformTemplate(),i=s?s(this.latestValues,""):void 0,n=i!==this.prevTransformTemplateValue;e&&this.instance&&(t||su(this.latestValues)||n)&&(r(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let s=this.measurePageBox(),i=this.removeElementScroll(s);return e&&(i=this.removeTransform(i)),nE((t=i).x),nE(t.y),{animationId:this.root.animationId,measuredBox:s,layoutBox:i,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return ej();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(nP))){let{scroll:e}=this.root;e&&(sm(t.x,e.offset.x),sm(t.y,e.offset.y))}return t}removeElementScroll(e){let t=ej();if(rH(t,e),this.scroll?.wasRoot)return t;for(let s=0;s<this.path.length;s++){let i=this.path[s],{scroll:r,options:n}=i;i!==this.root&&r&&n.layoutScroll&&(r.wasRoot&&rH(t,e),sm(t.x,r.offset.x),sm(t.y,r.offset.y))}return t}applyTransform(e,t=!1){let s=ej();rH(s,e);for(let e=0;e<this.path.length;e++){let i=this.path[e];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&sg(s,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),su(i.latestValues)&&sg(s,i.latestValues)}return su(this.latestValues)&&sg(s,this.latestValues),s}removeTransform(e){let t=ej();rH(t,e);for(let e=0;e<this.path.length;e++){let s=this.path[e];if(!s.instance||!su(s.latestValues))continue;sl(s.latestValues)&&s.updateSnapshot();let i=ej();rH(i,s.measurePageBox()),r1(t,s.latestValues,s.snapshot?s.snapshot.layoutBox:void 0,i)}return su(this.latestValues)&&r1(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==e3.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);let s=!!this.resumingFrom||this!==t;if(!(e||s&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:i,layoutId:r}=this.options;if(!this.layout||!(i||r))return;this.resolvedRelativeTargetAt=e3.timestamp;let n=this.getClosestProjectingParent();if(n&&this.linkedParentVersion!==n.layoutVersion&&!n.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(n&&n.layout?this.createRelativeTarget(n,this.layout.layoutBox,n.layout.layoutBox):this.removeRelativeTarget()),this.relativeTarget||this.targetDelta){if(this.target||(this.target=ej(),this.targetWithTransforms=ej()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target){var a,o,l;this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,rs(a.x,o.x,l.x),rs(a.y,o.y,l.y)}else this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rH(this.target,this.layout.layoutBox),sp(this.target,this.targetDelta)):rH(this.target,this.layout.layoutBox);this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,n&&!!n.resumingFrom==!!this.resumingFrom&&!n.options.layoutScroll&&n.target&&1!==this.animationProgress?this.createRelativeTarget(n,this.target,n.target):this.relativeParent=this.relativeTarget=void 0)}}getClosestProjectingParent(){if(!(!this.parent||sl(this.parent.latestValues)||sd(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(e,t,s){this.relativeParent=e,this.linkedParentVersion=e.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ej(),this.relativeTargetOrigin=ej(),rr(this.relativeTargetOrigin,t,s),rH(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,s=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(s=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(s=!1),this.resolvedRelativeTargetAt===e3.timestamp&&(s=!1),s)return;let{layout:i,layoutId:r}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(i||r))return;rH(this.layoutCorrected,this.layout.layoutBox);let n=this.treeScale.x,a=this.treeScale.y;!function(e,t,s,i=!1){let r,n,a=s.length;if(a){t.x=t.y=1;for(let o=0;o<a;o++){n=(r=s[o]).projectionDelta;let{visualElement:a}=r.options;(!a||!a.props.style||"contents"!==a.props.style.display)&&(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&sg(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),n&&(t.x*=n.x.scale,t.y*=n.y.scale,sp(e,n)),i&&su(r.latestValues)&&sg(e,r.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}}(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=ej());let{target:o}=e;if(!o){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(rG(this.prevProjectionDelta.x,this.projectionDelta.x),rG(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),rt(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===n&&this.treeScale.y===a&&r9(this.projectionDelta.x,this.prevProjectionDelta.x)&&r9(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ek(),this.projectionDelta=ek(),this.projectionDeltaWithTransform=ek()}setAnimationOrigin(e,t=!1){let s,i=this.snapshot,r=i?i.latestValues:{},n={...this.latestValues},a=ek();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=ej(),l=(i?i.source:void 0)!==(this.layout?this.layout.source:void 0),u=this.getStack(),d=!u||u.members.length<=1,c=!!(l&&!d&&!0===this.options.crossfade&&!this.path.some(nw));this.animationProgress=0,this.mixTargetDelta=t=>{let i=t/1e3;if(nb(a.x,e.x,i),nb(a.y,e.y,i),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var u,h,p,m,f,g;rr(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,m=this.relativeTargetOrigin,f=o,g=i,nx(p.x,m.x,f.x,g),nx(p.y,m.y,f.y,g),s&&(u=this.relativeTarget,h=s,r4(u.x,h.x)&&r4(u.y,h.y))&&(this.isProjectionDirty=!1),s||(s=ej()),rH(s,this.relativeTarget)}l&&(this.animationValues=n,function(e,t,s,i,r,n){r?(e.opacity=se(0,s.opacity??1,rQ(i)),e.opacityExit=se(t.opacity??1,0,rK(i))):n&&(e.opacity=se(t.opacity??1,s.opacity??1,i));for(let r=0;r<rz;r++){let n=`border${rB[r]}Radius`,a=r$(t,n),o=r$(s,n);(void 0!==a||void 0!==o)&&(a||(a=0),o||(o=0),0===a||0===o||rq(a)===rq(o)?(e[n]=Math.max(se(rU(a),rU(o),i),0),(G.test(o)||G.test(a))&&(e[n]+="%")):e[n]=o)}(t.rotate||s.rotate)&&(e.rotate=se(t.rotate||0,s.rotate||0,i))}(n,r,this.latestValues,i,c,d)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=i},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(e4(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=e5.update(()=>{var t,s,i;let r;rD.hasAnimatedSinceResize=!0,tb.layout++,this.motionValue||(this.motionValue=t_(0)),this.motionValue.jump(0,!1),this.currentAnimation=(t=this.motionValue,s=[0,1e3],i={...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{tb.layout--},onComplete:()=>{tb.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}},(r=eE(t)?t:t_(t)).start(iW("",r,s,i)),r.animation),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:s,layout:i,latestValues:r}=e;if(t&&s&&i){if(this!==e&&this.layout&&i&&nT(this.options.animationType,this.layout.layoutBox,i.layoutBox)){s=this.target||ej();let t=i7(this.layout.layoutBox.x);s.x.min=e.target.x.min,s.x.max=s.x.min+t;let i=i7(this.layout.layoutBox.y);s.y.min=e.target.y.min,s.y.max=s.y.min+i}rH(t,s),sg(t,r),rt(this.projectionDeltaWithTransform,this.layoutCorrected,t,r)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new r7),this.sharedNodes.get(e).add(t);let s=t.options.initialPromotionConfig;t.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:s}={}){let i=this.getStack();i&&i.promote(this,s),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:s}=e;if((s.z||s.rotate||s.rotateX||s.rotateY||s.rotateZ||s.skewX||s.skewY)&&(t=!0),!t)return;let i={};s.z&&nr("z",e,i,this.animationValues);for(let t=0;t<ns.length;t++)nr(`rotate${ns[t]}`,e,i,this.animationValues),nr(`skew${ns[t]}`,e,i,this.animationValues);for(let t in e.render(),i)e.setStaticValue(t,i[t]),this.animationValues&&(this.animationValues[t]=i[t]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible){e.visibility="hidden";return}let s=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=sA(t?.pointerEvents)||"",e.transform=s?s(this.latestValues,""):"none";return}let i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target){this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=sA(t?.pointerEvents)||""),this.hasProjected&&!su(this.latestValues)&&(e.transform=s?s({},""):"none",this.hasProjected=!1);return}e.visibility="";let r=i.animationValues||i.latestValues;this.applyTransformsToTarget();let n=function(e,t,s){let i="",r=e.x.translate/t.x,n=e.y.translate/t.y,a=s?.z||0;if((r||n||a)&&(i=`translate3d(${r}px, ${n}px, ${a}px) `),(1!==t.x||1!==t.y)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),s){let{transformPerspective:e,rotate:t,rotateX:r,rotateY:n,skewX:a,skewY:o}=s;e&&(i=`perspective(${e}px) ${i}`),t&&(i+=`rotate(${t}deg) `),r&&(i+=`rotateX(${r}deg) `),n&&(i+=`rotateY(${n}deg) `),a&&(i+=`skewX(${a}deg) `),o&&(i+=`skewY(${o}deg) `)}let o=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==o||1!==l)&&(i+=`scale(${o}, ${l})`),i||"none"}(this.projectionDeltaWithTransform,this.treeScale,r);s&&(n=s(r,n)),e.transform=n;let{x:a,y:o}=this.projectionDelta;for(let t in e.transformOrigin=`${100*a.origin}% ${100*o.origin}% 0`,i.animationValues?e.opacity=i===this?r.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:r.opacityExit:e.opacity=i===this?void 0!==r.opacity?r.opacity:"":void 0!==r.opacityExit?r.opacityExit:0,st){if(void 0===r[t])continue;let{correct:s,applyTo:a,isCSSVariable:o}=st[t],l="none"===n?r[t]:s(r[t],i);if(a){let t=a.length;for(let s=0;s<t;s++)e[a[s]]=l}else o?this.options.visualElement.renderState.vars[t]=l:e[t]=l}this.options.layoutId&&(e.pointerEvents=i===this?sA(t?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(nc),this.root.sharedNodes.clear()}}}function na(e){e.updateLayout()}function no(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){let{layoutBox:s,measuredBox:i}=e.layout,{animationType:r}=e.options,n=t.source!==e.layout.source;"size"===r?i4(e=>{let i=n?t.measuredBox[e]:t.layoutBox[e],r=i7(i);i.min=s[e].min,i.max=i.min+r}):nT(r,t.layoutBox,s)&&i4(i=>{let r=n?t.measuredBox[i]:t.layoutBox[i],a=i7(s[i]);r.max=r.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[i].max=e.relativeTarget[i].min+a)});let a=ek();rt(a,s,t.layoutBox);let o=ek();n?rt(o,e.applyTransform(i,!0),t.measuredBox):rt(o,s,t.layoutBox);let l=!r5(a),u=!1;if(!e.resumeFrom){let i=e.getClosestProjectingParent();if(i&&!i.resumeFrom){let{snapshot:r,layout:n}=i;if(r&&n){let a=ej();rr(a,t.layoutBox,r.layoutBox);let o=ej();rr(o,s,n.layoutBox),r6(a,o)||(u=!0),i.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=i)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function nl(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function nu(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function nd(e){e.clearSnapshot()}function nc(e){e.clearMeasurements()}function nh(e){e.isLayoutDirty=!1}function np(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function nm(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function nf(e){e.resolveTargetDelta()}function ng(e){e.calcProjection()}function ny(e){e.resetSkewAndRotation()}function nv(e){e.removeLeadSnapshot()}function nb(e,t,s){e.translate=se(t.translate,0,s),e.scale=se(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function nx(e,t,s,i){e.min=se(t.min,s.min,i),e.max=se(t.max,s.max,i)}function nw(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let nk={duration:.45,ease:[.4,0,.1,1]},nS=e=>"u">typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),nj=nS("applewebkit/")&&!nS("chrome/")?Math.round:eZ;function nE(e){e.min=nj(e.min),e.max=nj(e.max)}function nT(e,t,s){return"position"===e||"preserve-aspect"===e&&!(.2>=Math.abs(r8(t)-r8(s)))}function nP(e){return e!==e.root&&e.scroll?.wasRoot}let nC=nn({attachResizeListener:(e,t)=>i8(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),nM={current:void 0},nA=nn({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!nM.current){let e=new nC({});e.mount(window),e.setOptions({layoutScroll:!0}),nM.current=e}return nM.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});function nR(e,t){let s=ra(e),i=new AbortController;return[s,{passive:!0,...t,signal:i.signal},()=>i.abort()]}function n_(e,t,s){let{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover","Start"===s);let r=i["onHover"+s];r&&e5.postRender(()=>r(t,rg(t)))}let nN=(e,t)=>!!t&&(e===t||nN(e,t.parentElement)),nO=new WeakSet;function nD(e){return t=>{"Enter"===t.key&&e(t)}}function nV(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function nI(e){return rf(e)&&!(i9.x||i9.y)}let nL=new WeakSet;function nF(e,t,s){let{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap","Start"===s);let r=i["onTap"+("End"===s?"":s)];r&&e5.postRender(()=>r(t,rg(t)))}let nB=new WeakMap,nz=new WeakMap,nU=e=>{let t=nB.get(e.target);t&&t(e)},nq=e=>{e.forEach(nU)},n$={some:0,all:1},nQ=function(e,t){if("u"<typeof Proxy)return sz;let s=new Map,i=(s,i)=>sz(s,i,e,t);return new Proxy((e,t)=>i(e,t),{get:(r,n)=>"create"===n?i:(s.has(n)||s.set(n,sz(n,void 0,e,t)),s.get(n))})}({animation:{Feature:class extends sU{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:s})=>(function(e,t,s={}){let i;if(e.notify("AnimationStart",t),Array.isArray(t))i=Promise.all(t.map(t=>iG(e,t,s)));else if("string"==typeof t)i=iG(e,t,s);else{let r="function"==typeof t?sq(e,t,s.custom):t;i=Promise.all(iY(e,r,s))}return i.then(()=>{e.notify("AnimationComplete",t)})})(e,t,s))),s=i2(),i=!0,r=t=>(s,i)=>{let r=sq(e,i,"exit"===t?e.presenceContext?.custom:void 0);if(r){let{transition:e,transitionEnd:t,...i}=r;s={...s,...i,...t}}return s};function n(n){let{props:a}=e,o=function e(t){if(!t)return;if(!t.isControllingVariants){let s=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(s.initial=t.props.initial),s}let s={};for(let e=0;e<iX;e++){let i=tL[e],r=t.props[i];(tV(r)||!1===r)&&(s[i]=r)}return s}(e.parent)||{},l=[],u=new Set,d={},c=1/0;for(let t=0;t<i0;t++){var h,p;let m=iZ[t],f=s[m],g=void 0!==a[m]?a[m]:o[m],y=tV(g),v=m===n?f.isActive:null;!1===v&&(c=t);let b=g===o[m]&&g!==a[m]&&y;if(b&&i&&e.manuallyAnimateOnMount&&(b=!1),f.protectedKeys={...d},!f.isActive&&null===v||!g&&!f.prevProp||tD(g)||"boolean"==typeof g)continue;if("exit"===m&&f.isActive&&!0!==v){f.prevResolvedValues&&(d={...d,...f.prevResolvedValues});continue}let x=(h=f.prevProp,"string"==typeof(p=g)?p!==h:!!Array.isArray(p)&&!iJ(p,h)),w=x||m===n&&f.isActive&&!b&&y||t>c&&y,k=!1,S=Array.isArray(g)?g:[g],j=S.reduce(r(m),{});!1===v&&(j={});let{prevResolvedValues:E={}}=f,T={...E,...j},P=t=>{w=!0,u.has(t)&&(k=!0,u.delete(t)),f.needsAnimating[t]=!0;let s=e.getValue(t);s&&(s.liveStyle=!1)};for(let e in T){let t=j[e],s=E[e];if(!d.hasOwnProperty(e))(sK(t)&&sK(s)?iJ(t,s):t===s)?void 0!==t&&u.has(e)?P(e):f.protectedKeys[e]=!0:null!=t?P(e):u.add(e)}f.prevProp=g,f.prevResolvedValues=j,f.isActive&&(d={...d,...j}),i&&e.blockInitialAnimation&&(w=!1);let C=b&&x,M=!C||k;w&&M&&l.push(...S.map(t=>{let s={type:m};if("string"==typeof t&&i&&!C&&e.manuallyAnimateOnMount&&e.parent){let{parent:i}=e,r=sq(i,t);if(i.enteringChildren&&r){let{delayChildren:t}=r.transition||{};s.delay=iH(i.enteringChildren,e,t)}}return{animation:t,options:s}}))}if(u.size){let t={};if("boolean"!=typeof a.initial){let s=sq(e,Array.isArray(a.initial)?a.initial[0]:a.initial);s&&s.transition&&(t.transition=s.transition)}u.forEach(s=>{let i=e.getBaseTarget(s),r=e.getValue(s);r&&(r.liveStyle=!0),t[s]=i??null}),l.push({animation:t})}let m=!!l.length;return i&&(!1===a.initial||a.initial===a.animate)&&!e.manuallyAnimateOnMount&&(m=!1),i=!1,m?t(l):Promise.resolve()}return{animateChanges:n,setActive:function(t,i){if(s[t].isActive===i)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,i)),s[t].isActive=i;let r=n(t);for(let e in s)s[e].protectedKeys={};return r},setAnimateFunction:function(s){t=s(e)},getState:()=>s,reset:()=>{s=i2()}}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();tD(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends sU{constructor(){super(...arguments),this.id=i5++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;let i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}},inView:{Feature:class extends sU{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){var e;let t;this.unmount();let{viewport:s={}}=this.node.getProps(),{root:i,margin:r,amount:n="some",once:a}=s,o={root:i?i.current:void 0,rootMargin:r,threshold:"number"==typeof n?n:n$[n]},l=e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,a&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:s,onViewportLeave:i}=this.node.getProps(),r=t?s:i;r&&r(e)};return e=this.node.current,t=function({root:e,...t}){let s=e||document;nz.has(s)||nz.set(s,{});let i=nz.get(s),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(nq,{root:e,...t})),i[r]}(o),nB.set(e,l),t.observe(e),()=>{nB.delete(e),t.unobserve(e)}}mount(){this.startObserver()}update(){if("u"<typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends sU{mount(){let{current:e}=this.node;if(!e)return;let{globalTapTarget:t,propagate:s}=this.node.props;this.unmount=function(e,t,s={}){let[i,r,n]=nR(e,s),a=e=>{let i=e.currentTarget;if(!nI(e)||nL.has(e))return;nO.add(i),s.stopPropagation&&nL.add(e);let n=t(i,e),a=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),nO.has(i)&&nO.delete(i),nI(e)&&"function"==typeof n&&n(e,{success:t})},o=e=>{a(e,i===window||i===document||s.useGlobalTarget||nN(i,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",o,r),window.addEventListener("pointercancel",l,r)};return i.forEach(e=>{((s.useGlobalTarget?window:e).addEventListener("pointerdown",a,r),k(e))&&(e.addEventListener("focus",e=>((e,t)=>{let s=e.currentTarget;if(!s)return;let i=nD(()=>{if(nO.has(s))return;nV(s,"down");let e=nD(()=>{nV(s,"up")});s.addEventListener("keyup",e,t),s.addEventListener("blur",()=>nV(s,"cancel"),t)});s.addEventListener("keydown",i,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",i),t)})(e,r)),i3.has(e.tagName)||!0===e.isContentEditable||e.hasAttribute("tabindex")||(e.tabIndex=0))}),n}(e,(e,t)=>(nF(this.node,t,"Start"),(e,{success:t})=>nF(this.node,e,t?"End":"Cancel")),{useGlobalTarget:t,stopPropagation:s?.tap===!1})}unmount(){}}},focus:{Feature:class extends sU{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sH(i8(this.node.current,"focus",()=>this.onFocus()),i8(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends sU{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,s={}){let[i,r,n]=nR(e,s);return i.forEach(e=>{let s,i=!1,n=!1,a=t=>{s&&(s(t),s=void 0),e.removeEventListener("pointerleave",l)},o=e=>{i=!1,window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",o),n&&(n=!1,a(e))},l=e=>{if("touch"!==e.pointerType){if(i){n=!0;return}a(e)}};e.addEventListener("pointerenter",i=>{if("touch"===i.pointerType||i9.x||i9.y)return;n=!1;let a=t(e,i);"function"==typeof a&&(s=a,e.addEventListener("pointerleave",l,r))},r),e.addEventListener("pointerdown",()=>{i=!0,window.addEventListener("pointerup",o,r),window.addEventListener("pointercancel",o,r)},r)}),n}(e,(e,t)=>(n_(this.node,t,"Start"),e=>n_(this.node,e,"End"))))}unmount(){}}},pan:{Feature:class extends sU{constructor(){super(...arguments),this.removePointerDownListener=eZ}onPointerDown(e){this.session=new rw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rv(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:rO(e),onStart:rO(t),onMove:rO(s),onEnd:(e,t)=>{delete this.session,i&&e5.postRender(()=>i(e,t))}}}mount(){this.removePointerDownListener=ry(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends sU{constructor(e){super(e),this.removeGroupControls=eZ,this.removeListeners=eZ,this.controls=new rR(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||eZ}update(){let{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}},ProjectionNode:nA,MeasureLayout:rF},layout:{ProjectionNode:nA,MeasureLayout:rF}},(e,t)=>t.isSVG??sx(e)?new sn(t):new sv(t,{allowProjection:e!==m.Fragment}));var nK=e.i(39087),nW=e.i(93184),nY=e.i(19184),nH=e.i(70154),nG=class extends nY.Subscribable{#d;#y=void 0;#v;#b;constructor(e,t){super(),this.#d=e,this.setOptions(t),this.bindMethods(),this.#x()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#d.defaultMutationOptions(e),(0,nH.shallowEqualObjects)(this.options,t)||this.#d.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#v,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,nH.hashKey)(t.mutationKey)!==(0,nH.hashKey)(this.options.mutationKey)?this.reset():this.#v?.state.status==="pending"&&this.#v.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#v?.removeObserver(this)}onMutationUpdate(e){this.#x(),this.#w(e)}getCurrentResult(){return this.#y}reset(){this.#v?.removeObserver(this),this.#v=void 0,this.#x(),this.#w()}mutate(e,t){return this.#b=t,this.#v?.removeObserver(this),this.#v=this.#d.getMutationCache().build(this.#d,this.options),this.#v.addObserver(this),this.#v.execute(e)}#x(){let e=this.#v?.state??(0,nK.getDefaultState)();this.#y={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#w(e){nW.notifyManager.batch(()=>{if(this.#b&&this.hasListeners()){let t=this.#y.variables,s=this.#y.context,i={client:this.#d,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#b.onSuccess?.(e.data,t,s,i)}catch(e){Promise.reject(e)}try{this.#b.onSettled?.(e.data,null,t,s,i)}catch(e){Promise.reject(e)}}else if(e?.type==="error"){try{this.#b.onError?.(e.error,t,s,i)}catch(e){Promise.reject(e)}try{this.#b.onSettled?.(void 0,e.error,t,s,i)}catch(e){Promise.reject(e)}}}this.listeners.forEach(e=>{e(this.#y)})})}},nX=e.i(89101);function nJ(e,t){let s=(0,nX.useQueryClient)(t),[i]=m.useState(()=>new nG(s,e));m.useEffect(()=>{i.setOptions(e)},[i,e]);let r=m.useSyncExternalStore(m.useCallback(e=>i.subscribe(nW.notifyManager.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),n=m.useCallback((e,t)=>{i.mutate(e,t).catch(nH.noop)},[i]);if(r.error&&(0,nH.shouldThrowError)(i.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:n,mutateAsync:r.mutate}}var nZ=e.i(31305),n0=e.i(44243),n1=nY,n2=e.i(10197),n5=e.i(96143),n4=class extends n1.Subscribable{constructor(e,t){super(),this.options=t,this.#d=e,this.#k=null,this.#S=(0,n2.pendingThenable)(),this.bindMethods(),this.setOptions(t)}#d;#j=void 0;#E=void 0;#y=void 0;#T;#P;#S;#k;#C;#M;#A;#R;#_;#N;#O=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#j.addObserver(this),n3(this.#j,this.options)?this.#D():this.updateResult(),this.#V())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return n6(this.#j,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return n6(this.#j,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#I(),this.#L(),this.#j.removeObserver(this)}setOptions(e){let t=this.options,s=this.#j;if(this.options=this.#d.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,nH.resolveEnabled)(this.options.enabled,this.#j))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#F(),this.#j.setOptions(this.options),t._defaulted&&!(0,nH.shallowEqualObjects)(this.options,t)&&this.#d.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#j,observer:this});let i=this.hasListeners();i&&n8(this.#j,s,this.options,t)&&this.#D(),this.updateResult(),i&&(this.#j!==s||(0,nH.resolveEnabled)(this.options.enabled,this.#j)!==(0,nH.resolveEnabled)(t.enabled,this.#j)||(0,nH.resolveStaleTime)(this.options.staleTime,this.#j)!==(0,nH.resolveStaleTime)(t.staleTime,this.#j))&&this.#B();let r=this.#z();i&&(this.#j!==s||(0,nH.resolveEnabled)(this.options.enabled,this.#j)!==(0,nH.resolveEnabled)(t.enabled,this.#j)||r!==this.#N)&&this.#U(r)}getOptimisticResult(e){var t,s;let i=this.#d.getQueryCache().build(this.#d,e),r=this.createResult(i,e);return t=this,s=r,(0,nH.shallowEqualObjects)(t.getCurrentResult(),s)||(this.#y=r,this.#P=this.options,this.#T=this.#j.state),r}getCurrentResult(){return this.#y}trackResult(e,t){return new Proxy(e,{get:(e,s)=>(this.trackProp(s),t?.(s),"promise"===s&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#S.status||this.#S.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,s))})}trackProp(e){this.#O.add(e)}getCurrentQuery(){return this.#j}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#d.defaultQueryOptions(e),s=this.#d.getQueryCache().build(this.#d,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#D({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#y))}#D(e){this.#F();let t=this.#j.fetch(this.options,e);return e?.throwOnError||(t=t.catch(nH.noop)),t}#B(){this.#I();let e=(0,nH.resolveStaleTime)(this.options.staleTime,this.#j);if(nH.isServer||this.#y.isStale||!(0,nH.isValidTimeout)(e))return;let t=(0,nH.timeUntilStale)(this.#y.dataUpdatedAt,e);this.#R=n5.timeoutManager.setTimeout(()=>{this.#y.isStale||this.updateResult()},t+1)}#z(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#j):this.options.refetchInterval)??!1}#U(e){this.#L(),this.#N=e,!nH.isServer&&!1!==(0,nH.resolveEnabled)(this.options.enabled,this.#j)&&(0,nH.isValidTimeout)(this.#N)&&0!==this.#N&&(this.#_=n5.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||nZ.focusManager.isFocused())&&this.#D()},this.#N))}#V(){this.#B(),this.#U(this.#z())}#I(){this.#R&&(n5.timeoutManager.clearTimeout(this.#R),this.#R=void 0)}#L(){this.#_&&(n5.timeoutManager.clearInterval(this.#_),this.#_=void 0)}createResult(e,t){let s,i=this.#j,r=this.options,n=this.#y,a=this.#T,o=this.#P,l=e!==i?e.state:this.#E,{state:u}=e,d={...u},c=!1;if(t._optimisticResults){let s=this.hasListeners(),n=!s&&n3(e,t),a=s&&n8(e,i,t,r);(n||a)&&(d={...d,...(0,n0.fetchState)(u.data,e.options)}),"isRestoring"===t._optimisticResults&&(d.fetchStatus="idle")}let{error:h,errorUpdatedAt:p,status:m}=d;s=d.data;let f=!1;if(void 0!==t.placeholderData&&void 0===s&&"pending"===m){let e;n?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(e=n.data,f=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#A?.state.data,this.#A):t.placeholderData,void 0!==e&&(m="success",s=(0,nH.replaceData)(n?.data,e,t),c=!0)}if(t.select&&void 0!==s&&!f)if(n&&s===a?.data&&t.select===this.#C)s=this.#M;else try{this.#C=t.select,s=t.select(s),s=(0,nH.replaceData)(n?.data,s,t),this.#M=s,this.#k=null}catch(e){this.#k=e}this.#k&&(h=this.#k,s=this.#M,p=Date.now(),m="error");let g="fetching"===d.fetchStatus,y="pending"===m,v="error"===m,b=y&&g,x=void 0!==s,w={status:m,fetchStatus:d.fetchStatus,isPending:y,isSuccess:"success"===m,isError:v,isInitialLoading:b,isLoading:b,data:s,dataUpdatedAt:d.dataUpdatedAt,error:h,errorUpdatedAt:p,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:g,isRefetching:g&&!y,isLoadingError:v&&!x,isPaused:"paused"===d.fetchStatus,isPlaceholderData:c,isRefetchError:v&&x,isStale:n9(e,t),refetch:this.refetch,promise:this.#S,isEnabled:!1!==(0,nH.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=void 0!==w.data,s="error"===w.status&&!t,r=e=>{s?e.reject(w.error):t&&e.resolve(w.data)},n=()=>{r(this.#S=w.promise=(0,n2.pendingThenable)())},a=this.#S;switch(a.status){case"pending":e.queryHash===i.queryHash&&r(a);break;case"fulfilled":(s||w.data!==a.value)&&n();break;case"rejected":s&&w.error===a.reason||n()}}return w}updateResult(){let e=this.#y,t=this.createResult(this.#j,this.options);if(this.#T=this.#j.state,this.#P=this.options,void 0!==this.#T.data&&(this.#A=this.#j),(0,nH.shallowEqualObjects)(t,e))return;this.#y=t;let s=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!this.#O.size)return!0;let i=new Set(s??this.#O);return this.options.throwOnError&&i.add("error"),Object.keys(this.#y).some(t=>this.#y[t]!==e[t]&&i.has(t))};this.#w({listeners:s()})}#F(){let e=this.#d.getQueryCache().build(this.#d,this.options);if(e===this.#j)return;let t=this.#j;this.#j=e,this.#E=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#V()}#w(e){nW.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#y)}),this.#d.getQueryCache().notify({query:this.#j,type:"observerResultsUpdated"})})}};function n3(e,t){return!1!==(0,nH.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&n6(e,t,t.refetchOnMount)}function n6(e,t,s){if(!1!==(0,nH.resolveEnabled)(t.enabled,e)&&"static"!==(0,nH.resolveStaleTime)(t.staleTime,e)){let i="function"==typeof s?s(e):s;return"always"===i||!1!==i&&n9(e,t)}return!1}function n8(e,t,s,i){return(e!==t||!1===(0,nH.resolveEnabled)(i.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&n9(e,s)}function n9(e,t){return!1!==(0,nH.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,nH.resolveStaleTime)(t.staleTime,e))}var n7=m.createContext((r=!1,{clearReset:()=>{r=!1},reset:()=>{r=!0},isReset:()=>r})),ae=m.createContext(!1);ae.Provider;var at=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function as(e,t){return function(e,t,s){let i,r=m.useContext(ae),n=m.useContext(n7),a=(0,nX.useQueryClient)(s),o=a.defaultQueryOptions(e);a.getDefaultOptions().queries?._experimental_beforeQuery?.(o);let l=a.getQueryCache().get(o.queryHash);if(o._optimisticResults=r?"isRestoring":"optimistic",o.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=o.staleTime;o.staleTime="function"==typeof t?(...s)=>e(t(...s)):e(t),"number"==typeof o.gcTime&&(o.gcTime=Math.max(o.gcTime,1e3))}i=l?.state.error&&"function"==typeof o.throwOnError?(0,nH.shouldThrowError)(o.throwOnError,[l.state.error,l]):o.throwOnError,(o.suspense||o.experimental_prefetchInRender||i)&&!n.isReset()&&(o.retryOnMount=!1),m.useEffect(()=>{n.clearReset()},[n]);let u=!a.getQueryCache().get(o.queryHash),[d]=m.useState(()=>new t(a,o)),c=d.getOptimisticResult(o),h=!r&&!1!==e.subscribed;if(m.useSyncExternalStore(m.useCallback(e=>{let t=h?d.subscribe(nW.notifyManager.batchCalls(e)):nH.noop;return d.updateResult(),t},[d,h]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),m.useEffect(()=>{d.setOptions(o)},[o,d]),o?.suspense&&c.isPending)throw at(o,d,n);if((({result:e,errorResetBoundary:t,throwOnError:s,query:i,suspense:r})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(r&&void 0===e.data||(0,nH.shouldThrowError)(s,[e.error,i])))({result:c,errorResetBoundary:n,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw c.error;if(a.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!nH.isServer&&c.isLoading&&c.isFetching&&!r){let e=u?at(o,d,n):l?.promise;e?.catch(nH.noop).finally(()=>{d.updateResult()})}return o.notifyOnChangeProps?c:d.trackResult(c)}(e,n4,t)}let ai=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim(),ar=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var an={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let aa=(0,m.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:r="",children:n,iconNode:a,...o},l)=>(0,m.createElement)("svg",{ref:l,...an,width:t,height:t,stroke:e,strokeWidth:i?24*Number(s)/Number(t):s,className:ai("lucide",r),...!n&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(o)&&{"aria-hidden":"true"},...o},[...a.map(([e,t])=>(0,m.createElement)(e,t)),...Array.isArray(n)?n:[n]])),ao=(e,t)=>{let s=(0,m.forwardRef)(({className:s,...i},r)=>(0,m.createElement)(aa,{ref:r,iconNode:t,className:ai(`lucide-${ar(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s),...i}));return s.displayName=ar(e),s},al=ao("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),au=ao("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),ad=ao("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]),ac=ao("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ah=ao("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]),ap=ao("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),am=ao("key-round",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]),af=ao("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),ag=ao("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),ay=ao("mic-vocal",[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]]),av=ao("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),ab=ao("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),ax=ao("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),aw=ao("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),ak=ao("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),aS=ao("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),aj=ao("waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);var aE=e.i(28841);async function aT(e,t){let s=await fetch(e,{...t,headers:{"Content-Type":"application/json",...t?.headers||{}},cache:"no-store"}),i={};try{i=await s.json()}catch{i={}}if(!s.ok)throw Error("string"==typeof i.error?i.error:`HTTP ${s.status}`);return i}async function aP(){return aT("/api/server_status",{method:"GET"})}async function aC(){return(await aT("/api/settings",{method:"GET"})).settings}async function aM(e){return aT("/api/settings",{method:"PATCH",body:JSON.stringify({settings:e})})}async function aA(){return aT("/api/secrets",{method:"GET"})}async function aR(e){return aT("/api/secrets",{method:"POST",body:JSON.stringify(e)})}async function a_(){return(await aT("/api/ws_url",{method:"GET"})).url}async function aN(e,t=8){let s=encodeURIComponent(e);return(await aT(`/api/setup_system_search?query=${s}&limit=${Math.max(3,Math.min(12,t))}`,{method:"GET"})).results||[]}async function aO(){return(await aT("/api/kb/documents",{method:"GET"})).documents||[]}async function aD(e){return aT("/api/kb/upload_start",{method:"POST",body:JSON.stringify(e)})}async function aV(e){return aT("/api/kb/upload_chunk",{method:"POST",body:JSON.stringify(e)})}async function aI(e){return aT("/api/kb/upload_finish",{method:"POST",body:JSON.stringify({upload_id:e})})}async function aL(e,t){let s=await aD({filename:e.name,doc_id:t.docId,ruleset:t.ruleset,doc_kind:t.docKind,collection_target:t.collectionTarget,total_bytes:e.size}),i=new Uint8Array(await e.arrayBuffer()),r=t.chunkSize||49152,n=0;for(let e=0;e<i.length;e+=r){let a=i.subarray(e,e+r);await aV({upload_id:s.upload_id,seq:n,data_b64:function(e){let t="";for(let s=0;s<e.length;s+=32768)t+=String.fromCharCode(...e.subarray(s,s+32768));return btoa(t)}(a)}),n+=1,t.onProgress?.(Math.min(e+a.length,i.length),i.length)}return{...await aI(s.upload_id),upload_id:s.upload_id,doc_id:s.doc_id}}async function aF(e){return aT("/api/kb/sync_rulebook",{method:"POST",body:JSON.stringify(e||{})})}async function aB(e){return aT("/api/kb/ingest",{method:"POST",body:JSON.stringify(e)})}async function az(e){return aT("/api/kb/delete",{method:"POST",body:JSON.stringify(e)})}async function aU(e){return aT("/api/kb/search",{method:"POST",body:JSON.stringify(e)})}async function aq(e){let t=new URLSearchParams;return e.scope&&t.set("scope",e.scope),e.limit&&t.set("limit",String(e.limit)),e.session_id&&t.set("session_id",e.session_id),e.player_id&&t.set("player_id",e.player_id),(await aT(`/api/memory?${t.toString()}`,{method:"GET"})).entries||[]}async function a$(e){return aT("/api/memory/clear",{method:"POST",body:JSON.stringify(e)})}async function aQ(e){return aT("/api/campaign/new",{method:"POST",body:JSON.stringify({name:e})})}async function aK(){return aT("/api/campaign/resume_latest",{method:"POST",body:JSON.stringify({})})}async function aW(){return aT("/api/campaign/reset",{method:"POST",body:JSON.stringify({})})}async function aY(){return(await aT("/api/elevenlabs/voices",{method:"GET"})).voices||[]}function aH(){for(var e,t,s=0,i="",r=arguments.length;s<r;s++)(e=arguments[s])&&(t=function e(t){var s,i,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t)){var n=t.length;for(s=0;s<n;s++)t[s]&&(i=e(t[s]))&&(r&&(r+=" "),r+=i)}else for(i in t)t[i]&&(r&&(r+=" "),r+=i);return r}(e))&&(i&&(i+=" "),i+=t);return i}let aG=(e=new Map,t=null,s)=>({nextPart:e,validators:t,classGroupId:s}),aX=[],aJ=(e,t,s)=>{if(0==e.length-t)return s.classGroupId;let i=e[t],r=s.nextPart.get(i);if(r){let s=aJ(e,t+1,r);if(s)return s}let n=s.validators;if(null===n)return;let a=0===t?e.join("-"):e.slice(t).join("-"),o=n.length;for(let e=0;e<o;e++){let t=n[e];if(t.validator(a))return t.classGroupId}},aZ=(e,t)=>{let s=aG();for(let i in e)a0(e[i],s,i,t);return s},a0=(e,t,s,i)=>{let r=e.length;for(let n=0;n<r;n++)a1(e[n],t,s,i)},a1=(e,t,s,i)=>{"string"==typeof e?a2(e,t,s):"function"==typeof e?a5(e,t,s,i):a4(e,t,s,i)},a2=(e,t,s)=>{(""===e?t:a3(t,e)).classGroupId=s},a5=(e,t,s,i)=>{a6(e)?a0(e(i),t,s,i):(null===t.validators&&(t.validators=[]),t.validators.push({classGroupId:s,validator:e}))},a4=(e,t,s,i)=>{let r=Object.entries(e),n=r.length;for(let e=0;e<n;e++){let[n,a]=r[e];a0(a,a3(t,n),s,i)}},a3=(e,t)=>{let s=e,i=t.split("-"),r=i.length;for(let e=0;e<r;e++){let t=i[e],r=s.nextPart.get(t);r||(r=aG(),s.nextPart.set(t,r)),s=r}return s},a6=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,a8=[],a9=(e,t,s,i,r)=>({modifiers:e,hasImportantModifier:t,baseClassName:s,maybePostfixModifierPosition:i,isExternal:r}),a7=/\s+/,oe=e=>{let t;if("string"==typeof e)return e;let s="";for(let i=0;i<e.length;i++)e[i]&&(t=oe(e[i]))&&(s&&(s+=" "),s+=t);return s},ot=[],os=e=>{let t=t=>t[e]||ot;return t.isThemeGetter=!0,t},oi=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,or=/^\((?:(\w[\w-]*):)?(.+)\)$/i,on=/^\d+(?:\.\d+)?\/\d+(?:\.\d+)?$/,oa=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oo=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ol=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ou=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,od=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,oc=e=>on.test(e),oh=e=>!!e&&!Number.isNaN(Number(e)),op=e=>!!e&&Number.isInteger(Number(e)),om=e=>e.endsWith("%")&&oh(e.slice(0,-1)),of=e=>oa.test(e),og=()=>!0,oy=e=>oo.test(e)&&!ol.test(e),ov=()=>!1,ob=e=>ou.test(e),ox=e=>od.test(e),ow=e=>!oS(e)&&!oR(e),ok=e=>oF(e,oq,ov),oS=e=>oi.test(e),oj=e=>oF(e,o$,oy),oE=e=>oF(e,oQ,oh),oT=e=>oF(e,oW,og),oP=e=>oF(e,oK,ov),oC=e=>oF(e,oz,ov),oM=e=>oF(e,oU,ox),oA=e=>oF(e,oY,ob),oR=e=>or.test(e),o_=e=>oB(e,o$),oN=e=>oB(e,oK),oO=e=>oB(e,oz),oD=e=>oB(e,oq),oV=e=>oB(e,oU),oI=e=>oB(e,oY,!0),oL=e=>oB(e,oW,!0),oF=(e,t,s)=>{let i=oi.exec(e);return!!i&&(i[1]?t(i[1]):s(i[2]))},oB=(e,t,s=!1)=>{let i=or.exec(e);return!!i&&(i[1]?t(i[1]):s)},oz=e=>"position"===e||"percentage"===e,oU=e=>"image"===e||"url"===e,oq=e=>"length"===e||"size"===e||"bg-size"===e,o$=e=>"length"===e,oQ=e=>"number"===e,oK=e=>"family-name"===e,oW=e=>"number"===e||"weight"===e,oY=e=>"shadow"===e,oH=((e,...t)=>{let s,i,r,n,a=e=>{let t=i(e);if(t)return t;let n=((e,t)=>{let{parseClassName:s,getClassGroupId:i,getConflictingClassGroupIds:r,sortModifiers:n}=t,a=[],o=e.trim().split(a7),l="";for(let e=o.length-1;e>=0;e-=1){let t=o[e],{isExternal:u,modifiers:d,hasImportantModifier:c,baseClassName:h,maybePostfixModifierPosition:p}=s(t);if(u){l=t+(l.length>0?" "+l:l);continue}let m=!!p,f=i(m?h.substring(0,p):h);if(!f){if(!m||!(f=i(h))){l=t+(l.length>0?" "+l:l);continue}m=!1}let g=0===d.length?"":1===d.length?d[0]:n(d).join(":"),y=c?g+"!":g,v=y+f;if(a.indexOf(v)>-1)continue;a.push(v);let b=r(f,m);for(let e=0;e<b.length;++e){let t=b[e];a.push(y+t)}l=t+(l.length>0?" "+l:l)}return l})(e,s);return r(e,n),n};return n=o=>{var l;let u;return i=(s={cache:(e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,s=Object.create(null),i=Object.create(null),r=(r,n)=>{s[r]=n,++t>e&&(t=0,i=s,s=Object.create(null))};return{get(e){let t=s[e];return void 0!==t?t:void 0!==(t=i[e])?(r(e,t),t):void 0},set(e,t){e in s?s[e]=t:r(e,t)}}})((l=t.reduce((e,t)=>t(e),e())).cacheSize),parseClassName:(e=>{let{prefix:t,experimentalParseClassName:s}=e,i=e=>{let t,s=[],i=0,r=0,n=0,a=e.length;for(let o=0;o<a;o++){let a=e[o];if(0===i&&0===r){if(":"===a){s.push(e.slice(n,o)),n=o+1;continue}if("/"===a){t=o;continue}}"["===a?i++:"]"===a?i--:"("===a?r++:")"===a&&r--}let o=0===s.length?e:e.slice(n),l=o,u=!1;return o.endsWith("!")?(l=o.slice(0,-1),u=!0):o.startsWith("!")&&(l=o.slice(1),u=!0),a9(s,u,l,t&&t>n?t-n:void 0)};if(t){let e=t+":",s=i;i=t=>t.startsWith(e)?s(t.slice(e.length)):a9(a8,!1,t,void 0,!0)}if(s){let e=i;i=t=>s({className:t,parseClassName:e})}return i})(l),sortModifiers:(u=new Map,l.orderSensitiveModifiers.forEach((e,t)=>{u.set(e,1e6+t)}),e=>{let t=[],s=[];for(let i=0;i<e.length;i++){let r=e[i],n="["===r[0],a=u.has(r);n||a?(s.length>0&&(s.sort(),t.push(...s),s=[]),t.push(r)):s.push(r)}return s.length>0&&(s.sort(),t.push(...s)),t}),...(e=>{let t=(e=>{let{theme:t,classGroups:s}=e;return aZ(s,t)})(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]")){var s;let t,i,r;return -1===(s=e).slice(1,-1).indexOf(":")?void 0:(i=(t=s.slice(1,-1)).indexOf(":"),(r=t.slice(0,i))?"arbitrary.."+r:void 0)}let i=e.split("-"),r=+(""===i[0]&&i.length>1);return aJ(i,r,t)},getConflictingClassGroupIds:(e,t)=>{if(t){let t=i[e],r=s[e];if(t){if(r){let e=Array(r.length+t.length);for(let t=0;t<r.length;t++)e[t]=r[t];for(let s=0;s<t.length;s++)e[r.length+s]=t[s];return e}return t}return r||aX}return s[e]||aX}}})(l)}).cache.get,r=s.cache.set,n=a,a(o)},(...e)=>n(((...e)=>{let t,s,i=0,r="";for(;i<e.length;)(t=e[i++])&&(s=oe(t))&&(r&&(r+=" "),r+=s);return r})(...e))})(()=>{let e=os("color"),t=os("font"),s=os("text"),i=os("font-weight"),r=os("tracking"),n=os("leading"),a=os("breakpoint"),o=os("container"),l=os("spacing"),u=os("radius"),d=os("shadow"),c=os("inset-shadow"),h=os("text-shadow"),p=os("drop-shadow"),m=os("blur"),f=os("perspective"),g=os("aspect"),y=os("ease"),v=os("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],x=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],w=()=>[...x(),oR,oS],k=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],j=()=>[oR,oS,l],E=()=>[oc,"full","auto",...j()],T=()=>[op,"none","subgrid",oR,oS],P=()=>["auto",{span:["full",op,oR,oS]},op,oR,oS],C=()=>[op,"auto",oR,oS],M=()=>["auto","min","max","fr",oR,oS],A=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],R=()=>["start","end","center","stretch","center-safe","end-safe"],_=()=>["auto",...j()],N=()=>[oc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],O=()=>[oc,"screen","full","dvw","lvw","svw","min","max","fit",...j()],D=()=>[oc,"screen","full","lh","dvh","lvh","svh","min","max","fit",...j()],V=()=>[e,oR,oS],I=()=>[...x(),oO,oC,{position:[oR,oS]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",oD,ok,{size:[oR,oS]}],B=()=>[om,o_,oj],z=()=>["","none","full",u,oR,oS],U=()=>["",oh,o_,oj],q=()=>["solid","dashed","dotted","double"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>[oh,om,oO,oC],K=()=>["","none",m,oR,oS],W=()=>["none",oh,oR,oS],Y=()=>["none",oh,oR,oS],H=()=>[oh,oR,oS],G=()=>[oc,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[of],breakpoint:[of],color:[og],container:[of],"drop-shadow":[of],ease:["in","out","in-out"],font:[ow],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[of],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[of],shadow:[of],spacing:["px",oh],text:[of],"text-shadow":[of],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",oc,oS,oR,g]}],container:["container"],columns:[{columns:[oh,oS,oR,o]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:w()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{"inset-s":E(),start:E()}],end:[{"inset-e":E(),end:E()}],"inset-bs":[{"inset-bs":E()}],"inset-be":[{"inset-be":E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[op,"auto",oR,oS]}],basis:[{basis:[oc,"full","auto",o,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[oh,oc,"auto","initial","none",oS]}],grow:[{grow:["",oh,oR,oS]}],shrink:[{shrink:["",oh,oR,oS]}],order:[{order:[op,"first","last","none",oR,oS]}],"grid-cols":[{"grid-cols":T()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":T()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":M()}],"auto-rows":[{"auto-rows":M()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[...R(),"normal"]}],"justify-self":[{"justify-self":["auto",...R()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[...R(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...R(),{baseline:["","last"]}]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[...R(),"baseline"]}],"place-self":[{"place-self":["auto",...R()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pbs:[{pbs:j()}],pbe:[{pbe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:_()}],mx:[{mx:_()}],my:[{my:_()}],ms:[{ms:_()}],me:[{me:_()}],mbs:[{mbs:_()}],mbe:[{mbe:_()}],mt:[{mt:_()}],mr:[{mr:_()}],mb:[{mb:_()}],ml:[{ml:_()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:N()}],"inline-size":[{inline:["auto",...O()]}],"min-inline-size":[{"min-inline":["auto",...O()]}],"max-inline-size":[{"max-inline":["none",...O()]}],"block-size":[{block:["auto",...D()]}],"min-block-size":[{"min-block":["auto",...D()]}],"max-block-size":[{"max-block":["none",...D()]}],w:[{w:[o,"screen",...N()]}],"min-w":[{"min-w":[o,"screen","none",...N()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...N()]}],h:[{h:["screen","lh",...N()]}],"min-h":[{"min-h":["screen","lh","none",...N()]}],"max-h":[{"max-h":["screen","lh",...N()]}],"font-size":[{text:["base",s,o_,oj]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,oL,oT]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",om,oS]}],"font-family":[{font:[oN,oP,t]}],"font-features":[{"font-features":[oS]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,oR,oS]}],"line-clamp":[{"line-clamp":[oh,"none",oR,oE]}],leading:[{leading:[n,...j()]}],"list-image":[{"list-image":["none",oR,oS]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",oR,oS]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:[oh,"from-font","auto",oR,oj]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[oh,"auto",oR,oS]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",oR,oS]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",oR,oS]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:I()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},op,oR,oS],radial:["",oR,oS],conic:[op,oR,oS]},oV,oM]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:U()}],"border-w-x":[{"border-x":U()}],"border-w-y":[{"border-y":U()}],"border-w-s":[{"border-s":U()}],"border-w-e":[{"border-e":U()}],"border-w-bs":[{"border-bs":U()}],"border-w-be":[{"border-be":U()}],"border-w-t":[{"border-t":U()}],"border-w-r":[{"border-r":U()}],"border-w-b":[{"border-b":U()}],"border-w-l":[{"border-l":U()}],"divide-x":[{"divide-x":U()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":U()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...q(),"hidden","none"]}],"divide-style":[{divide:[...q(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-bs":[{"border-bs":V()}],"border-color-be":[{"border-be":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[oh,oR,oS]}],"outline-w":[{outline:["",oh,o_,oj]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",d,oI,oA]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",c,oI,oA]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[oh,oj]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":U()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",h,oI,oA]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[oh,oR,oS]}],"mix-blend":[{"mix-blend":[...$(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":$()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[oh]}],"mask-image-linear-from-pos":[{"mask-linear-from":Q()}],"mask-image-linear-to-pos":[{"mask-linear-to":Q()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":Q()}],"mask-image-t-to-pos":[{"mask-t-to":Q()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":Q()}],"mask-image-r-to-pos":[{"mask-r-to":Q()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":Q()}],"mask-image-b-to-pos":[{"mask-b-to":Q()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":Q()}],"mask-image-l-to-pos":[{"mask-l-to":Q()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":Q()}],"mask-image-x-to-pos":[{"mask-x-to":Q()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":Q()}],"mask-image-y-to-pos":[{"mask-y-to":Q()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[oR,oS]}],"mask-image-radial-from-pos":[{"mask-radial-from":Q()}],"mask-image-radial-to-pos":[{"mask-radial-to":Q()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":x()}],"mask-image-conic-pos":[{"mask-conic":[oh]}],"mask-image-conic-from-pos":[{"mask-conic-from":Q()}],"mask-image-conic-to-pos":[{"mask-conic-to":Q()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:I()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",oR,oS]}],filter:[{filter:["","none",oR,oS]}],blur:[{blur:K()}],brightness:[{brightness:[oh,oR,oS]}],contrast:[{contrast:[oh,oR,oS]}],"drop-shadow":[{"drop-shadow":["","none",p,oI,oA]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",oh,oR,oS]}],"hue-rotate":[{"hue-rotate":[oh,oR,oS]}],invert:[{invert:["",oh,oR,oS]}],saturate:[{saturate:[oh,oR,oS]}],sepia:[{sepia:["",oh,oR,oS]}],"backdrop-filter":[{"backdrop-filter":["","none",oR,oS]}],"backdrop-blur":[{"backdrop-blur":K()}],"backdrop-brightness":[{"backdrop-brightness":[oh,oR,oS]}],"backdrop-contrast":[{"backdrop-contrast":[oh,oR,oS]}],"backdrop-grayscale":[{"backdrop-grayscale":["",oh,oR,oS]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[oh,oR,oS]}],"backdrop-invert":[{"backdrop-invert":["",oh,oR,oS]}],"backdrop-opacity":[{"backdrop-opacity":[oh,oR,oS]}],"backdrop-saturate":[{"backdrop-saturate":[oh,oR,oS]}],"backdrop-sepia":[{"backdrop-sepia":["",oh,oR,oS]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",oR,oS]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[oh,"initial",oR,oS]}],ease:[{ease:["linear","initial",y,oR,oS]}],delay:[{delay:[oh,oR,oS]}],animate:[{animate:["none",v,oR,oS]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[f,oR,oS]}],"perspective-origin":[{"perspective-origin":w()}],rotate:[{rotate:W()}],"rotate-x":[{"rotate-x":W()}],"rotate-y":[{"rotate-y":W()}],"rotate-z":[{"rotate-z":W()}],scale:[{scale:Y()}],"scale-x":[{"scale-x":Y()}],"scale-y":[{"scale-y":Y()}],"scale-z":[{"scale-z":Y()}],"scale-3d":["scale-3d"],skew:[{skew:H()}],"skew-x":[{"skew-x":H()}],"skew-y":[{"skew-y":H()}],transform:[{transform:[oR,oS,"","none","gpu","cpu"]}],"transform-origin":[{origin:w()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:G()}],"translate-x":[{"translate-x":G()}],"translate-y":[{"translate-y":G()}],"translate-z":[{"translate-z":G()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",oR,oS]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mbs":[{"scroll-mbs":j()}],"scroll-mbe":[{"scroll-mbe":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pbs":[{"scroll-pbs":j()}],"scroll-pbe":[{"scroll-pbe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",oR,oS]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[oh,o_,oj,oE]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","inset-bs","inset-be","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pbs","pbe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mbs","mbe","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-bs","border-w-be","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-bs","border-color-be","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mbs","scroll-mbe","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pbs","scroll-pbe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function oG(...e){return oH(aH(e))}function oX(e,t="rulebook"){return e.toLowerCase().replace(/[^a-z0-9_-]+/g,"_").replace(/^_+|_+$/g,"").slice(0,59)||t}let oJ=e=>{let t,s=new Set,i=(e,i)=>{let r="function"==typeof e?e(t):e;if(!Object.is(r,t)){let e=t;t=(null!=i?i:"object"!=typeof r||null===r)?r:Object.assign({},t,r),s.forEach(s=>s(t,e))}},r=()=>t,n={setState:i,getState:r,getInitialState:()=>a,subscribe:e=>(s.add(e),()=>s.delete(e))},a=t=e(i,r,n);return n},oZ=e=>{let t=e?oJ(e):oJ,s=e=>(function(e,t=e=>e){let s=m.default.useSyncExternalStore(e.subscribe,m.default.useCallback(()=>t(e.getState()),[e,t]),m.default.useCallback(()=>t(e.getInitialState()),[e,t]));return m.default.useDebugValue(s),s})(t,e);return Object.assign(s,t),s},o0=(n=e=>({activeTab:"setup",wsStatus:"disconnected",wsUrl:"",messages:[],setActiveTab:t=>e({activeTab:t}),setWsStatus:t=>e({wsStatus:t}),setWsUrl:t=>e({wsUrl:t}),addMessage:t=>e(e=>({messages:[...e.messages,t].slice(-300)})),clearMessages:()=>e({messages:[]})}))?oZ(n):oZ;function o1({className:e,...t}){return(0,p.jsx)("div",{className:oG("inline-flex items-center rounded-full border border-slate-200 bg-white/80 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-slate-700",e),...t})}function o2(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var o5=Symbol.for("react.lazy"),o4=m[" use ".trim().toString()];function o3(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===o5&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var o6=((c=m.forwardRef((e,t)=>{let{children:s,...i}=e;if(o3(s)&&"function"==typeof o4&&(s=o4(s._payload)),m.isValidElement(s)){var r;let e,n,a=(r=s,(n=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?r.ref:(n=(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?r.props.ref:r.props.ref||r.ref),o=function(e,t){let s={...t};for(let i in t){let r=e[i],n=t[i];/^on[A-Z]/.test(i)?r&&n?s[i]=(...e)=>{let t=n(...e);return r(...e),t}:r&&(s[i]=r):"style"===i?s[i]={...r,...n}:"className"===i&&(s[i]=[r,n].filter(Boolean).join(" "))}return{...e,...s}}(i,s.props);return s.type!==m.Fragment&&(o.ref=t?function(...e){return t=>{let s=!1,i=e.map(e=>{let i=o2(e,t);return s||"function"!=typeof i||(s=!0),i});if(s)return()=>{for(let t=0;t<i.length;t++){let s=i[t];"function"==typeof s?s():o2(e[t],null)}}}}(t,a):a),m.cloneElement(s,o)}return m.Children.count(s)>1?m.Children.only(null):null})).displayName="Slot.SlotClone",a=c,(o=m.forwardRef((e,t)=>{let{children:s,...i}=e;o3(s)&&"function"==typeof o4&&(s=o4(s._payload));let r=m.Children.toArray(s),n=r.find(o9);if(n){let e=n.props.children,s=r.map(t=>t!==n?t:m.Children.count(e)>1?m.Children.only(null):m.isValidElement(e)?e.props.children:null);return(0,p.jsx)(a,{...i,ref:t,children:m.isValidElement(e)?m.cloneElement(e,void 0,s):null})}return(0,p.jsx)(a,{...i,ref:t,children:s})})).displayName="Slot.Slot",o),o8=Symbol("radix.slottable");function o9(e){return m.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o8}let o7=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,le=(l="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-semibold transition-all disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2",u={variants:{variant:{default:"bg-[linear-gradient(135deg,#0f9bb5_0%,#0f62fe_70%)] text-white shadow-[0_10px_25px_rgba(15,98,254,0.28)] hover:brightness-110 focus-visible:ring-sky-500",secondary:"bg-white/70 text-slate-900 border border-slate-200 hover:bg-white focus-visible:ring-slate-500",ghost:"text-slate-700 hover:bg-slate-100 focus-visible:ring-slate-500",danger:"bg-rose-500 text-white hover:bg-rose-600 focus-visible:ring-rose-500"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-xl px-6"}},defaultVariants:{variant:"default",size:"default"}},e=>{var t;if((null==u?void 0:u.variants)==null)return aH(l,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:s,defaultVariants:i}=u,r=Object.keys(s).map(t=>{let r=null==e?void 0:e[t],n=null==i?void 0:i[t];if(null===r)return null;let a=o7(r)||o7(n);return s[t][a]}),n=e&&Object.entries(e).reduce((e,t)=>{let[s,i]=t;return void 0===i||(e[s]=i),e},{});return aH(l,r,null==u||null==(t=u.compoundVariants)?void 0:t.reduce((e,t)=>{let{class:s,className:r,...a}=t;return Object.entries(a).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...i,...n}[t]):({...i,...n})[t]===s})?[...e,s,r]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)}),lt=m.forwardRef(({className:e,variant:t,size:s,asChild:i=!1,...r},n)=>(0,p.jsx)(i?o6:"button",{className:oG(le({variant:t,size:s,className:e})),ref:n,...r}));function ls({className:e,...t}){return(0,p.jsx)("div",{className:oG("rounded-2xl border border-slate-200/90 bg-white/80 shadow-[0_12px_35px_rgba(15,23,42,0.08)] backdrop-blur",e),...t})}function li({className:e,...t}){return(0,p.jsx)("div",{className:oG("flex flex-col gap-1.5 p-5 pb-2",e),...t})}function lr({className:e,...t}){return(0,p.jsx)("h3",{className:oG("text-base font-semibold tracking-tight text-slate-900",e),...t})}function ln({className:e,...t}){return(0,p.jsx)("p",{className:oG("text-sm text-slate-600",e),...t})}function la({className:e,...t}){return(0,p.jsx)("div",{className:oG("p-5 pt-2",e),...t})}lt.displayName="Button";let lo=m.forwardRef(({className:e,...t},s)=>(0,p.jsx)("input",{ref:s,className:oG("flex h-10 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none placeholder:text-slate-400 focus:border-sky-400 focus:ring-2 focus:ring-sky-200 disabled:cursor-not-allowed disabled:opacity-60",e),...t}));function ll({className:e,...t}){return(0,p.jsx)("label",{className:oG("mb-1 block text-xs font-semibold uppercase tracking-wide text-slate-600",e),...t})}lo.displayName="Input";let lu=m.forwardRef(({className:e,children:t,...s},i)=>(0,p.jsx)("select",{ref:i,className:oG("flex h-10 w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:border-sky-400 focus:ring-2 focus:ring-sky-200 disabled:cursor-not-allowed disabled:opacity-60",e),...s,children:t}));lu.displayName="Select";let ld={setup:"Setup",play:"Play",advanced:"Advanced"},lc=[{key:"OPENAI_API_KEY",label:"OpenAI API Key"},{key:"DEEPGRAM_API_KEY",label:"Deepgram API Key"},{key:"ELEVENLABS_API_KEY",label:"ElevenLabs API Key"},{key:"OPENAI_BASE_URL",label:"OpenAI Base URL"}];function lh(e){return JSON.parse(JSON.stringify(e))}function lp(e){return e.voice.player_profiles&&0!==e.voice.player_profiles.length||(e.voice.player_profiles=[{player_id:"player1",display_name:"Player 1",voice_profile:""}]),e.voice.player_profiles=e.voice.player_profiles.slice(0,8),e.voice.player_profiles.find(t=>t.player_id===e.voice.active_player_id)||(e.voice.active_player_id=e.voice.player_profiles[0].player_id),e.voice.player_id=e.voice.active_player_id,e}function lm(){return"u">typeof crypto&&"randomUUID"in crypto?crypto.randomUUID():`${Date.now()}_${Math.random().toString(16).slice(2)}`}function lf(){let e=(0,nX.useQueryClient)(),t=o0(e=>e.activeTab),s=o0(e=>e.setActiveTab),i=o0(e=>e.wsStatus),r=o0(e=>e.setWsStatus),n=o0(e=>e.wsUrl),a=o0(e=>e.setWsUrl),o=o0(e=>e.messages),l=o0(e=>e.addMessage),u=o0(e=>e.clearMessages),d=m.useRef(null),c=m.useRef(null),h=m.useRef(null),f=m.useRef(null),g=m.useRef(null),y=m.useRef(new Uint8Array(0)),v=m.useRef(!1),b=m.useRef(0),x=m.useRef(null),w=m.useRef(null),k=m.useRef("ptt"),S=m.useRef(.02),j=m.useRef("player1"),[E,T]=m.useState(null),[P,C]=m.useState(!1),[M,A]=m.useState(""),[R,_]=m.useState("ptt"),[O,D]=m.useState(.02),[V,I]=m.useState(0),[L,F]=m.useState(!1),[B,z]=m.useState("idle"),[U,q]=m.useState(""),[$,Q]=m.useState([]),[K,W]=m.useState(""),[Y,H]=m.useState(null),[G,X]=m.useState(0),[J,Z]=m.useState(""),[ee,et]=m.useState([]),[es,ei]=m.useState("campaign"),[er,en]=m.useState({OPENAI_API_KEY:"keep",DEEPGRAM_API_KEY:"keep",ELEVENLABS_API_KEY:"keep",OPENAI_BASE_URL:"keep"}),[ea,eo]=m.useState({OPENAI_API_KEY:"",DEEPGRAM_API_KEY:"",ELEVENLABS_API_KEY:"",OPENAI_BASE_URL:""}),el=as({queryKey:["settings"],queryFn:aC}),eu=as({queryKey:["status"],queryFn:aP,refetchInterval:1e4}),ed=as({queryKey:["ws-url"],queryFn:a_}),ec=as({queryKey:["secrets"],queryFn:aA}),eh=as({queryKey:["kb-docs"],queryFn:aO,refetchInterval:"advanced"===t&&7e3}),ep=as({queryKey:["memory",es,E?.voice.session_id||"",E?.voice.active_player_id||E?.voice.player_id||""],queryFn:()=>aq({scope:es,limit:80,session_id:E?.voice.session_id,player_id:E?.voice.active_player_id||E?.voice.player_id}),enabled:!!E&&"advanced"===t}),em=as({queryKey:["eleven-voices"],queryFn:aY,enabled:!!E&&"elevenlabs"===E.openai.tts_provider&&!!ec.data?.secrets?.ELEVENLABS_API_KEY?.present});m.useEffect(()=>{el.data&&!P&&T(lp(lh(el.data)))},[el.data,P]),m.useEffect(()=>{!n&&ed.data&&a(ed.data)},[n,ed.data,a]),m.useEffect(()=>{k.current=R},[R]),m.useEffect(()=>{S.current=O},[O]),m.useEffect(()=>{j.current=E?.voice.active_player_id||E?.voice.player_id||"player1"},[E?.voice.active_player_id,E?.voice.player_id]);let ef=nJ({mutationFn:async e=>aM(e),onSuccess:t=>{if(!t.settings)return;let s=lp(lh(t.settings));if(T(s),C(!1),e.setQueryData(["settings"],s),e.invalidateQueries({queryKey:["status"]}),e.invalidateQueries({queryKey:["kb-docs"]}),t.rulebook_sync&&!1===t.rulebook_sync.ok){let e=String(t.rulebook_sync.error||"rulebook sync failed");aE.toast.error(e)}else aE.toast.success("Settings saved");t.restart_required&&aE.toast.message("Some voice provider changes still require process restart.")},onError:e=>aE.toast.error(e.message)}),eg=nJ({mutationFn:aR,onSuccess:t=>{e.setQueryData(["secrets"],t),e.invalidateQueries({queryKey:["status"]}),eo({OPENAI_API_KEY:"",DEEPGRAM_API_KEY:"",ELEVENLABS_API_KEY:"",OPENAI_BASE_URL:""}),en({OPENAI_API_KEY:"keep",DEEPGRAM_API_KEY:"keep",ELEVENLABS_API_KEY:"keep",OPENAI_BASE_URL:"keep"}),aE.toast.success("Secrets saved to .env and live process environment")},onError:e=>aE.toast.error(e.message)}),ey=nJ({mutationFn:e=>aN(e),onSuccess:e=>{Q(e),W(e[0]?.id||""),e.length||aE.toast.message("No hints found. Try a broader game system name.")},onError:e=>aE.toast.error(e.message)}),ev=nJ({mutationFn:async e=>{X(0);let t=oX(e.name.replace(/\.pdf$/i,"")||"rulebook");return aL(e,{docId:`${t}_${Date.now().toString().slice(-5)}`,ruleset:E?.knowledge.primary_rulebook_ruleset||void 0,docKind:E?.knowledge.primary_rulebook_doc_kind||"rulebook",collectionTarget:E?.knowledge.primary_rulebook_collection_target||"game",onProgress:(e,t)=>X(Math.floor(e/Math.max(1,t)*100))})},onSuccess:async t=>{H(null),X(100);let s=lh(E);s.knowledge.primary_rulebook_source="doc",s.knowledge.primary_rulebook_doc_choice=t.doc_id,s.knowledge.primary_rulebook_doc_id=t.doc_id,s.knowledge.active_doc_ids=Array.from(new Set([...s.knowledge.active_doc_ids||[],t.doc_id])),s.knowledge.enabled=!0,T(s),C(!0),await e.invalidateQueries({queryKey:["kb-docs"]}),ef.mutate(s),aE.toast.success(`Uploaded ${t.doc_id} and queued settings sync`)},onError:e=>{X(0),aE.toast.error(e.message)}}),eb=nJ({mutationFn:()=>aF({}),onSuccess:async()=>{await e.invalidateQueries({queryKey:["kb-docs"]}),await e.invalidateQueries({queryKey:["settings"]}),aE.toast.success("Rulebook synced")},onError:e=>aE.toast.error(e.message)}),ex=nJ({mutationFn:e=>aB({doc_id:e}),onSuccess:async()=>{await e.invalidateQueries({queryKey:["kb-docs"]}),aE.toast.success("Document ingested")},onError:e=>aE.toast.error(e.message)}),ew=nJ({mutationFn:e=>az({doc_id:e}),onSuccess:async()=>{await e.invalidateQueries({queryKey:["kb-docs"]}),aE.toast.success("Document removed")},onError:e=>aE.toast.error(e.message)}),ek=nJ({mutationFn:e=>aU({query:e,top_k:E?.knowledge.top_k||5}),onSuccess:e=>{et(e.results||[])},onError:e=>aE.toast.error(e.message)}),eS=nJ({mutationFn:()=>a$({scope:es,session_id:E?.voice.session_id,player_id:E?.voice.active_player_id||E?.voice.player_id}),onSuccess:async t=>{await e.invalidateQueries({queryKey:["memory"]}),aE.toast.success(`Cleared ${t.cleared} memory rows`)},onError:e=>aE.toast.error(e.message)}),ej=nJ({mutationFn:()=>aQ(),onSuccess:t=>{T(lp(lh(t.settings))),C(!1),e.setQueryData(["settings"],t.settings),e.invalidateQueries({queryKey:["memory"]}),u(),aE.toast.success(`New campaign: ${t.campaign?.id||"created"}`)},onError:e=>aE.toast.error(e.message)}),eE=nJ({mutationFn:aK,onSuccess:t=>{T(lp(lh(t.settings))),C(!1),e.setQueryData(["settings"],t.settings),e.invalidateQueries({queryKey:["memory"]}),aE.toast.success(`Resumed campaign ${t.campaign?.id||""}`)},onError:e=>aE.toast.error(e.message)}),eT=nJ({mutationFn:aW,onSuccess:t=>{e.invalidateQueries({queryKey:["memory"]}),u(),aE.toast.success(`Campaign reset (${t.cleared_memory_entries} memory rows)`)},onError:e=>aE.toast.error(e.message)}),eP=m.useCallback(e=>{T(t=>{if(!t)return t;let s=lh(t);return e(s),lp(s)}),C(!0)},[]),eC=m.useCallback(async()=>{E&&await ef.mutateAsync(lp(lh(E)))},[E,ef]),eM=m.useCallback(()=>{if(!E||!$.length)return;let e=$.find(e=>e.id===K)||$[0];e&&(eP(t=>{let s=String(e.ruleset||e.setup_system||e.id||"generic").trim().toLowerCase();t.knowledge.primary_rulebook_ruleset=s,t.knowledge.primary_rulebook_doc_id||(t.knowledge.primary_rulebook_doc_id=`${s}_core`);let i=String(e.beginner_hint||"").trim();i&&(t.prompts.resolve_system=`${t.prompts.resolve_system}
Style: ${i}`.slice(0,6e3))}),aE.toast.success(`Applied hint: ${e.name}`))},[E,K,$,eP]),eA=m.useCallback(async()=>{if(c.current||(c.current=new AudioContext),"suspended"===c.current.state)try{await c.current.resume()}catch{}return c.current},[]),eR=m.useCallback(async(e,t)=>{let s=function(e){let t=String(e||"").trim();if(!t)return new Uint8Array(0);let s=atob(t),i=new Uint8Array(s.length);for(let e=0;e<s.length;e+=1)i[e]=s.charCodeAt(e);return i}(e);if(!s.length)return;let i=function(e){let t=Math.floor(e.length/2),s=new Float32Array(t),i=new DataView(e.buffer,e.byteOffset,e.byteLength);for(let e=0;e<t;e+=1){let t=i.getInt16(2*e,!0);s[e]=t/32768}return s}(s);if(!i.length)return;let r=await eA(),n=function(e,t,s){if(!e.length||t<=0||s<=0||t===s)return e;let i=t/s,r=Math.max(1,Math.floor(e.length/i)),n=new Float32Array(r);for(let t=0;t<r;t+=1){let s=t*i,r=Math.floor(s),a=s-r,o=e[Math.min(e.length-1,r)],l=e[Math.min(e.length-1,r+1)];n[t]=o+(l-o)*a}return n}(i,Number.isFinite(t)&&t>0?t:24e3,r.sampleRate);if(!n.length)return;let a=r.createBuffer(1,n.length,r.sampleRate);a.getChannelData(0).set(n);let o=r.createBufferSource();o.buffer=a,o.connect(r.destination);let l=r.currentTime,u=Math.max(l,b.current||l);o.start(u),b.current=u+a.duration},[eA]),e_=m.useCallback(e=>{let t=d.current;t&&t.readyState===WebSocket.OPEN&&e.length&&t.send(JSON.stringify({type:"audio_in",sample_rate:16e3,num_channels:1,audio:function(e){let t="";for(let s=0;s<e.length;s+=32768)t+=String.fromCharCode(...e.subarray(s,s+32768));return btoa(t)}(e),user_id:j.current||"player1"}))},[]),eN=m.useCallback(()=>{let e=y.current;e.length&&(y.current=new Uint8Array(0),e_(e))},[e_]),eO=m.useCallback(e=>{if(e.length){var t;let s;t=y.current,(s=new Uint8Array(t.length+e.length)).set(t,0),s.set(e,t.length),y.current=s,y.current.length>=3200&&eN()}},[eN]),eD=m.useCallback(e=>{let t=d.current;t&&t.readyState===WebSocket.OPEN&&t.send(JSON.stringify({type:"vad",state:e}))},[]),eV=m.useCallback(()=>{let e=d.current;!e||e.readyState!==WebSocket.OPEN||v.current||(v.current=!0,F(!0),y.current=new Uint8Array(0),x.current=null,w.current=null,eD("start"))},[eD]),eI=m.useCallback(()=>{v.current&&(v.current=!1,F(!1),x.current=null,w.current=null,eN(),eD("stop"))},[eN,eD]),eL=m.useCallback(e=>{if("auto"!==k.current)return;let t=performance.now(),s=S.current;if(!v.current){w.current=null,e>s?(null===x.current&&(x.current=t),t-x.current>=140&&(eV(),x.current=null)):x.current=null;return}x.current=null,e<.6*s?(null===w.current&&(w.current=t),t-w.current>=650&&(eI(),w.current=null)):w.current=null},[eV,eI]),eF=m.useCallback(()=>{if(eI(),g.current){try{g.current.disconnect()}catch{}g.current.onaudioprocess=null,g.current=null}if(f.current){try{f.current.disconnect()}catch{}f.current=null}if(h.current){for(let e of h.current.getTracks())e.stop();h.current=null}y.current=new Uint8Array(0),I(0),z("idle")},[eI]),eB=m.useCallback(async()=>{if(!g.current){if(!navigator.mediaDevices?.getUserMedia){z("error"),aE.toast.error("Microphone API is not available in this browser.");return}try{let e=await eA(),t=await navigator.mediaDevices.getUserMedia({audio:{channelCount:1,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});h.current=t;let s=e.createMediaStreamSource(t);f.current=s;let i=e.createScriptProcessor(2048,1,1);g.current=i;let r=0;i.onaudioprocess=e=>{let t=e.inputBuffer.getChannelData(0);if(!t||!t.length)return;let s=0;for(let e=0;e<t.length;e+=1){let i=t[e];s+=i*i}let i=Math.sqrt(s/t.length);if(r=.85*r+.15*i,I(r),eL(r),!v.current)return;let n=function(e,t,s=16e3){if(!e.length)return new Uint8Array(0);let i=t/s,r=Math.max(1,Math.floor(e.length/Math.max(i,1e-6))),n=new ArrayBuffer(2*r),a=new DataView(n);for(let t=0;t<r;t+=1){let s=Math.min(e.length-1,Math.floor(t*i)),r=Math.max(-1,Math.min(1,e[s])),n=r<0?32768*r:32767*r;a.setInt16(2*t,Math.round(n),!0)}return new Uint8Array(n)}(t,e.inputBuffer.sampleRate,16e3);n.length&&eO(n)},s.connect(i),i.connect(e.destination),z("ready")}catch(e){z("error"),aE.toast.error(`Microphone error: ${e instanceof Error?e.message:String(e)}`)}}},[eL,eO,eA]),ez=m.useCallback(()=>{let t=n.trim();if(!t)return void aE.toast.error("WebSocket URL is empty");d.current&&d.current.readyState===WebSocket.OPEN&&d.current.close(1e3,"reconnect"),r("connecting");let s=new WebSocket(t);d.current=s,s.onopen=()=>{r("connected"),eA(),eB(),l({id:lm(),role:"system",speaker:"SYSTEM",text:"WebSocket connected.",ts:Date.now()})},s.onclose=()=>{r("disconnected"),eF(),l({id:lm(),role:"system",speaker:"SYSTEM",text:"WebSocket disconnected.",ts:Date.now()})},s.onerror=()=>{r("disconnected"),eF(),l({id:lm(),role:"error",speaker:"ERROR",text:"WebSocket error.",ts:Date.now()})},s.onmessage=t=>{let s=null;try{s=JSON.parse(t.data)}catch{return}if(!s||!s.type)return;let i=String(s.type);if("audio_out"===i)return void eR(String(s.audio||""),Number(s.sample_rate||24e3));if("transcript"===i&&s.finalized)return void l({id:lm(),role:"player",speaker:String(s.user_id||"PLAYER"),text:String(s.text||""),ts:Date.now()});if("text"===i)return void l({id:lm(),role:"gm",speaker:"GM",text:String(s.text||""),ts:Date.now()});if("error"===i)return void l({id:lm(),role:"error",speaker:"ERROR",text:String(s.error||"unknown error"),ts:Date.now()});if("speaker_map"===i)return void l({id:lm(),role:"system",speaker:"SYSTEM",text:`Speaker mapped: ${String(s.speaker_raw_id||"?")} -> ${String(s.player_id||"?")}`,ts:Date.now()});if("settings"===i&&s.settings){let t=lp(lh(s.settings));T(t),C(!1),e.setQueryData(["settings"],t)}}},[l,eA,eR,e,r,eB,eF,n]),eU=m.useCallback(()=>{d.current&&(d.current.close(1e3,"manual"),d.current=null),eF(),r("disconnected")},[r,eF]),eq=m.useCallback(()=>{let e=M.trim(),t=d.current;if(!e)return;if(!t||t.readyState!==WebSocket.OPEN)return void aE.toast.error("WebSocket is not connected");let s=E?.voice.active_player_id||E?.voice.player_id||"player";t.send(JSON.stringify({type:"manual_transcript",text:e,finalized:!0,user_id:s})),A("")},[E?.voice.active_player_id,E?.voice.player_id,M]);m.useEffect(()=>{"ptt"===R&&v.current&&eI()},[R,eI]),m.useEffect(()=>{let e=()=>eI(),t=()=>{document.hidden&&eI()};return window.addEventListener("blur",e),document.addEventListener("visibilitychange",t),()=>{window.removeEventListener("blur",e),document.removeEventListener("visibilitychange",t)}},[eI]),m.useEffect(()=>()=>{eF(),d.current&&d.current.close(1e3,"unmount"),c.current&&(c.current.close(),c.current=null)},[eF]);let e$=$.find(e=>e.id===K),eQ=ec.data?.secrets||{},eK=eh.data||[],eW=E?.knowledge.active_doc_ids||[];return(0,p.jsxs)("main",{className:"relative min-h-screen overflow-x-hidden px-4 py-6 md:px-8 md:py-8",children:[(0,p.jsx)("div",{className:"pointer-events-none absolute -top-24 left-1/2 h-80 w-[44rem] -translate-x-1/2 rounded-full bg-[radial-gradient(circle_at_center,rgba(20,184,166,0.22),rgba(15,98,254,0.10),transparent_72%)]"}),(0,p.jsx)("div",{className:"pointer-events-none absolute -bottom-24 right-0 h-64 w-64 rounded-full bg-[radial-gradient(circle_at_center,rgba(14,165,233,0.24),transparent_70%)]"}),(0,p.jsxs)("div",{className:"mx-auto max-w-[1280px] space-y-4",children:[(0,p.jsx)(nQ.section,{initial:{opacity:0,y:14},animate:{opacity:1,y:0},transition:{duration:.35},className:"rounded-3xl border border-slate-200/90 bg-white/75 p-5 shadow-[0_18px_45px_rgba(15,23,42,0.10)] backdrop-blur",children:(0,p.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h1",{className:"text-2xl font-semibold tracking-tight text-slate-900 md:text-3xl",children:"Game Master Studio 2.0"}),(0,p.jsx)("p",{className:"mt-1 max-w-3xl text-sm text-slate-600",children:"Premium control surface for tabletop campaigns: setup, rulebook ingestion, diarized players, live GM turns, and persistent campaign memory."})]}),(0,p.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,p.jsxs)(o1,{className:oG(eu.data?.openai_api_key_present?"border-emerald-300 text-emerald-700":"border-amber-300 text-amber-700"),children:[(0,p.jsx)(au,{className:"mr-1 size-3"})," OpenAI ",eu.data?.openai_api_key_present?"ready":"missing"]}),(0,p.jsx)(o1,{className:oG(eu.data?.deepgram_api_key_present?"border-emerald-300 text-emerald-700":""),children:"Deepgram"}),(0,p.jsx)(o1,{className:oG(eu.data?.elevenlabs_api_key_present?"border-emerald-300 text-emerald-700":""),children:"ElevenLabs"}),(0,p.jsxs)(o1,{className:oG(E?.knowledge.enabled?"border-emerald-300 text-emerald-700":""),children:[(0,p.jsx)(aw,{className:"mr-1 size-3"})," Knowledge ",E?.knowledge.enabled?"enabled":"off"]})]})]})}),(0,p.jsx)("section",{className:"flex flex-wrap gap-2",children:Object.keys(ld).map(e=>(0,p.jsx)(lt,{variant:t===e?"default":"secondary",onClick:()=>s(e),className:oG("min-w-28",t===e&&"shadow-[0_8px_22px_rgba(15,98,254,0.25)]"),children:ld[e]},e))}),(0,p.jsx)(N,{mode:"wait",children:(0,p.jsx)(nQ.section,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.22},children:E?"setup"===t?(0,p.jsxs)("div",{className:"grid gap-4 lg:grid-cols-2",children:[(0,p.jsxs)(ls,{children:[(0,p.jsxs)(li,{children:[(0,p.jsxs)(lr,{className:"flex items-center gap-2",children:[(0,p.jsx)(ak,{className:"size-4 text-sky-600"}),"One-Step Game Setup"]}),(0,p.jsx)(ln,{children:"Select system + rulebook + voice settings in one place, then save. No websocket connect required."})]}),(0,p.jsxs)(la,{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"Game System Search"}),(0,p.jsxs)("div",{className:"flex gap-2",children:[(0,p.jsx)(lo,{value:U,onChange:e=>q(e.target.value),placeholder:"Numenera, Vagabond, Blades in the Dark..."}),(0,p.jsxs)(lt,{variant:"secondary",onClick:()=>ey.mutate(U),disabled:!U.trim()||ey.isPending,children:[ey.isPending?(0,p.jsx)(af,{className:"size-4 animate-spin"}):(0,p.jsx)(ax,{className:"size-4"}),"Search"]})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"Hints"}),(0,p.jsxs)(lu,{value:K,onChange:e=>W(e.target.value),children:[0===$.length&&(0,p.jsx)("option",{value:"",children:"No hint loaded"}),$.map(e=>(0,p.jsx)("option",{value:e.id,children:e.name},e.id))]}),e$?(0,p.jsx)("p",{className:"mt-2 text-xs text-slate-600",children:e$.beginner_hint||e$.summary||"No extra hint."}):null,(0,p.jsx)("div",{className:"mt-2",children:(0,p.jsx)(lt,{variant:"secondary",onClick:eM,disabled:!e$,children:"Apply Hint"})})]}),(0,p.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"Rulebook Source"}),(0,p.jsxs)(lu,{value:E.knowledge.primary_rulebook_source,onChange:e=>eP(t=>{t.knowledge.primary_rulebook_source=e.target.value}),children:[(0,p.jsx)("option",{value:"doc",children:"Uploaded / Dropdown"}),(0,p.jsx)("option",{value:"path",children:"Server Path"})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"Ruleset Tag"}),(0,p.jsx)(lo,{value:E.knowledge.primary_rulebook_ruleset,onChange:e=>eP(t=>{t.knowledge.primary_rulebook_ruleset=e.target.value}),placeholder:"numenera / dnd5e / custom"})]})]}),"doc"===E.knowledge.primary_rulebook_source?(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"Uploaded Rulebook"}),(0,p.jsxs)(lu,{value:E.knowledge.primary_rulebook_doc_choice||"",onChange:e=>eP(t=>{t.knowledge.primary_rulebook_doc_choice=e.target.value,t.knowledge.primary_rulebook_doc_id=e.target.value}),children:[!eK.length&&(0,p.jsx)("option",{value:"",children:"No uploaded documents yet"}),eK.map(e=>(0,p.jsxs)("option",{value:e.doc_id,children:[e.doc_id," (",e.status||"uploaded",")"]},e.doc_id))]})]}):(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"Rulebook Path"}),(0,p.jsx)(lo,{value:E.knowledge.primary_rulebook_path,onChange:e=>eP(t=>{t.knowledge.primary_rulebook_path=e.target.value}),placeholder:"Numenera.pdf"})]}),(0,p.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"Auto Ingest"}),(0,p.jsxs)(lu,{value:String(E.knowledge.primary_rulebook_auto_ingest),onChange:e=>eP(t=>{t.knowledge.primary_rulebook_auto_ingest="true"===e.target.value}),children:[(0,p.jsx)("option",{value:"true",children:"Yes"}),(0,p.jsx)("option",{value:"false",children:"No"})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"Auto Activate"}),(0,p.jsxs)(lu,{value:String(E.knowledge.primary_rulebook_auto_activate),onChange:e=>eP(t=>{t.knowledge.primary_rulebook_auto_activate="true"===e.target.value}),children:[(0,p.jsx)("option",{value:"true",children:"Yes"}),(0,p.jsx)("option",{value:"false",children:"No"})]})]})]}),(0,p.jsxs)("div",{className:"space-y-2 rounded-xl border border-slate-200 bg-slate-50/70 p-3",children:[(0,p.jsx)(ll,{children:"Upload New PDF"}),(0,p.jsx)(lo,{type:"file",accept:"application/pdf",onChange:e=>H(e.target.files?.[0]||null)}),(0,p.jsxs)("div",{className:"flex gap-2",children:[(0,p.jsxs)(lt,{variant:"secondary",disabled:!Y||ev.isPending,onClick:()=>{Y&&ev.mutate(Y)},children:[ev.isPending?(0,p.jsx)(af,{className:"size-4 animate-spin"}):(0,p.jsx)(ah,{className:"size-4"}),"Upload + Select"]}),(0,p.jsxs)(lt,{variant:"secondary",disabled:eb.isPending,onClick:()=>eb.mutate(),children:[eb.isPending?(0,p.jsx)(af,{className:"size-4 animate-spin"}):(0,p.jsx)(av,{className:"size-4"}),"Sync Rulebook"]})]}),(ev.isPending||G>0)&&(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-200",children:(0,p.jsx)("div",{className:"h-full bg-[linear-gradient(90deg,#14b8a6,#0f62fe)] transition-all",style:{width:`${G}%`}})}),(0,p.jsxs)("div",{className:"mt-1 text-xs text-slate-600",children:["Upload ",G,"%"]})]})]}),(0,p.jsxs)("div",{className:"flex flex-wrap gap-2 pt-2",children:[(0,p.jsxs)(lt,{onClick:eC,disabled:ef.isPending||!P,children:[ef.isPending?(0,p.jsx)(af,{className:"size-4 animate-spin"}):(0,p.jsx)(ab,{className:"size-4"}),"Save Setup"]}),(0,p.jsx)(lt,{variant:"secondary",onClick:()=>{el.data&&(T(lp(lh(el.data))),C(!1))},disabled:!P||!el.data,children:"Revert"})]})]})]}),(0,p.jsxs)(ls,{children:[(0,p.jsxs)(li,{children:[(0,p.jsxs)(lr,{className:"flex items-center gap-2",children:[(0,p.jsx)(ay,{className:"size-4 text-sky-600"}),"Voice + Players"]}),(0,p.jsx)(ln,{children:"Assign providers, language behavior, and up to 8 player identities (with optional voiceprint labels)."})]}),(0,p.jsxs)(la,{className:"space-y-4",children:[(0,p.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"Campaign ID"}),(0,p.jsx)(lo,{value:E.voice.campaign_id,onChange:e=>eP(t=>{t.voice.campaign_id=e.target.value})})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"Locale"}),(0,p.jsx)(lo,{value:E.voice.locale,onChange:e=>eP(t=>{t.voice.locale=e.target.value}),placeholder:"en-US"})]})]}),(0,p.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"Response Language"}),(0,p.jsxs)(lu,{value:E.prompts.response_language_mode,onChange:e=>eP(t=>{t.prompts.response_language_mode=e.target.value}),children:[(0,p.jsx)("option",{value:"player",children:"Auto (follow speaking player)"}),(0,p.jsx)("option",{value:"locale",children:"Always use locale"})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"Active Player"}),(0,p.jsx)(lu,{value:E.voice.active_player_id,onChange:e=>eP(t=>{t.voice.active_player_id=e.target.value,t.voice.player_id=e.target.value}),children:E.voice.player_profiles.map(e=>(0,p.jsxs)("option",{value:e.player_id,children:[e.display_name," (",e.player_id,")"]},e.player_id))})]})]}),(0,p.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"STT Provider"}),(0,p.jsx)(lu,{value:E.openai.stt_provider,onChange:e=>eP(t=>{t.openai.stt_provider=e.target.value}),children:E.openai.stt_provider_options.map(e=>(0,p.jsx)("option",{value:e,children:e},e))})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"TTS Provider"}),(0,p.jsx)(lu,{value:E.openai.tts_provider,onChange:e=>eP(t=>{t.openai.tts_provider=e.target.value}),children:E.openai.tts_provider_options.map(e=>(0,p.jsx)("option",{value:e,children:e},e))})]})]}),(0,p.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"STT Model"}),(0,p.jsx)(lo,{value:E.openai.stt_model,onChange:e=>eP(t=>{t.openai.stt_model=e.target.value}),list:"stt-models"}),(0,p.jsx)("datalist",{id:"stt-models",children:E.openai.stt_model_options.map(e=>(0,p.jsx)("option",{value:e},e))})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"TTS Model"}),(0,p.jsx)(lo,{value:E.openai.tts_model,onChange:e=>eP(t=>{t.openai.tts_model=e.target.value}),list:"tts-models"}),(0,p.jsx)("datalist",{id:"tts-models",children:E.openai.tts_model_options.map(e=>(0,p.jsx)("option",{value:e},e))})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"TTS Voice / Voice ID"}),(0,p.jsx)(lo,{value:E.openai.tts_voice,onChange:e=>eP(t=>{t.openai.tts_voice=e.target.value}),placeholder:"Paste ElevenLabs voice_id or OpenAI preset"})]}),"elevenlabs"===E.openai.tts_provider?(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"ElevenLabs Voice Dropdown"}),(0,p.jsxs)("div",{className:"flex gap-2",children:[(0,p.jsxs)(lu,{value:(em.data||[]).some(e=>e.voice_id===E.openai.tts_voice)?E.openai.tts_voice:"",onChange:e=>eP(t=>{t.openai.tts_voice=e.target.value}),children:[(0,p.jsx)("option",{value:"",children:"Select voice id (optional)"}),(em.data||[]).map(e=>(0,p.jsxs)("option",{value:e.voice_id,children:[e.name," (",e.voice_id,")"]},e.voice_id))]}),(0,p.jsx)(lt,{variant:"secondary",onClick:()=>em.refetch(),children:"Refresh"})]})]}):null,(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"Player Profiles (up to 8)"}),(0,p.jsxs)("div",{className:"space-y-2 rounded-xl border border-slate-200 bg-slate-50/70 p-3",children:[E.voice.player_profiles.map((e,t)=>(0,p.jsxs)("div",{className:"grid gap-2 sm:grid-cols-[1fr_1fr_auto]",children:[(0,p.jsx)(lo,{value:e.display_name,onChange:e=>eP(s=>{s.voice.player_profiles[t].display_name=e.target.value}),placeholder:"Display name"}),(0,p.jsx)(lo,{value:e.player_id,onChange:e=>eP(s=>{s.voice.player_profiles[t].player_id=oX(e.target.value,`player${t+1}`)}),placeholder:"player id"}),(0,p.jsx)(lt,{variant:"ghost",disabled:E.voice.player_profiles.length<=1,onClick:()=>eP(e=>{e.voice.player_profiles.splice(t,1)}),children:"Remove"})]},`${e.player_id}_${t}`)),(0,p.jsx)(lt,{variant:"secondary",disabled:E.voice.player_profiles.length>=8,onClick:()=>eP(e=>{let t=e.voice.player_profiles.length+1;e.voice.player_profiles.push({player_id:`player${t}`,display_name:`Player ${t}`,voice_profile:""})}),children:"Add Player"})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"LLM Model"}),(0,p.jsx)(lo,{value:E.openai.llm_model,onChange:e=>eP(t=>{t.openai.llm_model=e.target.value}),list:"llm-models"}),(0,p.jsx)("datalist",{id:"llm-models",children:E.openai.llm_model_options.map(e=>(0,p.jsx)("option",{value:e},e))})]}),(0,p.jsxs)(lt,{onClick:eC,disabled:ef.isPending||!P,children:[ef.isPending?(0,p.jsx)(af,{className:"size-4 animate-spin"}):(0,p.jsx)(ab,{className:"size-4"}),"Save Voice + Players"]})]})]}),(0,p.jsxs)(ls,{className:"lg:col-span-2",children:[(0,p.jsxs)(li,{children:[(0,p.jsxs)(lr,{className:"flex items-center gap-2",children:[(0,p.jsx)(am,{className:"size-4 text-sky-600"}),"API Keys (Editable Without Connect)"]}),(0,p.jsxs)(ln,{children:["Changes are written to ",(0,p.jsx)("code",{children:".env"})," and process environment immediately. Some live STT/TTS sessions may still require restart."]})]}),(0,p.jsxs)(la,{className:"grid gap-4 lg:grid-cols-2",children:[lc.map(e=>{let t=eQ[e.key],s=er[e.key]||"keep";return(0,p.jsxs)("div",{className:"space-y-2 rounded-xl border border-slate-200 bg-slate-50/70 p-3",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)(ll,{className:"mb-0",children:e.label}),(0,p.jsx)(o1,{className:oG(t?.present?"border-emerald-300 text-emerald-700":""),children:t?.present?t.masked||"set":"not set"})]}),(0,p.jsxs)(lu,{value:s,onChange:t=>en(s=>({...s,[e.key]:t.target.value})),children:[(0,p.jsx)("option",{value:"keep",children:"Keep current"}),(0,p.jsx)("option",{value:"set",children:"Set / update"}),(0,p.jsx)("option",{value:"clear",children:"Clear value"})]}),"set"===s?(0,p.jsx)(lo,{type:e.key.includes("KEY")?"password":"text",value:ea[e.key]||"",onChange:t=>eo(s=>({...s,[e.key]:t.target.value})),placeholder:e.key.includes("KEY")?"paste secret":"https://api.openai.com/v1"}):null]},e.key)}),(0,p.jsx)("div",{className:"lg:col-span-2",children:(0,p.jsxs)(lt,{onClick:()=>{let e={},t=[];for(let s of lc){let i=er[s.key]||"keep";if("set"===i){let t=(ea[s.key]||"").trim();t&&(e[s.key]=t)}"clear"===i&&t.push(s.key)}Object.keys(e).length||t.length?eg.mutate({updates:Object.keys(e).length?e:void 0,clear_keys:t.length?t:void 0}):aE.toast.message("No secret changes to save.")},disabled:eg.isPending,children:[eg.isPending?(0,p.jsx)(af,{className:"size-4 animate-spin"}):(0,p.jsx)(ab,{className:"size-4"}),"Save API Keys"]})})]})]})]}):"play"===t?(0,p.jsxs)("div",{className:"grid gap-4 lg:grid-cols-[320px_1fr]",children:[(0,p.jsxs)(ls,{children:[(0,p.jsxs)(li,{children:[(0,p.jsxs)(lr,{className:"flex items-center gap-2",children:[(0,p.jsx)(aj,{className:"size-4 text-sky-600"}),"Realtime Control"]}),(0,p.jsx)(ln,{children:"Use websocket for live turns. Manual text input works even without microphone."})]}),(0,p.jsxs)(la,{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"WebSocket URL"}),(0,p.jsx)(lo,{value:n,onChange:e=>a(e.target.value)})]}),(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,p.jsxs)(lt,{onClick:ez,disabled:"connecting"===i||"connected"===i,children:["connecting"===i?(0,p.jsx)(af,{className:"size-4 animate-spin"}):(0,p.jsx)(al,{className:"size-4"}),"Connect"]}),(0,p.jsx)(lt,{variant:"secondary",onClick:eU,disabled:"disconnected"===i,children:"Disconnect"})]}),(0,p.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[(0,p.jsx)("span",{className:oG("inline-block size-2 rounded-full","connected"===i?"bg-emerald-500":"connecting"===i?"bg-amber-500":"bg-slate-400")}),i]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"Active Speaker"}),(0,p.jsx)(lu,{value:E.voice.active_player_id,onChange:e=>eP(t=>{t.voice.active_player_id=e.target.value,t.voice.player_id=e.target.value}),children:E.voice.player_profiles.map(e=>(0,p.jsxs)("option",{value:e.player_id,children:[e.display_name," (",e.player_id,")"]},e.player_id))})]}),(0,p.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"Voice Mode"}),(0,p.jsxs)(lu,{value:R,onChange:e=>_(e.target.value),children:[(0,p.jsx)("option",{value:"ptt",children:"Push-To-Talk"}),(0,p.jsx)("option",{value:"auto",children:"Auto VAD"})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"Mic Status"}),(0,p.jsxs)("div",{className:"flex h-10 items-center gap-2 rounded-xl border border-slate-200 bg-white px-3 text-sm text-slate-700",children:[(0,p.jsx)("span",{className:oG("inline-block size-2 rounded-full","ready"===B?"bg-emerald-500":"error"===B?"bg-rose-500":"bg-slate-400")}),B]})]})]}),(0,p.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50/80 p-3",children:[(0,p.jsxs)("div",{className:"mb-1 flex items-center justify-between text-xs text-slate-600",children:[(0,p.jsx)("span",{children:"VAD Threshold"}),(0,p.jsx)("span",{children:O.toFixed(3)})]}),(0,p.jsx)("input",{type:"range",min:.005,max:.08,step:.001,value:O,onChange:e=>D(Number(e.target.value)),className:"w-full"}),(0,p.jsxs)("div",{className:"mt-3 mb-1 flex items-center justify-between text-xs text-slate-600",children:[(0,p.jsx)("span",{children:"VAD Level"}),(0,p.jsx)("span",{children:V.toFixed(3)})]}),(0,p.jsx)("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-200",children:(0,p.jsx)("div",{className:oG("h-full transition-all",L?"bg-[linear-gradient(90deg,#22c55e,#0ea5e9)]":"bg-[linear-gradient(90deg,#0ea5e9,#2563eb)]"),style:{width:`${Math.max(2,Math.min(100,1200*V))}%`}})})]}),(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,p.jsx)(lt,{variant:L?"danger":"secondary",disabled:"connected"!==i||"ptt"!==R,onPointerDown:e=>{"ptt"===R&&(e.preventDefault(),eV())},onPointerUp:e=>{"ptt"===R&&(e.preventDefault(),eI())},onPointerCancel:()=>{"ptt"===R&&eI()},onPointerLeave:e=>{"ptt"===R&&L&&0===e.buttons&&eI()},onKeyDown:e=>{"ptt"===R&&(" "!==e.key&&"Enter"!==e.key||e.repeat||(e.preventDefault(),eV()))},onKeyUp:e=>{"ptt"===R&&(" "===e.key||"Enter"===e.key)&&(e.preventDefault(),eI())},children:L?"Talking... release":"Hold To Talk"}),(0,p.jsx)(lt,{variant:"secondary",onClick:()=>{eF(),"connected"===i&&eB()},children:"Restart Mic"})]}),(0,p.jsx)("div",{className:"rounded-xl border border-slate-200 bg-slate-50/80 p-3 text-xs text-slate-600",children:"auto"===R?"Auto VAD is enabled. Speak naturally and the app will send start/stop turns automatically.":"Push-To-Talk mode is enabled. Hold the talk button while speaking."}),(0,p.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50/80 p-3 text-xs text-slate-600",children:["Need the original full console too?",(0,p.jsx)("a",{className:"ml-1 font-semibold text-sky-700 underline",href:"/legacy/index.html",target:"_blank",rel:"noreferrer",children:"/legacy/index.html"})]})]})]}),(0,p.jsxs)(ls,{children:[(0,p.jsxs)(li,{children:[(0,p.jsxs)(lr,{className:"flex items-center gap-2",children:[(0,p.jsx)(ag,{className:"size-4 text-sky-600"}),"GM Conversation"]}),(0,p.jsx)(ln,{children:"Manual transcript input is the fastest way to validate rulebook retrieval and GM behavior."})]}),(0,p.jsxs)(la,{className:"space-y-4",children:[(0,p.jsx)("div",{className:"h-[460px] overflow-y-auto rounded-xl border border-slate-200 bg-slate-50 p-3",children:0===o.length?(0,p.jsx)("div",{className:"text-sm text-slate-500",children:"No messages yet."}):(0,p.jsx)("div",{className:"space-y-2",children:o.map(e=>(0,p.jsxs)("div",{className:oG("rounded-xl border px-3 py-2 text-sm","gm"===e.role&&"border-emerald-200 bg-emerald-50","player"===e.role&&"border-sky-200 bg-sky-50","system"===e.role&&"border-slate-200 bg-white","error"===e.role&&"border-rose-200 bg-rose-50"),children:[(0,p.jsx)("div",{className:"mb-0.5 text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:e.speaker}),(0,p.jsx)("div",{children:e.text})]},e.id))})}),(0,p.jsxs)("div",{className:"flex gap-2",children:[(0,p.jsx)(lo,{value:M,onChange:e=>A(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),eq())},placeholder:"Type player action or dialogue..."}),(0,p.jsx)(lt,{onClick:eq,disabled:!M.trim()||"connected"!==i,children:"Send"}),(0,p.jsx)(lt,{variant:"ghost",onClick:u,children:"Clear"})]})]})]})]}):(0,p.jsxs)("div",{className:"grid gap-4 lg:grid-cols-2",children:[(0,p.jsxs)(ls,{children:[(0,p.jsxs)(li,{children:[(0,p.jsxs)(lr,{className:"flex items-center gap-2",children:[(0,p.jsx)(ad,{className:"size-4 text-sky-600"}),"Knowledge (Qdrant / PDF)"]}),(0,p.jsx)(ln,{children:"Advanced controls for retrieval backend, active docs, ingest/delete, and direct searches."})]}),(0,p.jsxs)(la,{className:"space-y-4",children:[(0,p.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"Knowledge Enabled"}),(0,p.jsxs)(lu,{value:String(E.knowledge.enabled),onChange:e=>eP(t=>{t.knowledge.enabled="true"===e.target.value}),children:[(0,p.jsx)("option",{value:"true",children:"Yes"}),(0,p.jsx)("option",{value:"false",children:"No"})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"Backend"}),(0,p.jsxs)(lu,{value:E.knowledge.backend,onChange:e=>eP(t=>{t.knowledge.backend=e.target.value}),children:[(0,p.jsx)("option",{value:"local",children:"local"}),(0,p.jsx)("option",{value:"remote",children:"remote"})]})]})]}),(0,p.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"Top K"}),(0,p.jsx)(lo,{type:"number",min:1,max:20,value:E.knowledge.top_k,onChange:e=>eP(t=>{t.knowledge.top_k=Math.max(1,Math.min(20,Number(e.target.value||5)))})})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"Local Path"}),(0,p.jsx)(lo,{value:E.knowledge.local_path,onChange:e=>eP(t=>{t.knowledge.local_path=e.target.value})})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(ll,{children:"Qdrant URL"}),(0,p.jsx)(lo,{value:E.knowledge.qdrant_url,onChange:e=>eP(t=>{t.knowledge.qdrant_url=e.target.value})})]}),(0,p.jsxs)("div",{className:"rounded-xl border border-slate-200",children:[(0,p.jsxs)("div",{className:"grid grid-cols-[1fr_auto_auto_auto] gap-2 border-b border-slate-200 bg-slate-50 px-3 py-2 text-[11px] font-semibold uppercase tracking-wide text-slate-600",children:[(0,p.jsx)("div",{children:"Document"}),(0,p.jsx)("div",{children:"Status"}),(0,p.jsx)("div",{children:"Use"}),(0,p.jsx)("div",{children:"Actions"})]}),(0,p.jsx)("div",{className:"max-h-72 overflow-y-auto",children:0===eK.length?(0,p.jsx)("div",{className:"px-3 py-4 text-sm text-slate-500",children:"No docs uploaded yet."}):eK.map(e=>{let t=eW.includes(e.doc_id);return(0,p.jsxs)("div",{className:"grid grid-cols-[1fr_auto_auto_auto] items-center gap-2 border-b border-slate-100 px-3 py-2 text-xs",children:[(0,p.jsxs)("div",{className:"min-w-0",children:[(0,p.jsx)("div",{className:"truncate font-semibold text-slate-800",children:e.doc_id}),(0,p.jsx)("div",{className:"truncate text-slate-500",children:e.filename||e.path||""})]}),(0,p.jsx)(o1,{children:e.status||"uploaded"}),(0,p.jsx)("input",{type:"checkbox",checked:t,onChange:t=>eP(s=>{let i=new Set(s.knowledge.active_doc_ids||[]);t.target.checked?i.add(e.doc_id):i.delete(e.doc_id),s.knowledge.active_doc_ids=Array.from(i)})}),(0,p.jsxs)("div",{className:"flex gap-1",children:[(0,p.jsx)(lt,{size:"sm",variant:"ghost",onClick:()=>ex.mutate(e.doc_id),disabled:ex.isPending,children:"Ingest"}),(0,p.jsx)(lt,{size:"sm",variant:"ghost",onClick:()=>ew.mutate(e.doc_id),disabled:ew.isPending,children:(0,p.jsx)(aS,{className:"size-3.5"})})]})]},e.doc_id)})})]}),(0,p.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,p.jsxs)(lt,{onClick:eC,disabled:ef.isPending||!P,children:[ef.isPending?(0,p.jsx)(af,{className:"size-4 animate-spin"}):(0,p.jsx)(ab,{className:"size-4"}),"Save Advanced Settings"]}),(0,p.jsxs)(lt,{variant:"secondary",onClick:()=>eb.mutate(),disabled:eb.isPending,children:[eb.isPending?(0,p.jsx)(af,{className:"size-4 animate-spin"}):(0,p.jsx)(av,{className:"size-4"}),"Sync Rulebook Now"]})]})]})]}),(0,p.jsxs)(ls,{children:[(0,p.jsxs)(li,{children:[(0,p.jsxs)(lr,{className:"flex items-center gap-2",children:[(0,p.jsx)(ax,{className:"size-4 text-sky-600"}),"Retrieval + Memory"]}),(0,p.jsx)(ln,{children:"Confirm your game is actually using PDFs and campaign memory."})]}),(0,p.jsxs)(la,{className:"space-y-4",children:[(0,p.jsxs)("div",{className:"space-y-2 rounded-xl border border-slate-200 bg-slate-50/70 p-3",children:[(0,p.jsx)(ll,{children:"Knowledge Search"}),(0,p.jsxs)("div",{className:"flex gap-2",children:[(0,p.jsx)(lo,{value:J,onChange:e=>Z(e.target.value),placeholder:"Ask a rules question..."}),(0,p.jsxs)(lt,{variant:"secondary",disabled:!J.trim()||ek.isPending,onClick:()=>ek.mutate(J),children:[ek.isPending?(0,p.jsx)(af,{className:"size-4 animate-spin"}):(0,p.jsx)(ax,{className:"size-4"}),"Run"]})]}),(0,p.jsx)("div",{className:"max-h-48 space-y-2 overflow-y-auto",children:0===ee.length?(0,p.jsx)("div",{className:"text-xs text-slate-500",children:"No search results yet."}):ee.map((e,t)=>(0,p.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white p-2 text-xs",children:[(0,p.jsxs)("div",{className:"mb-1 font-semibold text-slate-700",children:["score: ",(e.score||0).toFixed?.(3)||e.score]}),(0,p.jsx)("div",{className:"line-clamp-4 text-slate-600",children:String(e.text||"")})]},`${t}_${String(e.score||0)}`))})]}),(0,p.jsxs)("div",{className:"space-y-2 rounded-xl border border-slate-200 bg-slate-50/70 p-3",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)(ll,{className:"mb-0",children:"Memory"}),(0,p.jsxs)(lu,{value:es,onChange:e=>ei(e.target.value),className:"w-40",children:[(0,p.jsx)("option",{value:"campaign",children:"Campaign"}),(0,p.jsx)("option",{value:"session",children:"Session"}),(0,p.jsx)("option",{value:"player",children:"Player"})]})]}),(0,p.jsx)("div",{className:"max-h-56 space-y-2 overflow-y-auto",children:ep.isLoading?(0,p.jsx)("div",{className:"text-xs text-slate-500",children:"Loading memory..."}):0===(ep.data||[]).length?(0,p.jsx)("div",{className:"text-xs text-slate-500",children:"No memory rows."}):(ep.data||[]).map((e,t)=>(0,p.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white p-2 text-xs",children:[(0,p.jsx)("div",{className:"mb-1 text-slate-500",children:e.ts||"timestamp unknown"}),(0,p.jsxs)("div",{className:"text-slate-700",children:[(0,p.jsxs)("span",{className:"font-semibold",children:[e.player_id||"player",":"]})," ",e.player_text||""]}),(0,p.jsxs)("div",{className:"text-slate-700",children:[(0,p.jsx)("span",{className:"font-semibold",children:"GM:"})," ",e.gm_text||""]})]},`${t}_${e.ts||""}`))}),(0,p.jsxs)("div",{className:"flex gap-2",children:[(0,p.jsx)(lt,{variant:"secondary",onClick:()=>ep.refetch(),children:"Refresh"}),(0,p.jsx)(lt,{variant:"danger",onClick:()=>eS.mutate(),disabled:eS.isPending,children:"Clear Memory"})]})]}),(0,p.jsxs)("div",{className:"space-y-2 rounded-xl border border-slate-200 bg-slate-50/70 p-3",children:[(0,p.jsx)(ll,{children:"Campaign Controls"}),(0,p.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,p.jsx)(lt,{variant:"secondary",onClick:()=>ej.mutate(),disabled:ej.isPending,children:"New Campaign"}),(0,p.jsx)(lt,{variant:"secondary",onClick:()=>eE.mutate(),disabled:eE.isPending,children:"Resume Latest"}),(0,p.jsx)(lt,{variant:"danger",onClick:()=>eT.mutate(),disabled:eT.isPending,children:"Reset Campaign"})]})]})]})]})]}):(0,p.jsx)(ls,{children:(0,p.jsxs)(la,{className:"py-16 text-center",children:[(0,p.jsx)(af,{className:"mx-auto mb-3 size-6 animate-spin text-sky-600"}),(0,p.jsx)("div",{className:"text-sm text-slate-600",children:"Loading settings..."})]})})},t)}),(0,p.jsxs)("section",{className:"grid gap-3 rounded-2xl border border-slate-200 bg-white/70 p-4 text-xs text-slate-600 md:grid-cols-3",children:[(0,p.jsxs)("div",{className:"flex items-start gap-2",children:[(0,p.jsx)(ap,{className:"mt-0.5 size-4 text-sky-600"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"font-semibold text-slate-800",children:"Language routing"}),"GM responses follow speaker language when ",(0,p.jsx)("code",{children:"response_language_mode=player"}),"."]})]}),(0,p.jsxs)("div",{className:"flex items-start gap-2",children:[(0,p.jsx)(ad,{className:"mt-0.5 size-4 text-sky-600"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"font-semibold text-slate-800",children:"Rulebook + Qdrant"}),"Retrieval uses active docs only. Use Advanced tab search to verify citations and scoring."]})]}),(0,p.jsxs)("div",{className:"flex items-start gap-2",children:[(0,p.jsx)(ac,{className:"mt-0.5 size-4 text-sky-600"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"font-semibold text-slate-800",children:"Save without connect"}),"Settings, API keys, uploads, and memory controls all work via HTTP APIs, no websocket connect required."]})]})]})]})]})}e.s(["GameMasterStudio",()=>lf],19127)},21429,e=>{"use strict";var t=e.i(60631),s=e.i(10925),i=e.i(70154),r=e.i(44243),n=e.i(93184),a=e.i(19184),o=class extends a.Subscribable{constructor(e={}){super(),this.config=e,this.#q=new Map}#q;build(e,t,s){let n=t.queryKey,a=t.queryHash??(0,i.hashQueryKeyByOptions)(n,t),o=this.get(a);return o||(o=new r.Query({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){this.#q.has(e.queryHash)||(this.#q.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#q.get(e.queryHash);t&&(e.destroy(),t===e&&this.#q.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){n.notifyManager.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#q.get(e)}getAll(){return[...this.#q.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,i.matchQuery)(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>(0,i.matchQuery)(e,t)):t}notify(e){n.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){n.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){n.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},l=e.i(39087),u=a,d=class extends u.Subscribable{constructor(e={}){super(),this.config=e,this.#$=new Set,this.#Q=new Map,this.#K=0}#$;#Q;#K;build(e,t,s){let i=new l.Mutation({client:e,mutationCache:this,mutationId:++this.#K,options:e.defaultMutationOptions(t),state:s});return this.add(i),i}add(e){this.#$.add(e);let t=c(e);if("string"==typeof t){let s=this.#Q.get(t);s?s.push(e):this.#Q.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#$.delete(e)){let t=c(e);if("string"==typeof t){let s=this.#Q.get(t);if(s)if(s.length>1){let t=s.indexOf(e);-1!==t&&s.splice(t,1)}else s[0]===e&&this.#Q.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){let t=c(e);if("string"!=typeof t)return!0;{let s=this.#Q.get(t),i=s?.find(e=>"pending"===e.state.status);return!i||i===e}}runNext(e){let t=c(e);if("string"!=typeof t)return Promise.resolve();{let s=this.#Q.get(t)?.find(t=>t!==e&&t.state.isPaused);return s?.continue()??Promise.resolve()}}clear(){n.notifyManager.batch(()=>{this.#$.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#$.clear(),this.#Q.clear()})}getAll(){return Array.from(this.#$)}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,i.matchMutation)(t,e))}findAll(e={}){return this.getAll().filter(t=>(0,i.matchMutation)(e,t))}notify(e){n.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return n.notifyManager.batch(()=>Promise.all(e.map(e=>e.continue().catch(i.noop))))}};function c(e){return e.options.scope?.id}var h=e.i(31305),p=e.i(74352);function m(e){return{onFetch:(t,s)=>{let r=t.options,n=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],o=t.state.data?.pageParams||[],l={pages:[],pageParams:[]},u=0,d=async()=>{let s=!1,d=(0,i.ensureQueryFn)(t.options,t.fetchOptions),c=async(e,r,n)=>{let a;if(s)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);let o=(a={client:t.client,queryKey:t.queryKey,pageParam:r,direction:n?"backward":"forward",meta:t.options.meta},(0,i.addConsumeAwareSignal)(a,()=>t.signal,()=>s=!0),a),l=await d(o),{maxPages:u}=t.options,c=n?i.addToStart:i.addToEnd;return{pages:c(e.pages,l,u),pageParams:c(e.pageParams,r,u)}};if(n&&a.length){let e="backward"===n,t={pages:a,pageParams:o},s=(e?function(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}:f)(r,t);l=await c(t,s,e)}else{let t=e??a.length;do{let e=0===u?o[0]??r.initialPageParam:f(r,l);if(u>0&&null==e)break;l=await c(l,e),u++}while(u<t)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=d}}}function f(e,{pages:t,pageParams:s}){let i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,s[i],s):void 0}var g=class{#W;#g;#h;#Y;#H;#G;#X;#J;constructor(e={}){this.#W=e.queryCache||new o,this.#g=e.mutationCache||new d,this.#h=e.defaultOptions||{},this.#Y=new Map,this.#H=new Map,this.#G=0}mount(){this.#G++,1===this.#G&&(this.#X=h.focusManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#W.onFocus())}),this.#J=p.onlineManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#W.onOnline())}))}unmount(){this.#G--,0===this.#G&&(this.#X?.(),this.#X=void 0,this.#J?.(),this.#J=void 0)}isFetching(e){return this.#W.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#g.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#W.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),s=this.#W.build(this,t),r=s.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime((0,i.resolveStaleTime)(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#W.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,s){let r=this.defaultQueryOptions({queryKey:e}),n=this.#W.get(r.queryHash),a=n?.state.data,o=(0,i.functionalUpdate)(t,a);if(void 0!==o)return this.#W.build(this,r).setData(o,{...s,manual:!0})}setQueriesData(e,t,s){return n.notifyManager.batch(()=>this.#W.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,s)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#W.get(t.queryHash)?.state}removeQueries(e){let t=this.#W;n.notifyManager.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let s=this.#W;return n.notifyManager.batch(()=>(s.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){let s={revert:!0,...t};return Promise.all(n.notifyManager.batch(()=>this.#W.findAll(e).map(e=>e.cancel(s)))).then(i.noop).catch(i.noop)}invalidateQueries(e,t={}){return n.notifyManager.batch(()=>(this.#W.findAll(e).forEach(e=>{e.invalidate()}),e?.refetchType==="none")?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))}refetchQueries(e,t={}){let s={...t,cancelRefetch:t.cancelRefetch??!0};return Promise.all(n.notifyManager.batch(()=>this.#W.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,s);return s.throwOnError||(t=t.catch(i.noop)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(i.noop)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let s=this.#W.build(this,t);return s.isStaleByTime((0,i.resolveStaleTime)(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(i.noop).catch(i.noop)}fetchInfiniteQuery(e){return e.behavior=m(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(i.noop).catch(i.noop)}ensureInfiniteQueryData(e){return e.behavior=m(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return p.onlineManager.isOnline()?this.#g.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#W}getMutationCache(){return this.#g}getDefaultOptions(){return this.#h}setDefaultOptions(e){this.#h=e}setQueryDefaults(e,t){this.#Y.set((0,i.hashKey)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#Y.values()],s={};return t.forEach(t=>{(0,i.partialMatchKey)(e,t.queryKey)&&Object.assign(s,t.defaultOptions)}),s}setMutationDefaults(e,t){this.#H.set((0,i.hashKey)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#H.values()],s={};return t.forEach(t=>{(0,i.partialMatchKey)(e,t.mutationKey)&&Object.assign(s,t.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#h.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,i.hashQueryKeyByOptions)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===i.skipToken&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#h.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#W.clear(),this.#g.clear()}},y=e.i(89101),v=e.i(28841);function b({children:e}){let[i]=s.useState(()=>new g({defaultOptions:{queries:{staleTime:8e3,retry:1,refetchOnWindowFocus:!1}}}));return(0,t.jsxs)(y.QueryClientProvider,{client:i,children:[e,(0,t.jsx)(v.Toaster,{richColors:!0,position:"top-right"})]})}e.s(["AppProviders",()=>b],21429)}]);